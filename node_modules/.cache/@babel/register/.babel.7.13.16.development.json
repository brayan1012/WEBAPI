{
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\index.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _app = _interopRequireDefault(require(\"./app\"));\n\nrequire(\"./database\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_app.default.set('port', process.env.PORT || 3000);\n\n_app.default.listen(_app.default.get('port'), () => {\n  console.log('Server listen on port', 3000);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0IiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUVJQSxhQUFJQyxHQUFKLENBQVEsTUFBUixFQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBa0IsSUFBbEM7O0FBQ0FKLGFBQUlLLE1BQUosQ0FBV0wsYUFBSU0sR0FBSixDQUFRLE1BQVIsQ0FBWCxFQUE0QixNQUFJO0FBQzVCQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSx1QkFBWixFQUFxQyxJQUFyQztBQUNILENBRkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBwIGZyb20gJy4vYXBwJ1xyXG5pbXBvcnQgJy4vZGF0YWJhc2UnXHJcblxyXG4gICAgYXBwLnNldCgncG9ydCcsIHByb2Nlc3MuZW52LlBPUlR8fDMwMDApO1xyXG4gICAgYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpPT57XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBsaXN0ZW4gb24gcG9ydCcsIDMwMDApO1xyXG4gICAgfSlcclxuXHJcblxyXG5cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "set",
        "process",
        "env",
        "PORT",
        "listen",
        "get",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;;;AAEIA,aAAIC,GAAJ,CAAQ,MAAR,EAAgBC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAkB,IAAlC;;AACAJ,aAAIK,MAAJ,CAAWL,aAAIM,GAAJ,CAAQ,MAAR,CAAX,EAA4B,MAAI;AAC5BC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqC,IAArC;AACH,CAFD",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "sourcesContent": [
        "import app from './app'\r\nimport './database'\r\n\r\n    app.set('port', process.env.PORT||3000);\r\n    app.listen(app.get('port'), ()=>{\r\n        console.log('Server listen on port', 3000);\r\n    })\r\n\r\n\r\n\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1619139377166
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\app.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\app.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressHandlebars = _interopRequireDefault(require(\"express-handlebars\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _package = _interopRequireDefault(require(\"../package.json\"));\n\nvar _connectFlash = _interopRequireDefault(require(\"connect-flash\"));\n\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\n\nvar _methodOverride = _interopRequireDefault(require(\"method-override\"));\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _cookieParser = _interopRequireDefault(require(\"cookie-parser\"));\n\nvar _initialSetup = require(\"./libs/initialSetup\");\n\nvar _products = _interopRequireDefault(require(\"./routes/products.routes\"));\n\nvar _auth = _interopRequireDefault(require(\"./routes/auth.routes\"));\n\nvar _user = _interopRequireDefault(require(\"./routes/user.routes\"));\n\nvar _routes = _interopRequireDefault(require(\"./routes\"));\n\nvar _chart = _interopRequireDefault(require(\"chart.js\"));\n\nvar _killport = _interopRequireDefault(require(\"killport\"));\n\nrequire(\"./config/passport\");\n\nvar _process = require(\"process\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//iniciacion app\nconst app = (0, _express.default)();\n(0, _initialSetup.createRoles)(); //settings\n\napp.set('pkg', _package.default);\napp.set('views', _path.default.join(__dirname, 'views'));\napp.engine('.hbs', (0, _expressHandlebars.default)({\n  defaultLayout: 'main',\n  layoutsDir: _path.default.join(app.get('views'), 'layouts'),\n  partialsDir: _path.default.join(app.get('views'), 'partials'),\n  extname: '.hbs'\n}));\napp.set('view engine', '.hbs'); //Middlewares\n\napp.use((0, _morgan.default)('dev'));\napp.use(_express.default.urlencoded({\n  extended: false\n}));\napp.use((0, _methodOverride.default)('_method'));\napp.use((0, _expressSession.default)({\n  secret: 'mysecretapp',\n  resave: true,\n  saveUninitialized: true\n}));\napp.use(_passport.default.initialize());\napp.use(_passport.default.session());\napp.use((0, _connectFlash.default)());\napp.use(_express.default.json()); //Global Variables\n\napp.use((req, res, next) => {\n  res.locals.success_msg = req.flash('success_msg');\n  res.locals.error_msg = req.flash('error_msg');\n  res.locals.user = req.session.mail;\n  res.locals.rol = req.session.rol;\n  next();\n}); //Static Files\n\napp.use(_express.default.static(_path.default.join(__dirname, 'public'))); //Server is listenning\n// Welcome Routes\n\napp.use(require('./routes/index'));\napp.use(require('./routes/productos'));\napp.use(require('./routes/users')); //Routes\n\napp.use('/api/products', _products.default);\napp.use('/api/auth', _auth.default);\napp.use('/api/users', _user.default);\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJzZXQiLCJwa2ciLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImVuZ2luZSIsImRlZmF1bHRMYXlvdXQiLCJsYXlvdXRzRGlyIiwiZ2V0IiwicGFydGlhbHNEaXIiLCJleHRuYW1lIiwidXNlIiwiZXhwcmVzcyIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNlY3JldCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwicGFzc3BvcnQiLCJpbml0aWFsaXplIiwic2Vzc2lvbiIsImpzb24iLCJyZXEiLCJyZXMiLCJuZXh0IiwibG9jYWxzIiwic3VjY2Vzc19tc2ciLCJmbGFzaCIsImVycm9yX21zZyIsInVzZXIiLCJtYWlsIiwicm9sIiwic3RhdGljIiwicmVxdWlyZSIsInByb2R1Y3RzUm91dGVzIiwiYXV0aFJvdXRlcyIsInVzZXJzUm91dGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTtBQUNBLE1BQU1BLEdBQUcsR0FBRyx1QkFBWjtBQUNBLGlDLENBRUE7O0FBQ0FBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEtBQVIsRUFBZUMsZ0JBQWY7QUFFQUYsR0FBRyxDQUFDQyxHQUFKLENBQVEsT0FBUixFQUFpQkUsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLE9BQXJCLENBQWpCO0FBQ0FMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLE1BQVgsRUFBbUIsZ0NBQU87QUFDdEJDLEVBQUFBLGFBQWEsRUFBRSxNQURPO0FBRXRCQyxFQUFBQSxVQUFVLEVBQUVMLGNBQUtDLElBQUwsQ0FBVUosR0FBRyxDQUFDUyxHQUFKLENBQVEsT0FBUixDQUFWLEVBQTRCLFNBQTVCLENBRlU7QUFHdEJDLEVBQUFBLFdBQVcsRUFBRVAsY0FBS0MsSUFBTCxDQUFVSixHQUFHLENBQUNTLEdBQUosQ0FBUSxPQUFSLENBQVYsRUFBNEIsVUFBNUIsQ0FIUztBQUl0QkUsRUFBQUEsT0FBTyxFQUFFO0FBSmEsQ0FBUCxDQUFuQjtBQU9BWCxHQUFHLENBQUNDLEdBQUosQ0FBUSxhQUFSLEVBQXNCLE1BQXRCLEUsQ0FDQTs7QUFDQUQsR0FBRyxDQUFDWSxHQUFKLENBQVEscUJBQU8sS0FBUCxDQUFSO0FBQ0FaLEdBQUcsQ0FBQ1ksR0FBSixDQUFRQyxpQkFBUUMsVUFBUixDQUFtQjtBQUFDQyxFQUFBQSxRQUFRLEVBQUU7QUFBWCxDQUFuQixDQUFSO0FBQ0FmLEdBQUcsQ0FBQ1ksR0FBSixDQUFRLDZCQUFlLFNBQWYsQ0FBUjtBQUNBWixHQUFHLENBQUNZLEdBQUosQ0FBUSw2QkFBUTtBQUNaSSxFQUFBQSxNQUFNLEVBQUUsYUFESTtBQUVaQyxFQUFBQSxNQUFNLEVBQUUsSUFGSTtBQUdaQyxFQUFBQSxpQkFBaUIsRUFBRTtBQUhQLENBQVIsQ0FBUjtBQU1BbEIsR0FBRyxDQUFDWSxHQUFKLENBQVFPLGtCQUFTQyxVQUFULEVBQVI7QUFDQXBCLEdBQUcsQ0FBQ1ksR0FBSixDQUFRTyxrQkFBU0UsT0FBVCxFQUFSO0FBQ0FyQixHQUFHLENBQUNZLEdBQUosQ0FBUSw0QkFBUjtBQUNBWixHQUFHLENBQUNZLEdBQUosQ0FBUUMsaUJBQVFTLElBQVIsRUFBUixFLENBQ0E7O0FBQ0F0QixHQUFHLENBQUNZLEdBQUosQ0FBUSxDQUFDVyxHQUFELEVBQUtDLEdBQUwsRUFBU0MsSUFBVCxLQUFnQjtBQUNwQkQsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdDLFdBQVgsR0FBd0JKLEdBQUcsQ0FBQ0ssS0FBSixDQUFVLGFBQVYsQ0FBeEI7QUFDQUosRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdHLFNBQVgsR0FBc0JOLEdBQUcsQ0FBQ0ssS0FBSixDQUFVLFdBQVYsQ0FBdEI7QUFDQUosRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdJLElBQVgsR0FBa0JQLEdBQUcsQ0FBQ0YsT0FBSixDQUFZVSxJQUE5QjtBQUNBUCxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBV00sR0FBWCxHQUFpQlQsR0FBRyxDQUFDRixPQUFKLENBQVlXLEdBQTdCO0FBQ0FQLEVBQUFBLElBQUk7QUFDUCxDQU5ELEUsQ0FRQTs7QUFDQXpCLEdBQUcsQ0FBQ1ksR0FBSixDQUFRQyxpQkFBUW9CLE1BQVIsQ0FBZTlCLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFvQixRQUFwQixDQUFmLENBQVIsRSxDQUVBO0FBRUE7O0FBQ0FMLEdBQUcsQ0FBQ1ksR0FBSixDQUFRc0IsT0FBTyxDQUFDLGdCQUFELENBQWY7QUFDQWxDLEdBQUcsQ0FBQ1ksR0FBSixDQUFRc0IsT0FBTyxDQUFDLG9CQUFELENBQWY7QUFDQWxDLEdBQUcsQ0FBQ1ksR0FBSixDQUFRc0IsT0FBTyxDQUFDLGdCQUFELENBQWYsRSxDQUNBOztBQUNBbEMsR0FBRyxDQUFDWSxHQUFKLENBQVEsZUFBUixFQUF5QnVCLGlCQUF6QjtBQUNBbkMsR0FBRyxDQUFDWSxHQUFKLENBQVEsV0FBUixFQUFxQndCLGFBQXJCO0FBQ0FwQyxHQUFHLENBQUNZLEdBQUosQ0FBUSxZQUFSLEVBQXNCeUIsYUFBdEI7ZUFFZXJDLEciLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGV4cGhicyBmcm9tICdleHByZXNzLWhhbmRsZWJhcnMnO1xyXG5pbXBvcnQgbW9yZ2FuIGZyb20gJ21vcmdhbic7XHJcbmltcG9ydCBwa2cgZnJvbSAnLi4vcGFja2FnZS5qc29uJztcclxuaW1wb3J0IGZsYXNoIGZyb20gJ2Nvbm5lY3QtZmxhc2gnO1xyXG5pbXBvcnQgc2Vzc2lvbiBmcm9tICdleHByZXNzLXNlc3Npb24nO1xyXG5pbXBvcnQgbWV0aG9kT3ZlcnJpZGUgZnJvbSAnbWV0aG9kLW92ZXJyaWRlJztcclxuaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCJwYXNzcG9ydFwiO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IGNvb2tpZXBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJ1xyXG5pbXBvcnQge2NyZWF0ZVJvbGVzfSBmcm9tICcuL2xpYnMvaW5pdGlhbFNldHVwJztcclxuaW1wb3J0IHByb2R1Y3RzUm91dGVzIGZyb20gJy4vcm91dGVzL3Byb2R1Y3RzLnJvdXRlcyc7XHJcbmltcG9ydCBhdXRoUm91dGVzIGZyb20gJy4vcm91dGVzL2F1dGgucm91dGVzJztcclxuaW1wb3J0IHVzZXJzUm91dGVzIGZyb20gJy4vcm91dGVzL3VzZXIucm91dGVzJztcclxuaW1wb3J0IGluZGV4IGZyb20gJy4vcm91dGVzJztcclxuaW1wb3J0IENoYXJ0IGZyb20gJ2NoYXJ0LmpzJztcclxuaW1wb3J0IGtpbGxwb3J0IGZyb20gJ2tpbGxwb3J0J1xyXG5pbXBvcnQgXCIuL2NvbmZpZy9wYXNzcG9ydFwiXHJcbmltcG9ydCB7IGtpbGwgfSBmcm9tICdwcm9jZXNzJztcclxuLy9pbmljaWFjaW9uIGFwcFxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNyZWF0ZVJvbGVzKCk7XHJcblxyXG4vL3NldHRpbmdzXHJcbmFwcC5zZXQoJ3BrZycsIHBrZyk7XHJcblxyXG5hcHAuc2V0KCd2aWV3cycsIHBhdGguam9pbihfX2Rpcm5hbWUsICd2aWV3cycpKTtcclxuYXBwLmVuZ2luZSgnLmhicycsIGV4cGhicyh7XHJcbiAgICBkZWZhdWx0TGF5b3V0OiAnbWFpbicsXHJcbiAgICBsYXlvdXRzRGlyOiBwYXRoLmpvaW4oYXBwLmdldCgndmlld3MnKSwgJ2xheW91dHMnKSxcclxuICAgIHBhcnRpYWxzRGlyOiBwYXRoLmpvaW4oYXBwLmdldCgndmlld3MnKSwgJ3BhcnRpYWxzJyksXHJcbiAgICBleHRuYW1lOiAnLmhicycsXHJcbn0pXHJcbik7XHJcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywnLmhicycpO1xyXG4vL01pZGRsZXdhcmVzXHJcbmFwcC51c2UobW9yZ2FuKCdkZXYnKSk7XHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmRlZDogZmFsc2V9KSk7XHJcbmFwcC51c2UobWV0aG9kT3ZlcnJpZGUoJ19tZXRob2QnKSk7XHJcbmFwcC51c2Uoc2Vzc2lvbih7XHJcbiAgICBzZWNyZXQ6ICdteXNlY3JldGFwcCcsXHJcbiAgICByZXNhdmU6IHRydWUsXHJcbiAgICBzYXZlVW5pbml0aWFsaXplZDogdHJ1ZVxyXG59KSk7XHJcblxyXG5hcHAudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XHJcbmFwcC51c2UocGFzc3BvcnQuc2Vzc2lvbigpKTtcclxuYXBwLnVzZShmbGFzaCgpKTtcclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbi8vR2xvYmFsIFZhcmlhYmxlc1xyXG5hcHAudXNlKChyZXEscmVzLG5leHQpPT57XHJcbiAgICByZXMubG9jYWxzLnN1Y2Nlc3NfbXNnPSByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJyk7XHJcbiAgICByZXMubG9jYWxzLmVycm9yX21zZyA9cmVxLmZsYXNoKCdlcnJvcl9tc2cnKTtcclxuICAgIHJlcy5sb2NhbHMudXNlciA9IHJlcS5zZXNzaW9uLm1haWw7XHJcbiAgICByZXMubG9jYWxzLnJvbCA9IHJlcS5zZXNzaW9uLnJvbDtcclxuICAgIG5leHQoKTtcclxufSk7XHJcblxyXG4vL1N0YXRpYyBGaWxlc1xyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSk7XHJcblxyXG4vL1NlcnZlciBpcyBsaXN0ZW5uaW5nXHJcblxyXG4vLyBXZWxjb21lIFJvdXRlc1xyXG5hcHAudXNlKHJlcXVpcmUoJy4vcm91dGVzL2luZGV4JykpO1xyXG5hcHAudXNlKHJlcXVpcmUoJy4vcm91dGVzL3Byb2R1Y3RvcycpKTtcclxuYXBwLnVzZShyZXF1aXJlKCcuL3JvdXRlcy91c2VycycpKTtcclxuLy9Sb3V0ZXNcclxuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHByb2R1Y3RzUm91dGVzKTtcclxuYXBwLnVzZSgnL2FwaS9hdXRoJywgYXV0aFJvdXRlcyk7XHJcbmFwcC51c2UoJy9hcGkvdXNlcnMnLCB1c2Vyc1JvdXRlcyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHA7Il19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "app",
        "set",
        "pkg",
        "path",
        "join",
        "__dirname",
        "engine",
        "defaultLayout",
        "layoutsDir",
        "get",
        "partialsDir",
        "extname",
        "use",
        "express",
        "urlencoded",
        "extended",
        "secret",
        "resave",
        "saveUninitialized",
        "passport",
        "initialize",
        "session",
        "json",
        "req",
        "res",
        "next",
        "locals",
        "success_msg",
        "flash",
        "error_msg",
        "user",
        "mail",
        "rol",
        "static",
        "require",
        "productsRoutes",
        "authRoutes",
        "usersRoutes"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;AACA,MAAMA,GAAG,GAAG,uBAAZ;AACA,iC,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQ,KAAR,EAAeC,gBAAf;AAEAF,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBE,cAAKC,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAL,GAAG,CAACM,MAAJ,CAAW,MAAX,EAAmB,gCAAO;AACtBC,EAAAA,aAAa,EAAE,MADO;AAEtBC,EAAAA,UAAU,EAAEL,cAAKC,IAAL,CAAUJ,GAAG,CAACS,GAAJ,CAAQ,OAAR,CAAV,EAA4B,SAA5B,CAFU;AAGtBC,EAAAA,WAAW,EAAEP,cAAKC,IAAL,CAAUJ,GAAG,CAACS,GAAJ,CAAQ,OAAR,CAAV,EAA4B,UAA5B,CAHS;AAItBE,EAAAA,OAAO,EAAE;AAJa,CAAP,CAAnB;AAOAX,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAsB,MAAtB,E,CACA;;AACAD,GAAG,CAACY,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAZ,GAAG,CAACY,GAAJ,CAAQC,iBAAQC,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAnB,CAAR;AACAf,GAAG,CAACY,GAAJ,CAAQ,6BAAe,SAAf,CAAR;AACAZ,GAAG,CAACY,GAAJ,CAAQ,6BAAQ;AACZI,EAAAA,MAAM,EAAE,aADI;AAEZC,EAAAA,MAAM,EAAE,IAFI;AAGZC,EAAAA,iBAAiB,EAAE;AAHP,CAAR,CAAR;AAMAlB,GAAG,CAACY,GAAJ,CAAQO,kBAASC,UAAT,EAAR;AACApB,GAAG,CAACY,GAAJ,CAAQO,kBAASE,OAAT,EAAR;AACArB,GAAG,CAACY,GAAJ,CAAQ,4BAAR;AACAZ,GAAG,CAACY,GAAJ,CAAQC,iBAAQS,IAAR,EAAR,E,CACA;;AACAtB,GAAG,CAACY,GAAJ,CAAQ,CAACW,GAAD,EAAKC,GAAL,EAASC,IAAT,KAAgB;AACpBD,EAAAA,GAAG,CAACE,MAAJ,CAAWC,WAAX,GAAwBJ,GAAG,CAACK,KAAJ,CAAU,aAAV,CAAxB;AACAJ,EAAAA,GAAG,CAACE,MAAJ,CAAWG,SAAX,GAAsBN,GAAG,CAACK,KAAJ,CAAU,WAAV,CAAtB;AACAJ,EAAAA,GAAG,CAACE,MAAJ,CAAWI,IAAX,GAAkBP,GAAG,CAACF,OAAJ,CAAYU,IAA9B;AACAP,EAAAA,GAAG,CAACE,MAAJ,CAAWM,GAAX,GAAiBT,GAAG,CAACF,OAAJ,CAAYW,GAA7B;AACAP,EAAAA,IAAI;AACP,CAND,E,CAQA;;AACAzB,GAAG,CAACY,GAAJ,CAAQC,iBAAQoB,MAAR,CAAe9B,cAAKC,IAAL,CAAUC,SAAV,EAAoB,QAApB,CAAf,CAAR,E,CAEA;AAEA;;AACAL,GAAG,CAACY,GAAJ,CAAQsB,OAAO,CAAC,gBAAD,CAAf;AACAlC,GAAG,CAACY,GAAJ,CAAQsB,OAAO,CAAC,oBAAD,CAAf;AACAlC,GAAG,CAACY,GAAJ,CAAQsB,OAAO,CAAC,gBAAD,CAAf,E,CACA;;AACAlC,GAAG,CAACY,GAAJ,CAAQ,eAAR,EAAyBuB,iBAAzB;AACAnC,GAAG,CAACY,GAAJ,CAAQ,WAAR,EAAqBwB,aAArB;AACApC,GAAG,CAACY,GAAJ,CAAQ,YAAR,EAAsByB,aAAtB;eAEerC,G",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport exphbs from 'express-handlebars';\r\nimport morgan from 'morgan';\r\nimport pkg from '../package.json';\r\nimport flash from 'connect-flash';\r\nimport session from 'express-session';\r\nimport methodOverride from 'method-override';\r\nimport passport from \"passport\";\r\nimport path from 'path';\r\nimport cookieparser from 'cookie-parser'\r\nimport {createRoles} from './libs/initialSetup';\r\nimport productsRoutes from './routes/products.routes';\r\nimport authRoutes from './routes/auth.routes';\r\nimport usersRoutes from './routes/user.routes';\r\nimport index from './routes';\r\nimport Chart from 'chart.js';\r\nimport killport from 'killport'\r\nimport \"./config/passport\"\r\nimport { kill } from 'process';\r\n//iniciacion app\r\nconst app = express();\r\ncreateRoles();\r\n\r\n//settings\r\napp.set('pkg', pkg);\r\n\r\napp.set('views', path.join(__dirname, 'views'));\r\napp.engine('.hbs', exphbs({\r\n    defaultLayout: 'main',\r\n    layoutsDir: path.join(app.get('views'), 'layouts'),\r\n    partialsDir: path.join(app.get('views'), 'partials'),\r\n    extname: '.hbs',\r\n})\r\n);\r\napp.set('view engine','.hbs');\r\n//Middlewares\r\napp.use(morgan('dev'));\r\napp.use(express.urlencoded({extended: false}));\r\napp.use(methodOverride('_method'));\r\napp.use(session({\r\n    secret: 'mysecretapp',\r\n    resave: true,\r\n    saveUninitialized: true\r\n}));\r\n\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\napp.use(flash());\r\napp.use(express.json());\r\n//Global Variables\r\napp.use((req,res,next)=>{\r\n    res.locals.success_msg= req.flash('success_msg');\r\n    res.locals.error_msg =req.flash('error_msg');\r\n    res.locals.user = req.session.mail;\r\n    res.locals.rol = req.session.rol;\r\n    next();\r\n});\r\n\r\n//Static Files\r\napp.use(express.static(path.join(__dirname,'public')));\r\n\r\n//Server is listenning\r\n\r\n// Welcome Routes\r\napp.use(require('./routes/index'));\r\napp.use(require('./routes/productos'));\r\napp.use(require('./routes/users'));\r\n//Routes\r\napp.use('/api/products', productsRoutes);\r\napp.use('/api/auth', authRoutes);\r\napp.use('/api/users', usersRoutes);\r\n\r\nexport default app;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619139154213
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\libs\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\libs\\\\initialSetup.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\initialSetup.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\initialSetup.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\initialSetup.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\",
        "sourceFileName": "initialSetup.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createRoles = void 0;\n\nvar _Role = _interopRequireDefault(require(\"../models/Role\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst createRoles = async () => {\n  try {\n    const count = await _Role.default.estimatedDocumentCount();\n    if (count > 0) return;\n    const values = await Promise.all([new _Role.default({\n      name: \"user\"\n    }).save(), new _Role.default({\n      name: \"moderator\"\n    }).save(), new _Role.default({\n      name: \"admin\"\n    }).save()]);\n    console.log(values);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexports.createRoles = createRoles;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXRpYWxTZXR1cC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVSb2xlcyIsImNvdW50IiwiUm9sZSIsImVzdGltYXRlZERvY3VtZW50Q291bnQiLCJ2YWx1ZXMiLCJQcm9taXNlIiwiYWxsIiwibmFtZSIsInNhdmUiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNPLE1BQU1BLFdBQVcsR0FBRyxZQUFVO0FBQ2pDLE1BQUk7QUFDQSxVQUFNQyxLQUFLLEdBQUcsTUFBTUMsY0FBS0Msc0JBQUwsRUFBcEI7QUFDQSxRQUFHRixLQUFLLEdBQUMsQ0FBVCxFQUFXO0FBQ1gsVUFBTUcsTUFBTSxHQUFHLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLENBQzdCLElBQUlKLGFBQUosQ0FBUztBQUFFSyxNQUFBQSxJQUFJLEVBQUU7QUFBUixLQUFULEVBQTBCQyxJQUExQixFQUQ2QixFQUU3QixJQUFJTixhQUFKLENBQVM7QUFBQ0ssTUFBQUEsSUFBSSxFQUFFO0FBQVAsS0FBVCxFQUE4QkMsSUFBOUIsRUFGNkIsRUFHN0IsSUFBSU4sYUFBSixDQUFTO0FBQUNLLE1BQUFBLElBQUksRUFBRTtBQUFQLEtBQVQsRUFBMEJDLElBQTFCLEVBSDZCLENBQVosQ0FBckI7QUFLQUMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlOLE1BQVo7QUFDSCxHQVRELENBU0UsT0FBT08sS0FBUCxFQUFjO0FBQ1pGLElBQUFBLE9BQU8sQ0FBQ0UsS0FBUixDQUFjQSxLQUFkO0FBQ0g7QUFHSixDQWZNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcbGlic1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvbGUgZnJvbSAnLi4vbW9kZWxzL1JvbGUnXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVSb2xlcyA9IGFzeW5jKCkgPT57XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgUm9sZS5lc3RpbWF0ZWREb2N1bWVudENvdW50KClcclxuICAgICAgICBpZihjb3VudD4wKXJldHVybjtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIG5ldyBSb2xlKHsgbmFtZTogXCJ1c2VyXCJ9KS5zYXZlKCksXHJcbiAgICAgICAgICAgIG5ldyBSb2xlKHtuYW1lOiBcIm1vZGVyYXRvclwifSkuc2F2ZSgpLFxyXG4gICAgICAgICAgICBuZXcgUm9sZSh7bmFtZTogXCJhZG1pblwifSkuc2F2ZSgpLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "initialSetup.js"
      ],
      "names": [
        "createRoles",
        "count",
        "Role",
        "estimatedDocumentCount",
        "values",
        "Promise",
        "all",
        "name",
        "save",
        "console",
        "log",
        "error"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACO,MAAMA,WAAW,GAAG,YAAU;AACjC,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMC,cAAKC,sBAAL,EAApB;AACA,QAAGF,KAAK,GAAC,CAAT,EAAW;AACX,UAAMG,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAY,CAC7B,IAAIJ,aAAJ,CAAS;AAAEK,MAAAA,IAAI,EAAE;AAAR,KAAT,EAA0BC,IAA1B,EAD6B,EAE7B,IAAIN,aAAJ,CAAS;AAACK,MAAAA,IAAI,EAAE;AAAP,KAAT,EAA8BC,IAA9B,EAF6B,EAG7B,IAAIN,aAAJ,CAAS;AAACK,MAAAA,IAAI,EAAE;AAAP,KAAT,EAA0BC,IAA1B,EAH6B,CAAZ,CAArB;AAKAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,MAAZ;AACH,GATD,CASE,OAAOO,KAAP,EAAc;AACZF,IAAAA,OAAO,CAACE,KAAR,CAAcA,KAAd;AACH;AAGJ,CAfM",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\",
      "sourcesContent": [
        "import Role from '../models/Role'\r\nexport const createRoles = async() =>{\r\n    try {\r\n        const count = await Role.estimatedDocumentCount()\r\n        if(count>0)return;\r\n        const values = await Promise.all([\r\n            new Role({ name: \"user\"}).save(),\r\n            new Role({name: \"moderator\"}).save(),\r\n            new Role({name: \"admin\"}).save(),\r\n        ]);\r\n        console.log(values);\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n    \r\n\r\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1618786579056
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\Role.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Role.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Role.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Role.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
        "sourceFileName": "Role.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ROLES = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst ROLES = [\"user\", \"admin\", \"moderator\"];\nexports.ROLES = ROLES;\nconst roleSchema = new _mongoose.Schema({\n  name: String\n}, {\n  versionKey: false\n});\n\nvar _default = (0, _mongoose.model)(\"Role\", roleSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJvbGUuanMiXSwibmFtZXMiOlsiUk9MRVMiLCJyb2xlU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsInZlcnNpb25LZXkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDTyxNQUFNQSxLQUFLLEdBQUcsQ0FBQyxNQUFELEVBQVMsT0FBVCxFQUFpQixXQUFqQixDQUFkOztBQUNQLE1BQU1DLFVBQVUsR0FBRyxJQUFJQyxnQkFBSixDQUNmO0FBQ0FDLEVBQUFBLElBQUksRUFBRUM7QUFETixDQURlLEVBS2Y7QUFDSUMsRUFBQUEsVUFBVSxFQUFFO0FBRGhCLENBTGUsQ0FBbkI7O2VBVWUscUJBQU0sTUFBTixFQUFjSixVQUFkLEMiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U2NoZW1hLCBtb2RlbH0gZnJvbSAnbW9uZ29vc2UnXHJcbmV4cG9ydCBjb25zdCBST0xFUyA9IFtcInVzZXJcIiwgXCJhZG1pblwiLFwibW9kZXJhdG9yXCJdXHJcbmNvbnN0IHJvbGVTY2hlbWEgPSBuZXcgU2NoZW1hKFxyXG4gICAge1xyXG4gICAgbmFtZTogU3RyaW5nLFxyXG4gICAgXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHZlcnNpb25LZXk6IGZhbHNlLFxyXG4gICAgfVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9kZWwoXCJSb2xlXCIsIHJvbGVTY2hlbWEpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "Role.js"
      ],
      "names": [
        "ROLES",
        "roleSchema",
        "Schema",
        "name",
        "String",
        "versionKey"
      ],
      "mappings": ";;;;;;;AAAA;;AACO,MAAMA,KAAK,GAAG,CAAC,MAAD,EAAS,OAAT,EAAiB,WAAjB,CAAd;;AACP,MAAMC,UAAU,GAAG,IAAIC,gBAAJ,CACf;AACAC,EAAAA,IAAI,EAAEC;AADN,CADe,EAKf;AACIC,EAAAA,UAAU,EAAE;AADhB,CALe,CAAnB;;eAUe,qBAAM,MAAN,EAAcJ,UAAd,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "sourcesContent": [
        "import {Schema, model} from 'mongoose'\r\nexport const ROLES = [\"user\", \"admin\",\"moderator\"]\r\nconst roleSchema = new Schema(\r\n    {\r\n    name: String,\r\n    \r\n    },\r\n    {\r\n        versionKey: false,\r\n    }\r\n);\r\n\r\nexport default model(\"Role\", roleSchema);"
      ]
    },
    "sourceType": "script",
    "mtime": 1618808530470
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\products.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\products.routes.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\products.routes.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\products.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "products.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar productsCtrl = _interopRequireWildcard(require(\"../controllers/products.controller\"));\n\nvar _middlewares = require(\"../middlewares\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst router = (0, _express.Router)();\nrouter.post('/', [_middlewares.authjwt.verifyToken, _middlewares.authjwt.isModerator], productsCtrl.createProduct);\nrouter.get('/', productsCtrl.getProducts);\nrouter.get('/:producttId', productsCtrl.getProductById);\nrouter.put('/:producttId', [_middlewares.authjwt.verifyToken, _middlewares.authjwt.isModerator], productsCtrl.updateProductById);\nrouter.delete('/:producttId', productsCtrl.deleteProductById);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJwb3N0IiwiYXV0aGp3dCIsInZlcmlmeVRva2VuIiwiaXNNb2RlcmF0b3IiLCJwcm9kdWN0c0N0cmwiLCJjcmVhdGVQcm9kdWN0IiwiZ2V0IiwiZ2V0UHJvZHVjdHMiLCJnZXRQcm9kdWN0QnlJZCIsInB1dCIsInVwZGF0ZVByb2R1Y3RCeUlkIiwiZGVsZXRlIiwiZGVsZXRlUHJvZHVjdEJ5SWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFDQTs7Ozs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHLHNCQUFmO0FBR0FBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLEdBQVosRUFBaUIsQ0FBQ0MscUJBQVFDLFdBQVQsRUFBc0JELHFCQUFRRSxXQUE5QixDQUFqQixFQUE2REMsWUFBWSxDQUFDQyxhQUExRTtBQUVBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxHQUFYLEVBQWdCRixZQUFZLENBQUNHLFdBQTdCO0FBRUFSLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLGNBQVgsRUFBMkJGLFlBQVksQ0FBQ0ksY0FBeEM7QUFFQVQsTUFBTSxDQUFDVSxHQUFQLENBQVcsY0FBWCxFQUE0QixDQUFDUixxQkFBUUMsV0FBVCxFQUFzQkQscUJBQVFFLFdBQTlCLENBQTVCLEVBQXdFQyxZQUFZLENBQUNNLGlCQUFyRjtBQUVBWCxNQUFNLENBQUNZLE1BQVAsQ0FBYyxjQUFkLEVBQStCUCxZQUFZLENBQUNRLGlCQUE1QztlQUdlYixNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcydcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcbmltcG9ydCAqIGFzIHByb2R1Y3RzQ3RybCBmcm9tICcuLi9jb250cm9sbGVycy9wcm9kdWN0cy5jb250cm9sbGVyJ1xyXG5pbXBvcnQge2F1dGhqd3R9IGZyb20gJy4uL21pZGRsZXdhcmVzJ1xyXG5yb3V0ZXIucG9zdCgnLycsIFthdXRoand0LnZlcmlmeVRva2VuLCBhdXRoand0LmlzTW9kZXJhdG9yXSwgcHJvZHVjdHNDdHJsLmNyZWF0ZVByb2R1Y3QpXHJcblxyXG5yb3V0ZXIuZ2V0KCcvJywgcHJvZHVjdHNDdHJsLmdldFByb2R1Y3RzKVxyXG5cclxucm91dGVyLmdldCgnLzpwcm9kdWN0dElkJywgcHJvZHVjdHNDdHJsLmdldFByb2R1Y3RCeUlkKVxyXG5cclxucm91dGVyLnB1dCgnLzpwcm9kdWN0dElkJywgIFthdXRoand0LnZlcmlmeVRva2VuLCBhdXRoand0LmlzTW9kZXJhdG9yXSwgcHJvZHVjdHNDdHJsLnVwZGF0ZVByb2R1Y3RCeUlkKVxyXG5cclxucm91dGVyLmRlbGV0ZSgnLzpwcm9kdWN0dElkJywgIHByb2R1Y3RzQ3RybC5kZWxldGVQcm9kdWN0QnlJZClcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "products.routes.js"
      ],
      "names": [
        "router",
        "post",
        "authjwt",
        "verifyToken",
        "isModerator",
        "productsCtrl",
        "createProduct",
        "get",
        "getProducts",
        "getProductById",
        "put",
        "updateProductById",
        "delete",
        "deleteProductById"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;;;;;AAFA,MAAMA,MAAM,GAAG,sBAAf;AAGAA,MAAM,CAACC,IAAP,CAAY,GAAZ,EAAiB,CAACC,qBAAQC,WAAT,EAAsBD,qBAAQE,WAA9B,CAAjB,EAA6DC,YAAY,CAACC,aAA1E;AAEAN,MAAM,CAACO,GAAP,CAAW,GAAX,EAAgBF,YAAY,CAACG,WAA7B;AAEAR,MAAM,CAACO,GAAP,CAAW,cAAX,EAA2BF,YAAY,CAACI,cAAxC;AAEAT,MAAM,CAACU,GAAP,CAAW,cAAX,EAA4B,CAACR,qBAAQC,WAAT,EAAsBD,qBAAQE,WAA9B,CAA5B,EAAwEC,YAAY,CAACM,iBAArF;AAEAX,MAAM,CAACY,MAAP,CAAc,cAAd,EAA+BP,YAAY,CAACQ,iBAA5C;eAGeb,M",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "import {Router} from 'express'\r\nconst router = Router();\r\nimport * as productsCtrl from '../controllers/products.controller'\r\nimport {authjwt} from '../middlewares'\r\nrouter.post('/', [authjwt.verifyToken, authjwt.isModerator], productsCtrl.createProduct)\r\n\r\nrouter.get('/', productsCtrl.getProducts)\r\n\r\nrouter.get('/:producttId', productsCtrl.getProductById)\r\n\r\nrouter.put('/:producttId',  [authjwt.verifyToken, authjwt.isModerator], productsCtrl.updateProductById)\r\n\r\nrouter.delete('/:producttId',  productsCtrl.deleteProductById)\r\n\r\n\r\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619067687607
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\products.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\products.controller.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\products.controller.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\products.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
        "sourceFileName": "products.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteProductById = exports.verificarntidad = exports.updateProductById = exports.getProductById = exports.getProducts = exports.createProduct = void 0;\n\nvar _express = require(\"express\");\n\nvar _Product = _interopRequireDefault(require(\"../models/Product\"));\n\nvar _Categoria = _interopRequireDefault(require(\"../models/Categoria\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = (0, _express.Router)();\n\nconst createProduct = async (req, res) => {\n  const {\n    name,\n    category,\n    price,\n    imgURL,\n    cantidad\n  } = req.body;\n  var cuanti = 1;\n\n  if (cantidad < 1) {\n    cantidad = 1;\n  }\n\n  const estado = 1;\n  const newProduct = new _Product.default({\n    name,\n    category,\n    price,\n    imgURL,\n    cantidad\n  });\n  const totalproduc = await _Product.default.findOne({\n    name: name,\n    category: category,\n    price: price\n  }, {\n    name: name,\n    price: price,\n    cantidad: cantidad\n  });\n\n  if (totalproduc) {\n    console.log('entramos al if');\n    console.log(totalproduc);\n    totalproduc.cantidad = totalproduc.cuanti + cantidad;\n    console.log(totalproduc.cantidad);\n    await _Product.default.updateOne({\n      name: name\n    }, {\n      cantidad: totalproduc.cantidad\n    });\n    req.flash('success_msg', 'Se guardo con exito');\n    res.json({\n      status: ok\n    });\n  }\n\n  console.log(newProduct);\n  const buscar = await _Categoria.default.findOne({\n    category: category\n  });\n\n  if (!buscar) {\n    const newCate = new _Categoria.default({\n      estado,\n      category\n    });\n    await newCate.save();\n  }\n\n  const productSaved = await newProduct.save();\n  req.flash('success_msg', 'Se guardo con exito');\n  res.json({\n    status: 'ok',\n    data: 'Proceso Exitoso'\n  });\n};\n\nexports.createProduct = createProduct;\nrouter.get('/productos', async (req, res) => {\n  const productosx = await _Product.default.find().sort({\n    date: 'desc'\n  });\n  res.render('productos/all-product', {\n    productosx\n  });\n});\n\nconst getProducts = async (req, res) => {\n  const products = await _Product.default.find();\n  res.json(\"get products\");\n};\n\nexports.getProducts = getProducts;\n\nconst getProductById = async (req, res) => {\n  const product = await _Product.default.findById(req.params.productId);\n  res.status(200).json(product);\n};\n\nexports.getProductById = getProductById;\n\nconst updateProductById = async (req, res) => {\n  const updatedProduct = await _Product.default.findByIdAndUpdate(req.params.producttId, req.body, {\n    new: true\n  });\n  console.log(updatedProduct);\n  req.flash('success_msg', 'Producto Actualizado Correctamente', updatedProduct.name);\n  res.redirect('/productos');\n};\n\nexports.updateProductById = updateProductById;\n\nconst verificarntidad = async (req, res) => {\n  const {\n    name,\n    category,\n    price,\n    imgURL,\n    cantidad\n  } = req.body;\n\n  if (cantidad < 1) {\n    cantidad = 1;\n    await _Product.default.findByIdAndDelete(req.params.producttId);\n    req.flash('success_msg', 'Producto Comprado');\n    res.redirect('/productos');\n  }\n};\n\nexports.verificarntidad = verificarntidad;\n\nconst deleteProductById = async (req, res) => {\n  console.log(\"llegamos al delete\", req.params.producttId);\n  await _Product.default.findByIdAndDelete(req.params.producttId);\n  req.flash('success_msg', 'Producto Comprado');\n  res.redirect('/productos');\n};\n\nexports.deleteProductById = deleteProductById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsicm91dGVyIiwiY3JlYXRlUHJvZHVjdCIsInJlcSIsInJlcyIsIm5hbWUiLCJjYXRlZ29yeSIsInByaWNlIiwiaW1nVVJMIiwiY2FudGlkYWQiLCJib2R5IiwiY3VhbnRpIiwiZXN0YWRvIiwibmV3UHJvZHVjdCIsIlByb2R1Y3QiLCJ0b3RhbHByb2R1YyIsImZpbmRPbmUiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlT25lIiwiZmxhc2giLCJqc29uIiwic3RhdHVzIiwib2siLCJidXNjYXIiLCJDYXRlZ29yaWEiLCJuZXdDYXRlIiwic2F2ZSIsInByb2R1Y3RTYXZlZCIsImRhdGEiLCJnZXQiLCJwcm9kdWN0b3N4IiwiZmluZCIsInNvcnQiLCJkYXRlIiwicmVuZGVyIiwiZ2V0UHJvZHVjdHMiLCJwcm9kdWN0cyIsImdldFByb2R1Y3RCeUlkIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwicHJvZHVjdElkIiwidXBkYXRlUHJvZHVjdEJ5SWQiLCJ1cGRhdGVkUHJvZHVjdCIsImZpbmRCeUlkQW5kVXBkYXRlIiwicHJvZHVjdHRJZCIsIm5ldyIsInJlZGlyZWN0IiwidmVyaWZpY2FybnRpZGFkIiwiZmluZEJ5SWRBbmREZWxldGUiLCJkZWxldGVQcm9kdWN0QnlJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUNBOzs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHLHNCQUFmOztBQUdPLE1BQU1DLGFBQWEsR0FBRyxPQUFPQyxHQUFQLEVBQVdDLEdBQVgsS0FBaUI7QUFDdEMsUUFBTTtBQUFFQyxJQUFBQSxJQUFGO0FBQVFDLElBQUFBLFFBQVI7QUFBa0JDLElBQUFBLEtBQWxCO0FBQXlCQyxJQUFBQSxNQUF6QjtBQUFpQ0MsSUFBQUE7QUFBakMsTUFBNkNOLEdBQUcsQ0FBQ08sSUFBdkQ7QUFDQSxNQUFJQyxNQUFNLEdBQUUsQ0FBWjs7QUFDQSxNQUFHRixRQUFRLEdBQUMs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QyxJQUFBQSxHQUFHLENBQUNpQixLQUFKLENBQVUsYUFBVixFQUF5QixtQkFBekI7QUFDQWhCLElBQUFBLEdBQUcsQ0FBQzRDLFFBQUosQ0FBYSxZQUFiO0FBQ0g7QUFFSixDQVZNOzs7O0FBV0EsTUFBTUcsaUJBQWlCLEdBQUcsT0FBTWhELEdBQU4sRUFBVUMsR0FBVixLQUFnQjtBQUU3Q2EsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQVosRUFBa0NmLEdBQUcsQ0FBQ3NDLE1BQUosQ0FBV0ssVUFBN0M7QUFDQSxRQUFNaEMsaUJBQVFvQyxpQkFBUixDQUEwQi9DLEdBQUcsQ0FBQ3NDLE1BQUosQ0FBV0ssVUFBckMsQ0FBTjtBQUNBM0MsRUFBQUEsR0FBRyxDQUFDaUIsS0FBSixDQUFVLGFBQVYsRUFBeUIsbUJBQXpCO0FBQ0FoQixFQUFBQSxHQUFHLENBQUM0QyxRQUFKLENBQWEsWUFBYjtBQUNILENBTk0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcydcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL21vZGVscy9Qcm9kdWN0J1xyXG5pbXBvcnQgQ2F0ZWdvcmlhIGZyb20gJy4uL21vZGVscy9DYXRlZ29yaWEnXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9kdWN0ID0gYXN5bmMgKHJlcSxyZXMpPT57XHJcbiAgICAgICAgY29uc3QgeyBuYW1lLCBjYXRlZ29yeSwgcHJpY2UsIGltZ1VSTCwgY2FudGlkYWR9ID0gcmVxLmJvZHk7ICAgXHJcbiAgICAgICAgdmFyIGN1YW50aSA9MTsgXHJcbiAgICAgICAgaWYoY2FudGlkYWQ8MSl7XHJcbiAgICAgICAgICAgIGNhbnRpZGFkPTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVzdGFkbyA9MTtcclxuICAgICAgICBjb25zdCBuZXdQcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe25hbWUsIGNhdGVnb3J5LCBwcmljZSwgaW1nVVJMLCBjYW50aWRhZH0pO1xyXG4gICAgICAgIGNvbnN0IHRvdGFscHJvZHVjID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHtuYW1lOm5hbWUsIGNhdGVnb3J5OmNhdGVnb3J5LCBwcmljZTpwcmljZX0se25hbWU6bmFtZSwgcHJpY2U6cHJpY2UsIGNhbnRpZGFkOmNhbnRpZGFkfSk7XHJcbiAgICAgICAgaWYodG90YWxwcm9kdWMpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZW50cmFtb3MgYWwgaWYnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codG90YWxwcm9kdWMpO1xyXG4gICAgICAgICAgICB0b3RhbHByb2R1Yy5jYW50aWRhZCA9IHRvdGFscHJvZHVjLmN1YW50aStjYW50aWRhZDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codG90YWxwcm9kdWMuY2FudGlkYWQpO1xyXG4gICAgICAgICAgICBhd2FpdCBQcm9kdWN0LnVwZGF0ZU9uZSh7bmFtZTogbmFtZX0se2NhbnRpZGFkOiB0b3RhbHByb2R1Yy5jYW50aWRhZH0pO1xyXG4gICAgICAgICAgICByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJywnU2UgZ3VhcmRvIGNvbiBleGl0bycpO1xyXG4gICAgICAgICAgICByZXMuanNvbih7c3RhdHVzOm9rfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2cobmV3UHJvZHVjdCk7XHJcbiAgICAgICAgY29uc3QgYnVzY2FyID0gYXdhaXQgQ2F0ZWdvcmlhLmZpbmRPbmUoeyBjYXRlZ29yeTogY2F0ZWdvcnl9KTtcclxuICAgICAgICBpZighYnVzY2FyKXtcclxuICAgICAgICAgICAgY29uc3QgbmV3Q2F0ZT0gbmV3IENhdGVnb3JpYSh7IGVzdGFkbywgY2F0ZWdvcnl9KTtcclxuICAgICAgICAgICAgYXdhaXQgbmV3Q2F0ZS5zYXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RTYXZlZCA9IGF3YWl0IG5ld1Byb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICAgIHJlcS5mbGFzaCgnc3VjY2Vzc19tc2cnLCdTZSBndWFyZG8gY29uIGV4aXRvJyk7XHJcbiAgICAgICAgcmVzLmpzb24oe3N0YXR1czogJ29rJywgZGF0YTogJ1Byb2Nlc28gRXhpdG9zbyd9KTtcclxufVxyXG5yb3V0ZXIuZ2V0KCcvcHJvZHVjdG9zJyxhc3luYyAocmVxLHJlcyk9PntcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3N4ID0gYXdhaXQgUHJvZHVjdC5maW5kKCkuc29ydCh7ZGF0ZTogJ2Rlc2MnfSk7XHJcbiAgICAgICAgcmVzLnJlbmRlcigncHJvZHVjdG9zL2FsbC1wcm9kdWN0Jyx7cHJvZHVjdG9zeH0pO1xyXG4gICAgfSk7XHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0cyA9IGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoKTtcclxuXHJcbiAgICByZXMuanNvbihcImdldCBwcm9kdWN0c1wiKTtcclxufVxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdEJ5SWQgPSBhc3luYyAocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMucHJvZHVjdElkKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3QpXHJcbn1cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2R1Y3RCeUlkID0gYXN5bmMgKHJlcSxyZXMpPT57XHJcbiAgICBcclxuICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLnByb2R1Y3R0SWQsIHJlcS5ib2R5LCB7XHJcbiAgICAgICAgbmV3OnRydWVcclxuICAgIH0pXHJcbiAgICBjb25zb2xlLmxvZyh1cGRhdGVkUHJvZHVjdCk7XHJcbiAgICByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJywgJ1Byb2R1Y3RvIEFjdHVhbGl6YWRvIENvcnJlY3RhbWVudGUnLCB1cGRhdGVkUHJvZHVjdC5uYW1lKTtcclxuICAgIHJlcy5yZWRpcmVjdCgnL3Byb2R1Y3RvcycpO1xyXG59XHJcbmV4cG9ydCBjb25zdCB2ZXJpZmljYXJudGlkYWQgPSBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgeyBuYW1lLCBjYXRlZ29yeSwgcHJpY2UsIGltZ1VSTCwgY2FudGlkYWR9ID0gcmVxLmJvZHk7ICBcclxuICAgIGlmKGNhbnRpZGFkPDEpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNhbnRpZGFkID0gMTtcclxuICAgICAgICBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHJlcS5wYXJhbXMucHJvZHVjdHRJZClcclxuICAgICAgICByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJywgJ1Byb2R1Y3RvIENvbXByYWRvJyk7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvcHJvZHVjdG9zJyk7IFxyXG4gICAgfVxyXG5cclxufVxyXG5leHBvcnQgY29uc3QgZGVsZXRlUHJvZHVjdEJ5SWQgPSBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhcImxsZWdhbW9zIGFsIGRlbGV0ZVwiLCByZXEucGFyYW1zLnByb2R1Y3R0SWQpO1xyXG4gICAgYXdhaXQgUHJvZHVjdC5maW5kQnlJZEFuZERlbGV0ZShyZXEucGFyYW1zLnByb2R1Y3R0SWQpXHJcbiAgICByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJywgJ1Byb2R1Y3RvIENvbXByYWRvJyk7XHJcbiAgICByZXMucmVkaXJlY3QoJy9wcm9kdWN0b3MnKTsgXHJcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "products.controller.js"
      ],
      "names": [
        "router",
        "createProduct",
        "req",
        "res",
        "name",
        "category",
        "price",
        "imgURL",
        "cantidad",
        "body",
        "cuanti",
        "estado",
        "newProduct",
        "Product",
        "totalproduc",
        "findOne",
        "console",
        "log",
        "updateOne",
        "flash",
        "json",
        "status",
        "ok",
        "buscar",
        "Categoria",
        "newCate",
        "save",
        "productSaved",
        "data",
        "get",
        "productosx",
        "find",
        "sort",
        "date",
        "render",
        "getProducts",
        "products",
        "getProductById",
        "product",
        "findById",
        "params",
        "productId",
        "updateProductById",
        "updatedProduct",
        "findByIdAndUpdate",
        "producttId",
        "new",
        "redirect",
        "verificarntidad",
        "findByIdAndDelete",
        "deleteProductById"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "sourcesContent": [
        "import { Router } from 'express'\r\nconst router = Router();\r\nimport Product from '../models/Product'\r\nimport Categoria from '../models/Categoria'\r\nexport const createProduct = async (req,res)=>{\r\n        const { name, category, price, imgURL, cantidad} = req.body;   \r\n        var cuanti =1; \r\n        if(cantidad<1){\r\n            cantidad=1;\r\n        }\r\n        const estado =1;\r\n        const newProduct = new Product({name, category, price, imgURL, cantidad});\r\n        const totalproduc = await Product.findOne({name:name, category:category, price:price},{name:name, price:price, cantidad:cantidad});\r\n        if(totalproduc){\r\n            console.log('entramos al if');\r\n            console.log(totalproduc);\r\n            totalproduc.cantidad = totalproduc.cuanti+cantidad;\r\n            console.log(totalproduc.cantidad);\r\n            await Product.updateOne({name: name},{cantidad: totalproduc.cantidad});\r\n            req.flash('success_msg','Se guardo con exito');\r\n            res.json({status:ok})\r\n        }\r\n        console.log(newProduct);\r\n        const buscar = await Categoria.findOne({ category: category});\r\n        if(!buscar){\r\n            const newCate= new Categoria({ estado, category});\r\n            await newCate.save();\r\n        }\r\n        const productSaved = await newProduct.save();\r\n        req.flash('success_msg','Se guardo con exito');\r\n        res.json({status: 'ok', data: 'Proceso Exitoso'});\r\n}\r\nrouter.get('/productos',async (req,res)=>{\r\n        const productosx = await Product.find().sort({date: 'desc'});\r\n        res.render('productos/all-product',{productosx});\r\n    });\r\nexport const getProducts = async (req,res)=>{\r\n    const products = await Product.find();\r\n\r\n    res.json(\"get products\");\r\n}\r\nexport const getProductById = async (req,res)=>{\r\n    const product = await Product.findById(req.params.productId);\r\n    res.status(200).json(product)\r\n}\r\nexport const updateProductById = async (req,res)=>{\r\n    \r\n    const updatedProduct = await Product.findByIdAndUpdate(req.params.producttId, req.body, {\r\n        new:true\r\n    })\r\n    console.log(updatedProduct);\r\n    req.flash('success_msg', 'Producto Actualizado Correctamente', updatedProduct.name);\r\n    res.redirect('/productos');\r\n}\r\nexport const verificarntidad = async(req,res)=>{\r\n    const { name, category, price, imgURL, cantidad} = req.body;  \r\n    if(cantidad<1){\r\n        \r\n        cantidad = 1;\r\n        await Product.findByIdAndDelete(req.params.producttId)\r\n        req.flash('success_msg', 'Producto Comprado');\r\n        res.redirect('/productos'); \r\n    }\r\n\r\n}\r\nexport const deleteProductById = async(req,res)=>{\r\n    \r\n    console.log(\"llegamos al delete\", req.params.producttId);\r\n    await Product.findByIdAndDelete(req.params.producttId)\r\n    req.flash('success_msg', 'Producto Comprado');\r\n    res.redirect('/productos'); \r\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1619070859562
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Product.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Product.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Product.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
        "sourceFileName": "Product.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst productSchema = new _mongoose.Schema({\n  name: String,\n  category: String,\n  price: Number,\n  imgURL: String,\n  cantidad: Number\n}, {\n  timestamps: true,\n  versionKey: false\n});\n\nvar _default = (0, _mongoose.model)('Product', productSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwibmFtZXMiOlsicHJvZHVjdFNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJTdHJpbmciLCJjYXRlZ29yeSIsInByaWNlIiwiTnVtYmVyIiwiaW1nVVJMIiwiY2FudGlkYWQiLCJ0aW1lc3RhbXBzIiwidmVyc2lvbktleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0FBQzdCQyxFQUFBQSxJQUFJLEVBQUVDLE1BRHVCO0FBRTdCQyxFQUFBQSxRQUFRLEVBQUVELE1BRm1CO0FBRzdCRSxFQUFBQSxLQUFLLEVBQUVDLE1BSHNCO0FBSTdCQyxFQUFBQSxNQUFNLEVBQUVKLE1BSnFCO0FBSzdCSyxFQUFBQSxRQUFRLEVBQUVGO0FBTG1CLENBQVgsRUFPbkI7QUFDQ0csRUFBQUEsVUFBVSxFQUFDLElBRFo7QUFFQ0MsRUFBQUEsVUFBVSxFQUFDO0FBRlosQ0FQbUIsQ0FBdEI7O2VBWWUscUJBQU0sU0FBTixFQUFpQlYsYUFBakIsQyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBjU21hcnRcXERlc2t0b3BcXEFQSSBBVVRIXFxzcmNcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTY2hlbWEsIG1vZGVsfSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIG5hbWU6IFN0cmluZywgXHJcbiAgICBjYXRlZ29yeTogU3RyaW5nLFxyXG4gICAgcHJpY2U6IE51bWJlcixcclxuICAgIGltZ1VSTDogU3RyaW5nLFxyXG4gICAgY2FudGlkYWQ6IE51bWJlclxyXG4gICAgXHJcbn0sIHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxuICAgIHZlcnNpb25LZXk6ZmFsc2VcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vZGVsKCdQcm9kdWN0JywgcHJvZHVjdFNjaGVtYSk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "Product.js"
      ],
      "names": [
        "productSchema",
        "Schema",
        "name",
        "String",
        "category",
        "price",
        "Number",
        "imgURL",
        "cantidad",
        "timestamps",
        "versionKey"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,gBAAJ,CAAW;AAC7BC,EAAAA,IAAI,EAAEC,MADuB;AAE7BC,EAAAA,QAAQ,EAAED,MAFmB;AAG7BE,EAAAA,KAAK,EAAEC,MAHsB;AAI7BC,EAAAA,MAAM,EAAEJ,MAJqB;AAK7BK,EAAAA,QAAQ,EAAEF;AALmB,CAAX,EAOnB;AACCG,EAAAA,UAAU,EAAC,IADZ;AAECC,EAAAA,UAAU,EAAC;AAFZ,CAPmB,CAAtB;;eAYe,qBAAM,SAAN,EAAiBV,aAAjB,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "sourcesContent": [
        "import {Schema, model} from 'mongoose'\r\n\r\nconst productSchema = new Schema({\r\n    name: String, \r\n    category: String,\r\n    price: Number,\r\n    imgURL: String,\r\n    cantidad: Number\r\n    \r\n}, {\r\n    timestamps:true,\r\n    versionKey:false\r\n})\r\n\r\nexport default model('Product', productSchema);"
      ]
    },
    "sourceType": "script",
    "mtime": 1619037040334
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\Categoria.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Categoria.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Categoria.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Categoria.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
        "sourceFileName": "Categoria.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst CategoriaSchema = new _mongoose.Schema({\n  estado: Number,\n  category: String\n}, {\n  timestamps: true,\n  versionKey: false\n});\n\nvar _default = (0, _mongoose.model)('Categoria', CategoriaSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhdGVnb3JpYS5qcyJdLCJuYW1lcyI6WyJDYXRlZ29yaWFTY2hlbWEiLCJTY2hlbWEiLCJlc3RhZG8iLCJOdW1iZXIiLCJjYXRlZ29yeSIsIlN0cmluZyIsInRpbWVzdGFtcHMiLCJ2ZXJzaW9uS2V5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsZUFBZSxHQUFHLElBQUlDLGdCQUFKLENBQVc7QUFDL0JDLEVBQUFBLE1BQU0sRUFBRUMsTUFEdUI7QUFFL0JDLEVBQUFBLFFBQVEsRUFBRUM7QUFGcUIsQ0FBWCxFQUdyQjtBQUNDQyxFQUFBQSxVQUFVLEVBQUMsSUFEWjtBQUVDQyxFQUFBQSxVQUFVLEVBQUM7QUFGWixDQUhxQixDQUF4Qjs7ZUFRZSxxQkFBTSxXQUFOLEVBQW1CUCxlQUFuQixDIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgQ2F0ZWdvcmlhU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBlc3RhZG86IE51bWJlciwgXHJcbiAgICBjYXRlZ29yeTogU3RyaW5nXHJcbn0sIHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxuICAgIHZlcnNpb25LZXk6ZmFsc2VcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vZGVsKCdDYXRlZ29yaWEnLCBDYXRlZ29yaWFTY2hlbWEpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "Categoria.js"
      ],
      "names": [
        "CategoriaSchema",
        "Schema",
        "estado",
        "Number",
        "category",
        "String",
        "timestamps",
        "versionKey"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA,MAAMA,eAAe,GAAG,IAAIC,gBAAJ,CAAW;AAC/BC,EAAAA,MAAM,EAAEC,MADuB;AAE/BC,EAAAA,QAAQ,EAAEC;AAFqB,CAAX,EAGrB;AACCC,EAAAA,UAAU,EAAC,IADZ;AAECC,EAAAA,UAAU,EAAC;AAFZ,CAHqB,CAAxB;;eAQe,qBAAM,WAAN,EAAmBP,eAAnB,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "sourcesContent": [
        "import {Schema, model} from 'mongoose'\r\n\r\nconst CategoriaSchema = new Schema({\r\n    estado: Number, \r\n    category: String\r\n}, {\r\n    timestamps:true,\r\n    versionKey:false\r\n})\r\n\r\nexport default model('Categoria', CategoriaSchema);"
      ]
    },
    "sourceType": "script",
    "mtime": 1619037236052
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\index.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.verifySignup = exports.authjwt = void 0;\n\nvar authjwt = _interopRequireWildcard(require(\"./authjwt\"));\n\nexports.authjwt = authjwt;\n\nvar verifySignup = _interopRequireWildcard(require(\"./verifySignup\"));\n\nexports.verifySignup = verifySignup;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcbWlkZGxld2FyZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGF1dGhqd3QgZnJvbSAnLi9hdXRoand0J1xyXG5pbXBvcnQgKiBhcyB2ZXJpZnlTaWdudXAgZnJvbSAnLi92ZXJpZnlTaWdudXAnXHJcbmV4cG9ydCB7YXV0aGp3dCwgdmVyaWZ5U2lnbnVwfTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;AAAA;;;;AACA",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "sourcesContent": [
        "import * as authjwt from './authjwt'\r\nimport * as verifySignup from './verifySignup'\r\nexport {authjwt, verifySignup};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1618807707308
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\authjwt.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\authjwt.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\authjwt.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\authjwt.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
        "sourceFileName": "authjwt.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isModerator = exports.verifyToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nvar _Role = _interopRequireDefault(require(\"../models/Role\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst verifyToken = async (req, res, next) => {\n  const token = req.session.mail;\n  console.log(token);\n\n  if (!token) {\n    req.flash(\"error_msg\", \"Su sesion ha cerrado\");\n    return res.json({\n      status: \"off\",\n      data: 'Vuelva a Ingresar Porfavor.'\n    });\n  } else {\n    try {\n      const decoded = _jsonwebtoken.default.verify(token, _config.default.SECRET);\n\n      req.userId = decoded.id;\n      const user = await _User.default.findById(req.userId, {\n        password: 0\n      }).lean();\n      if (!user) return res.json({\n        status: \"off\",\n        data: 'Usuario no Registra En BD'\n      });\n      return next();\n    } catch (error) {\n      return res.json({\n        status: \"off\",\n        data: 'Token no encontrado'\n      });\n    }\n  }\n};\n\nexports.verifyToken = verifyToken;\n\nconst isModerator = async (req, res, next) => {\n  const user = await _User.default.findById(req.userId).lean();\n  const roles = await _Role.default.find({\n    _id: {\n      $in: user.roles\n    }\n  });\n  console.log('usuario', user, \"con rol en \", roles);\n\n  for (let i = 0; i < roles.length; i++) {\n    if (roles[i].name === \"moderator\") {\n      next();\n      return;\n    }\n  }\n\n  return res.json({\n    status: \"off\",\n    data: 'El Usuario no es un Moderador'\n  });\n};\n\nexports.isModerator = isModerator;\n\nconst isAdmin = async (req, res, next) => {\n  const user = await _User.default.findById(req.userId).lean();\n  const roles = await _Role.default.find({\n    _id: {\n      $in: user.roles\n    }\n  });\n\n  for (let i = 0; i < roles.length; i++) {\n    if (roles[i].name === \"admin\") {\n      next();\n      return;\n    }\n  }\n\n  return res.status(403).json({\n    message: \"Se requieren privilegios\"\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhqd3QuanMiXSwibmFtZXMiOlsidmVyaWZ5VG9rZW4iLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJzZXNzaW9uIiwibWFpbCIsImNvbnNvbGUiLCJsb2ciLCJmbGFzaCIsImpzb24iLCJzdGF0dXMiLCJkYXRhIiwiZGVjb2RlZCIsImp3dCIsInZlcmlmeSIsImNvbmZpZyIsIlNFQ1JFVCIsInVzZXJJZCIsImlkIiwidXNlciIsIlVzZXIiLCJmaW5kQnlJZCIsInBhc3N3b3JkIiwibGVhbiIsImVycm9yIiwiaXNNb2RlcmF0b3IiLCJyb2xlcyIsInJvbGUiLCJmaW5kIiwiX2lkIiwiJGluIiwiaSIsImxlbmd0aCIsIm5hbWUiLCJpc0FkbWluIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBR08sTUFBTUEsV0FBVyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7QUFFbkQsUUFBT0MsS0FBSyxHQUFJSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsSUFBNUI7QUFDQUMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLEtBQVo7O0FBQ0EsTUFBSSxDQUFDQSxLQUFMLEVBQVc7QUFDVEgsSUFBQUEsR0FBRyxDQUFDUSxLQUFKLENBQVUsV0FBVixFQUF1QixzQkFBdkI7QUFDQSxXQUFPUCxHQUFHLENBQUNRLElBQUosQ0FBUztBQUFFQyxNQUFBQSxNQUFNLEVBQUUsS0FBVjtBQUFpQkMsTUFBQUEsSUFBSSxFQUFFO0FBQXZCLEtBQVQsQ0FBUDtBQUNELEdBSEQsTUFHSztBQUNILFFBQUk7QUFDQSxZQUFNQyxPQUFPLEdBQUdDLHNCQUFJQyxNQUFKLENBQVdYLEtBQVgsRUFBa0JZLGdCQUFPQyxNQUF6QixDQUFoQjs7QUFDQWhCLE1BQUFBLEdBQUcsQ0FBQ2lCLE1BQUosR0FBYUwsT0FBTyxDQUFDTSxFQUFyQjtBQUNBLFlBQU1DLElBQUksR0FBRyxNQUFNQyxjQUFLQyxRQUFMLENBQWNyQixHQUFHLENBQUNpQixNQUFsQixFQUEwQjtBQUFFSyxRQUFBQSxRQUFRLEVBQUU7QUFBWixPQUExQixFQUEyQ0MsSUFBM0MsRUFBbkI7QUFDQSxVQUFJLENBQUNKLElBQUwsRUFBVyxPQUFPbEIsR0FBRyxDQUFDUSxJQUFKLENBQVM7QUFBRUMsUUFBQUEsTUFBTSxFQUFFLEtBQVY7QUFBaUJDLFFBQUFBLElBQUksRUFBRTtBQUF2QixPQUFULENBQVA7QUFDWCxhQUFPVCxJQUFJLEVBQVg7QUFDSCxLQU5ELENBTUUsT0FBT3NCLEtBQVAsRUFBYztBQUNkLGFBQU92QixHQUFHLENBQUNRLElBQUosQ0FBUztBQUFFQyxRQUFBQSxNQUFNLEVBQUUsS0FBVjtBQUFpQkMsUUFBQUEsSUFBSSxFQUFFO0FBQXZCLE9BQVQsQ0FBUDtBQUNEO0FBQ0Y7QUFFRixDQW5CTTs7OztBQXFCQSxNQUFNYyxXQUFXLEdBQUcsT0FBT3pCLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7QUFDbkQsUUFBTWlCLElBQUksR0FBRyxNQUFNQyxjQUFLQyxRQUFMLENBQWNyQixHQUFHLENBQUNpQixNQUFsQixFQUEwQk0sSUFBMUIsRUFBbkI7QUFDQSxRQUFNRyxLQUFLLEdBQUcsTUFBTUMsY0FBS0MsSUFBTCxDQUFVO0FBQUVDLElBQUFBLEdBQUcsRUFBRTtBQUFFQyxNQUFBQSxHQUFHLEVBQUVYLElBQUksQ0FBQ087QUFBWjtBQUFQLEdBQVYsQ0FBcEI7QUFDQXBCLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVosRUFBc0JZLElBQXRCLEVBQTJCLGFBQTNCLEVBQTBDTyxLQUExQzs7QUFDQSxPQUFLLElBQUlLLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdMLEtBQUssQ0FBQ00sTUFBMUIsRUFBa0NELENBQUMsRUFBbkMsRUFBdUM7QUFDckMsUUFBSUwsS0FBSyxDQUFDSyxDQUFELENBQUwsQ0FBU0UsSUFBVCxLQUFrQixXQUF0QixFQUFtQztBQUNqQy9CLE1BQUFBLElBQUk7QUFDSjtBQUNEO0FBQ0Y7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDUSxJQUFKLENBQVM7QUFBRUMsSUFBQUEsTUFBTSxFQUFFLEtBQVY7QUFBaUJDLElBQUFBLElBQUksRUFBRTtBQUF2QixHQUFULENBQVA7QUFDRCxDQVhNOzs7O0FBYUEsTUFBTXVCLE9BQU8sR0FBRyxPQUFPbEMsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUMvQyxRQUFNaUIsSUFBSSxHQUFHLE1BQU1DLGNBQUtDLFFBQUwsQ0FBY3JCLEdBQUcsQ0FBQ2lCLE1BQWxCLEVBQTBCTSxJQUExQixFQUFuQjtBQUNBLFFBQU1HLEtBQUssR0FBRyxNQUFNQyxjQUFLQyxJQUFMLENBQVU7QUFBRUMsSUFBQUEsR0FBRyxFQUFFO0FBQUVDLE1BQUFBLEdBQUcsRUFBRVgsSUFBSSxDQUFDTztBQUFaO0FBQVAsR0FBVixDQUFwQjs7QUFDQSxPQUFLLElBQUlLLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdMLEtBQUssQ0FBQ00sTUFBMUIsRUFBa0NELENBQUMsRUFBbkMsRUFBdUM7QUFDckMsUUFBSUwsS0FBSyxDQUFDSyxDQUFELENBQUwsQ0FBU0UsSUFBVCxLQUFrQixPQUF0QixFQUErQjtBQUM3Qi9CLE1BQUFBLElBQUk7QUFDSjtBQUNEO0FBQ0Y7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDUyxNQUFKLENBQVcsR0FBWCxFQUFnQkQsSUFBaEIsQ0FBcUI7QUFBRTBCLElBQUFBLE9BQU8sRUFBRTtBQUFYLEdBQXJCLENBQVA7QUFDRCxDQVZNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcbWlkZGxld2FyZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb25maWdcIjtcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVscy9Vc2VyXCI7XHJcbmltcG9ydCByb2xlIGZyb20gXCIuLi9tb2RlbHMvUm9sZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCB2ZXJpZnlUb2tlbiA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIFxyXG4gIGNvbnN0ICB0b2tlbiAgPSByZXEuc2Vzc2lvbi5tYWlsO1xyXG4gIGNvbnNvbGUubG9nKHRva2VuKTtcclxuICBpZiAoIXRva2VuKXtcclxuICAgIHJlcS5mbGFzaChcImVycm9yX21zZ1wiLCBcIlN1IHNlc2lvbiBoYSBjZXJyYWRvXCIpO1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9mZlwiLCBkYXRhOiAnVnVlbHZhIGEgSW5ncmVzYXIgUG9yZmF2b3IuJyB9KTtcclxuICB9ZWxzZXtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIGNvbmZpZy5TRUNSRVQpO1xyXG4gICAgICAgIHJlcS51c2VySWQgPSBkZWNvZGVkLmlkO1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS51c2VySWQsIHsgcGFzc3dvcmQ6IDAgfSkubGVhbigpO1xyXG4gICAgICAgIGlmICghdXNlcikgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9mZlwiLCBkYXRhOiAnVXN1YXJpbyBubyBSZWdpc3RyYSBFbiBCRCcgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbih7IHN0YXR1czogXCJvZmZcIiwgZGF0YTogJ1Rva2VuIG5vIGVuY29udHJhZG8nIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaXNNb2RlcmF0b3IgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEudXNlcklkKS5sZWFuKCk7XHJcbiAgY29uc3Qgcm9sZXMgPSBhd2FpdCByb2xlLmZpbmQoeyBfaWQ6IHsgJGluOiB1c2VyLnJvbGVzIH0gfSk7XHJcbiAgY29uc29sZS5sb2coJ3VzdWFyaW8nLHVzZXIsXCJjb24gcm9sIGVuIFwiLCByb2xlcylcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJvbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAocm9sZXNbaV0ubmFtZSA9PT0gXCJtb2RlcmF0b3JcIikge1xyXG4gICAgICBuZXh0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9mZlwiLCBkYXRhOiAnRWwgVXN1YXJpbyBubyBlcyB1biBNb2RlcmFkb3InIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEudXNlcklkKS5sZWFuKCk7XHJcbiAgY29uc3Qgcm9sZXMgPSBhd2FpdCByb2xlLmZpbmQoeyBfaWQ6IHsgJGluOiB1c2VyLnJvbGVzIH0gfSk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb2xlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHJvbGVzW2ldLm5hbWUgPT09IFwiYWRtaW5cIikge1xyXG4gICAgICBuZXh0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogXCJTZSByZXF1aWVyZW4gcHJpdmlsZWdpb3NcIiB9KTtcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "authjwt.js"
      ],
      "names": [
        "verifyToken",
        "req",
        "res",
        "next",
        "token",
        "session",
        "mail",
        "console",
        "log",
        "flash",
        "json",
        "status",
        "data",
        "decoded",
        "jwt",
        "verify",
        "config",
        "SECRET",
        "userId",
        "id",
        "user",
        "User",
        "findById",
        "password",
        "lean",
        "error",
        "isModerator",
        "roles",
        "role",
        "find",
        "_id",
        "$in",
        "i",
        "length",
        "name",
        "isAdmin",
        "message"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "sourcesContent": [
        "import jwt from \"jsonwebtoken\";\r\nimport config from \"../config\";\r\nimport User from \"../models/User\";\r\nimport role from \"../models/Role\";\r\n\r\n\r\nexport const verifyToken = async (req, res, next) => {\r\n  \r\n  const  token  = req.session.mail;\r\n  console.log(token);\r\n  if (!token){\r\n    req.flash(\"error_msg\", \"Su sesion ha cerrado\");\r\n    return res.json({ status: \"off\", data: 'Vuelva a Ingresar Porfavor.' });\r\n  }else{\r\n    try {\r\n        const decoded = jwt.verify(token, config.SECRET);\r\n        req.userId = decoded.id;\r\n        const user = await User.findById(req.userId, { password: 0 }).lean();\r\n        if (!user) return res.json({ status: \"off\", data: 'Usuario no Registra En BD' });\r\n        return next();\r\n    } catch (error) {\r\n      return res.json({ status: \"off\", data: 'Token no encontrado' });\r\n    }\r\n  }\r\n\r\n};\r\n\r\nexport const isModerator = async (req, res, next) => {\r\n  const user = await User.findById(req.userId).lean();\r\n  const roles = await role.find({ _id: { $in: user.roles } });\r\n  console.log('usuario',user,\"con rol en \", roles)\r\n  for (let i = 0; i < roles.length; i++) {\r\n    if (roles[i].name === \"moderator\") {\r\n      next();\r\n      return;\r\n    }\r\n  }\r\n  return res.json({ status: \"off\", data: 'El Usuario no es un Moderador' });\r\n};\r\n\r\nexport const isAdmin = async (req, res, next) => {\r\n  const user = await User.findById(req.userId).lean();\r\n  const roles = await role.find({ _id: { $in: user.roles } });\r\n  for (let i = 0; i < roles.length; i++) {\r\n    if (roles[i].name === \"admin\") {\r\n      next();\r\n      return;\r\n    }\r\n  }\r\n  return res.status(403).json({ message: \"Se requieren privilegios\" });\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1619038772987
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  SECRET: 'products-api'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJTRUNSRVQiXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0FBQ1hBLEVBQUFBLE1BQU0sRUFBRTtBQURHLEMiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFwiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBTRUNSRVQ6ICdwcm9kdWN0cy1hcGknXHJcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "SECRET"
      ],
      "mappings": ";;;;;;eAAe;AACXA,EAAAA,MAAM,EAAE;AADG,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "sourcesContent": [
        "export default {\r\n    SECRET: 'products-api'\r\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1619138761438
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\User.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\User.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\User.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
        "sourceFileName": "User.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.Schema({\n  username: {\n    type: String,\n    required: true,\n    maxlength: 50,\n    unique: true\n  },\n  email: {\n    type: String,\n    maxlength: 70,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  roles: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: \"Role\"\n  }],\n  estado: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true,\n  versionKey: false\n});\n\nuserSchema.statics.encryptPassword = async password => {\n  const salt = await _bcryptjs.default.genSalt(10);\n  return await _bcryptjs.default.hash(password, salt);\n};\n\nuserSchema.statics.comparePassword = async (password, receivedPassword) => {\n  return await _bcryptjs.default.compare(password, receivedPassword);\n};\n\nvar _default = (0, _mongoose.model)('User', userSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIlNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWF4bGVuZ3RoIiwidW5pcXVlIiwiZW1haWwiLCJwYXNzd29yZCIsInJvbGVzIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsImVzdGFkbyIsIk51bWJlciIsImRlZmF1bHQiLCJ0aW1lc3RhbXBzIiwidmVyc2lvbktleSIsInN0YXRpY3MiLCJlbmNyeXB0UGFzc3dvcmQiLCJzYWx0IiwiYmNyeXB0IiwiZ2VuU2FsdCIsImhhc2giLCJjb21wYXJlUGFzc3dvcmQiLCJyZWNlaXZlZFBhc3N3b3JkIiwiY29tcGFyZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGdCQUFKLENBQVc7QUFDMUJDLEVBQUFBLFFBQVEsRUFBQztBQUFDQyxJQUFBQSxJQUFJLEVBQUNDLE1BQU47QUFBYUMsSUFBQUEsUUFBUSxFQUFDLElBQXRCO0FBQTJCQyxJQUFBQSxTQUFTLEVBQUMsRUFBckM7QUFBd0NDLElBQUFBLE1BQU0sRUFBQztBQUEvQyxHQURpQjtBQUUxQkMsRUFBQUEsS0FBSyxFQUFDO0FBQUNMLElBQUFBLElBQUksRUFBQ0MsTUFBTjtBQUFjRSxJQUFBQSxTQUFTLEVBQUMsRUFBeEI7QUFBMkJDLElBQUFBLE1BQU0sRUFBQztBQUFsQyxHQUZvQjtBQUcxQkUsRUFBQUEsUUFBUSxFQUFDO0FBQUNOLElBQUFBLElBQUksRUFBQ0MsTUFBTjtBQUFhQyxJQUFBQSxRQUFRLEVBQUM7QUFBdEIsR0FIaUI7QUFJMUJLLEVBQUFBLEtBQUssRUFBQyxDQUFDO0FBQ0hQLElBQUFBLElBQUksRUFBRUYsaUJBQU9VLEtBQVAsQ0FBYUMsUUFEaEI7QUFFSEMsSUFBQUEsR0FBRyxFQUFFO0FBRkYsR0FBRCxDQUpvQjtBQVExQkMsRUFBQUEsTUFBTSxFQUFDO0FBQUNYLElBQUFBLElBQUksRUFBQ1ksTUFBTjtBQUFjQyxJQUFBQSxPQUFPLEVBQUM7QUFBdEI7QUFSbUIsQ0FBWCxFQVNoQjtBQUNDQyxFQUFBQSxVQUFVLEVBQUUsSUFEYjtBQUVDQyxFQUFBQSxVQUFVLEVBQUU7QUFGYixDQVRnQixDQUFuQjs7QUFjQWxCLFVBQVUsQ0FBQ21CLE9BQVgsQ0FBbUJDLGVBQW5CLEdBQXFDLE1BQU9YLFFBQVAsSUFBb0I7QUFDckQsUUFBTVksSUFBSSxHQUFHLE1BQU1DLGtCQUFPQyxPQUFQLENBQWUsRUFBZixDQUFuQjtBQUNBLFNBQU8sTUFBTUQsa0JBQU9FLElBQVAsQ0FBWWYsUUFBWixFQUFzQlksSUFBdEIsQ0FBYjtBQUNILENBSEQ7O0FBS0FyQixVQUFVLENBQUNtQixPQUFYLENBQW1CTSxlQUFuQixHQUFzQyxPQUFPaEIsUUFBUCxFQUFnQmlCLGdCQUFoQixLQUFtQztBQUNyRSxTQUFPLE1BQU1KLGtCQUFPSyxPQUFQLENBQWVsQixRQUFmLEVBQXlCaUIsZ0JBQXpCLENBQWI7QUFDSCxDQUZEOztlQUllLHFCQUFNLE1BQU4sRUFBYTFCLFVBQWIsQyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBjU21hcnRcXERlc2t0b3BcXEFQSSBBVVRIXFxzcmNcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTY2hlbWEsIG1vZGVsfSBmcm9tICdtb25nb29zZSc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcm5hbWU6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWUsbWF4bGVuZ3RoOjUwLHVuaXF1ZTp0cnVlfSxcclxuICAgIGVtYWlsOnt0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjcwLHVuaXF1ZTp0cnVlfSxcclxuICAgIHBhc3N3b3JkOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHJvbGVzOlt7XHJcbiAgICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjogXCJSb2xlXCIsIFxyXG4gICAgfV0sXHJcbiAgICBlc3RhZG86e3R5cGU6TnVtYmVyLCBkZWZhdWx0OjF9LFxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gICAgdmVyc2lvbktleTogZmFsc2VcclxufSk7XHJcblxyXG51c2VyU2NoZW1hLnN0YXRpY3MuZW5jcnlwdFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XHJcbiAgICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xyXG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcclxufVxyXG5cclxudXNlclNjaGVtYS5zdGF0aWNzLmNvbXBhcmVQYXNzd29yZCAgPSBhc3luYyAocGFzc3dvcmQscmVjZWl2ZWRQYXNzd29yZCk9PntcclxuICAgIHJldHVybiBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgcmVjZWl2ZWRQYXNzd29yZClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9kZWwoJ1VzZXInLHVzZXJTY2hlbWEpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "userSchema",
        "Schema",
        "username",
        "type",
        "String",
        "required",
        "maxlength",
        "unique",
        "email",
        "password",
        "roles",
        "Types",
        "ObjectId",
        "ref",
        "estado",
        "Number",
        "default",
        "timestamps",
        "versionKey",
        "statics",
        "encryptPassword",
        "salt",
        "bcrypt",
        "genSalt",
        "hash",
        "comparePassword",
        "receivedPassword",
        "compare"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,gBAAJ,CAAW;AAC1BC,EAAAA,QAAQ,EAAC;AAACC,IAAAA,IAAI,EAACC,MAAN;AAAaC,IAAAA,QAAQ,EAAC,IAAtB;AAA2BC,IAAAA,SAAS,EAAC,EAArC;AAAwCC,IAAAA,MAAM,EAAC;AAA/C,GADiB;AAE1BC,EAAAA,KAAK,EAAC;AAACL,IAAAA,IAAI,EAACC,MAAN;AAAcE,IAAAA,SAAS,EAAC,EAAxB;AAA2BC,IAAAA,MAAM,EAAC;AAAlC,GAFoB;AAG1BE,EAAAA,QAAQ,EAAC;AAACN,IAAAA,IAAI,EAACC,MAAN;AAAaC,IAAAA,QAAQ,EAAC;AAAtB,GAHiB;AAI1BK,EAAAA,KAAK,EAAC,CAAC;AACHP,IAAAA,IAAI,EAAEF,iBAAOU,KAAP,CAAaC,QADhB;AAEHC,IAAAA,GAAG,EAAE;AAFF,GAAD,CAJoB;AAQ1BC,EAAAA,MAAM,EAAC;AAACX,IAAAA,IAAI,EAACY,MAAN;AAAcC,IAAAA,OAAO,EAAC;AAAtB;AARmB,CAAX,EAShB;AACCC,EAAAA,UAAU,EAAE,IADb;AAECC,EAAAA,UAAU,EAAE;AAFb,CATgB,CAAnB;;AAcAlB,UAAU,CAACmB,OAAX,CAAmBC,eAAnB,GAAqC,MAAOX,QAAP,IAAoB;AACrD,QAAMY,IAAI,GAAG,MAAMC,kBAAOC,OAAP,CAAe,EAAf,CAAnB;AACA,SAAO,MAAMD,kBAAOE,IAAP,CAAYf,QAAZ,EAAsBY,IAAtB,CAAb;AACH,CAHD;;AAKArB,UAAU,CAACmB,OAAX,CAAmBM,eAAnB,GAAsC,OAAOhB,QAAP,EAAgBiB,gBAAhB,KAAmC;AACrE,SAAO,MAAMJ,kBAAOK,OAAP,CAAelB,QAAf,EAAyBiB,gBAAzB,CAAb;AACH,CAFD;;eAIe,qBAAM,MAAN,EAAa1B,UAAb,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "sourcesContent": [
        "import {Schema, model} from 'mongoose';\r\nimport bcrypt from 'bcryptjs';\r\n\r\nconst userSchema = new Schema({\r\n    username:{type:String,required:true,maxlength:50,unique:true},\r\n    email:{type:String, maxlength:70,unique:true},\r\n    password:{type:String,required:true},\r\n    roles:[{\r\n        type: Schema.Types.ObjectId,\r\n        ref: \"Role\", \r\n    }],\r\n    estado:{type:Number, default:1},\r\n}, {\r\n    timestamps: true,\r\n    versionKey: false\r\n});\r\n\r\nuserSchema.statics.encryptPassword = async (password) => {\r\n    const salt = await bcrypt.genSalt(10);\r\n    return await bcrypt.hash(password, salt);\r\n}\r\n\r\nuserSchema.statics.comparePassword  = async (password,receivedPassword)=>{\r\n    return await bcrypt.compare(password, receivedPassword)\r\n}\r\n\r\nexport default model('User',userSchema);"
      ]
    },
    "sourceType": "script",
    "mtime": 1618853066849
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\verifySignup.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\verifySignup.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\verifySignup.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\verifySignup.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
        "sourceFileName": "verifySignup.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkRolesExisted = exports.checkDuplicateUsernameOrEmail = void 0;\n\nvar _Role = require(\"../models/Role\");\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst checkDuplicateUsernameOrEmail = async (req, res, next) => {\n  try {\n    const email = await _User.default.findOne({\n      email: req.body.email\n    });\n\n    if (email) {\n      req.flash(\"error_msg\", \"El email ya esta registrado\");\n      res.redirect('/users/signup');\n    } else {\n      next();\n    }\n  } catch (error) {\n    res.status(500).json({\n      message: error\n    });\n  }\n};\n\nexports.checkDuplicateUsernameOrEmail = checkDuplicateUsernameOrEmail;\n\nconst checkRolesExisted = (req, res, next) => {\n  if (req.body.roles) {\n    for (let i = 0; i < req.body.roles.lengh; i++) {\n      if (!_Role.ROLES.includes(req.body.roles[i])) {\n        return res.status(400).json({\n          message: `Role ${req.body.roles[i]} no existe`\n        });\n      }\n    }\n  }\n\n  next();\n};\n\nexports.checkRolesExisted = checkRolesExisted;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlcmlmeVNpZ251cC5qcyJdLCJuYW1lcyI6WyJjaGVja0R1cGxpY2F0ZVVzZXJuYW1lT3JFbWFpbCIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsIlVzZXIiLCJmaW5kT25lIiwiYm9keSIsImZsYXNoIiwicmVkaXJlY3QiLCJlcnJvciIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiY2hlY2tSb2xlc0V4aXN0ZWQiLCJyb2xlcyIsImkiLCJsZW5naCIsIlJPTEVTIiwiaW5jbHVkZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBLE1BQU1BLDZCQUE2QixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7QUFFOUQsTUFBSTtBQUNGLFVBQU1DLEtBQUssR0FBRyxNQUFNQyxjQUFLQyxPQUFMLENBQWE7QUFBRUYsTUFBQUEsS0FBSyxFQUFFSCxHQUFHLENBQUNNLElBQUosQ0FBU0g7QUFBbEIsS0FBYixDQUFwQjs7QUFDQSxRQUFJQSxLQUFKLEVBQVU7QUFDUkgsTUFBQUEsR0FBRyxDQUFDTyxLQUFKLENBQVUsV0FBVixFQUF1Qiw2QkFBdkI7QUFBc0ROLE1BQUFBLEdBQUcsQ0FBQ08sUUFBSixDQUFhLGVBQWI7QUFDdkQsS0FGRCxNQUVLO0FBQ0hOLE1BQUFBLElBQUk7QUFDTDtBQUNGLEdBUEQsQ0FPRSxPQUFPTyxLQUFQLEVBQWM7QUFDZFIsSUFBQUEsR0FBRyxDQUFDUyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFSDtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQVpEOzs7O0FBZ0JBLE1BQU1JLGlCQUFpQixHQUFHLENBQUNiLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzVDLE1BQUlGLEdBQUcsQ0FBQ00sSUFBSixDQUFTUSxLQUFiLEVBQW9CO0FBQ2xCLFNBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR2YsR0FBRyxDQUFDTSxJQUFKLENBQVNRLEtBQVQsQ0FBZUUsS0FBbkMsRUFBMENELENBQUMsRUFBM0MsRUFBK0M7QUFDN0MsVUFBSSxDQUFDRSxZQUFNQyxRQUFOLENBQWVsQixHQUFHLENBQUNNLElBQUosQ0FBU1EsS0FBVCxDQUFlQyxDQUFmLENBQWYsQ0FBTCxFQUF3QztBQUN0QyxlQUFPZCxHQUFHLENBQUNTLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsVUFBQUEsT0FBTyxFQUFHLFFBQU9aLEdBQUcsQ0FBQ00sSUFBSixDQUFTUSxLQUFULENBQWVDLENBQWYsQ0FBa0I7QUFEVCxTQUFyQixDQUFQO0FBR0Q7QUFDRjtBQUNGOztBQUNEYixFQUFBQSxJQUFJO0FBQ0wsQ0FYRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBjU21hcnRcXERlc2t0b3BcXEFQSSBBVVRIXFxzcmNcXG1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBST0xFUyB9IGZyb20gXCIuLi9tb2RlbHMvUm9sZVwiO1xyXG5pbXBvcnQgVXNlciBmcm9tIFwiLi4vbW9kZWxzL1VzZXJcIjtcclxuY29uc3QgY2hlY2tEdXBsaWNhdGVVc2VybmFtZU9yRW1haWwgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc3QgZW1haWwgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwgfSk7XHJcbiAgICBpZiAoZW1haWwpe1xyXG4gICAgICByZXEuZmxhc2goXCJlcnJvcl9tc2dcIiwgXCJFbCBlbWFpbCB5YSBlc3RhIHJlZ2lzdHJhZG9cIik7cmVzLnJlZGlyZWN0KCcvdXNlcnMvc2lnbnVwJyk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgbmV4dCgpO1xyXG4gICAgfSAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogZXJyb3IgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcblxyXG5jb25zdCBjaGVja1JvbGVzRXhpc3RlZCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGlmIChyZXEuYm9keS5yb2xlcykge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXEuYm9keS5yb2xlcy5sZW5naDsgaSsrKSB7XHJcbiAgICAgIGlmICghUk9MRVMuaW5jbHVkZXMocmVxLmJvZHkucm9sZXNbaV0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IGBSb2xlICR7cmVxLmJvZHkucm9sZXNbaV19IG5vIGV4aXN0ZWAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgbmV4dCgpO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgY2hlY2tEdXBsaWNhdGVVc2VybmFtZU9yRW1haWwsIGNoZWNrUm9sZXNFeGlzdGVkIH07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "verifySignup.js"
      ],
      "names": [
        "checkDuplicateUsernameOrEmail",
        "req",
        "res",
        "next",
        "email",
        "User",
        "findOne",
        "body",
        "flash",
        "redirect",
        "error",
        "status",
        "json",
        "message",
        "checkRolesExisted",
        "roles",
        "i",
        "lengh",
        "ROLES",
        "includes"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,6BAA6B,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAE9D,MAAI;AACF,UAAMC,KAAK,GAAG,MAAMC,cAAKC,OAAL,CAAa;AAAEF,MAAAA,KAAK,EAAEH,GAAG,CAACM,IAAJ,CAASH;AAAlB,KAAb,CAApB;;AACA,QAAIA,KAAJ,EAAU;AACRH,MAAAA,GAAG,CAACO,KAAJ,CAAU,WAAV,EAAuB,6BAAvB;AAAsDN,MAAAA,GAAG,CAACO,QAAJ,CAAa,eAAb;AACvD,KAFD,MAEK;AACHN,MAAAA,IAAI;AACL;AACF,GAPD,CAOE,OAAOO,KAAP,EAAc;AACdR,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAEH;AAAX,KAArB;AACD;AACF,CAZD;;;;AAgBA,MAAMI,iBAAiB,GAAG,CAACb,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC5C,MAAIF,GAAG,CAACM,IAAJ,CAASQ,KAAb,EAAoB;AAClB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,GAAG,CAACM,IAAJ,CAASQ,KAAT,CAAeE,KAAnC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,UAAI,CAACE,YAAMC,QAAN,CAAelB,GAAG,CAACM,IAAJ,CAASQ,KAAT,CAAeC,CAAf,CAAf,CAAL,EAAwC;AACtC,eAAOd,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,UAAAA,OAAO,EAAG,QAAOZ,GAAG,CAACM,IAAJ,CAASQ,KAAT,CAAeC,CAAf,CAAkB;AADT,SAArB,CAAP;AAGD;AACF;AACF;;AACDb,EAAAA,IAAI;AACL,CAXD",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "sourcesContent": [
        "import { ROLES } from \"../models/Role\";\r\nimport User from \"../models/User\";\r\nconst checkDuplicateUsernameOrEmail = async (req, res, next) => {\r\n  \r\n  try {\r\n    const email = await User.findOne({ email: req.body.email });\r\n    if (email){\r\n      req.flash(\"error_msg\", \"El email ya esta registrado\");res.redirect('/users/signup');\r\n    }else{\r\n      next();\r\n    }  \r\n  } catch (error) {\r\n    res.status(500).json({ message: error });\r\n  }\r\n};\r\n\r\n\r\n\r\nconst checkRolesExisted = (req, res, next) => {\r\n  if (req.body.roles) {\r\n    for (let i = 0; i < req.body.roles.lengh; i++) {\r\n      if (!ROLES.includes(req.body.roles[i])) {\r\n        return res.status(400).json({\r\n          message: `Role ${req.body.roles[i]} no existe`,\r\n        });\r\n      }\r\n    }\r\n  }\r\n  next();\r\n};\r\n\r\nexport { checkDuplicateUsernameOrEmail, checkRolesExisted };\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1618978403433
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\auth.routes.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\auth.routes.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\auth.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "auth.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar authCtrl = _interopRequireWildcard(require(\"../controllers/auth.controller\"));\n\nvar _middlewares = require(\"../middlewares\");\n\nvar _passport = _interopRequireDefault(require(\"../config/passport\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst router = (0, _express.Router)();\nrouter.use((req, res, next) => {\n  res.header(\"Access-Control-Allow-Headers\", \"x-access-token, Origin, Content-Type, Accept\");\n  next();\n});\nrouter.post('/signup', [_middlewares.verifySignup.checkRolesExisted], authCtrl.signup);\nrouter.post('/signin', authCtrl.signin);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgucm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInVzZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJwb3N0IiwidmVyaWZ5U2lnbnVwIiwiY2hlY2tSb2xlc0V4aXN0ZWQiLCJhdXRoQ3RybCIsInNpZ251cCIsInNpZ25pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUdBOztBQUNBOztBQUNBOzs7Ozs7OztBQUpBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjtBQUtBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUMzQkQsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQ0UsOEJBREYsRUFFRSw4Q0FGRjtBQUlBRCxFQUFBQSxJQUFJO0FBQ0wsQ0FOSDtBQU9BSixNQUFNLENBQUNNLElBQVAsQ0FBWSxTQUFaLEVBQXVCLENBQUNDLDBCQUFhQyxpQkFBZCxDQUF2QixFQUF3REMsUUFBUSxDQUFDQyxNQUFqRTtBQUNBVixNQUFNLENBQUNNLElBQVAsQ0FBWSxTQUFaLEVBQXVCRyxRQUFRLENBQUNFLE1BQWhDO2VBRWVYLE0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJ1xyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmltcG9ydCAqIGFzIGF1dGhDdHJsIGZyb20gJy4uL2NvbnRyb2xsZXJzL2F1dGguY29udHJvbGxlcidcclxuaW1wb3J0IHt2ZXJpZnlTaWdudXB9IGZyb20gJy4uL21pZGRsZXdhcmVzJ1xyXG5pbXBvcnQgcGFzc3BvcnR6IGZyb20gJy4uL2NvbmZpZy9wYXNzcG9ydCdcclxucm91dGVyLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIHJlcy5oZWFkZXIoXHJcbiAgICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLFxyXG4gICAgICBcIngtYWNjZXNzLXRva2VuLCBPcmlnaW4sIENvbnRlbnQtVHlwZSwgQWNjZXB0XCJcclxuICAgICk7XHJcbiAgICBuZXh0KCk7XHJcbiAgfSk7XHJcbnJvdXRlci5wb3N0KCcvc2lnbnVwJywgW3ZlcmlmeVNpZ251cC5jaGVja1JvbGVzRXhpc3RlZF0sYXV0aEN0cmwuc2lnbnVwKVxyXG5yb3V0ZXIucG9zdCgnL3NpZ25pbicsIGF1dGhDdHJsLnNpZ25pbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "auth.routes.js"
      ],
      "names": [
        "router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "post",
        "verifySignup",
        "checkRolesExisted",
        "authCtrl",
        "signup",
        "signin"
      ],
      "mappings": ";;;;;;;AAAA;;AAGA;;AACA;;AACA;;;;;;;;AAJA,MAAMA,MAAM,GAAG,sBAAf;AAKAA,MAAM,CAACC,GAAP,CAAW,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC3BD,EAAAA,GAAG,CAACE,MAAJ,CACE,8BADF,EAEE,8CAFF;AAIAD,EAAAA,IAAI;AACL,CANH;AAOAJ,MAAM,CAACM,IAAP,CAAY,SAAZ,EAAuB,CAACC,0BAAaC,iBAAd,CAAvB,EAAwDC,QAAQ,CAACC,MAAjE;AACAV,MAAM,CAACM,IAAP,CAAY,SAAZ,EAAuBG,QAAQ,CAACE,MAAhC;eAEeX,M",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "import {Router} from 'express'\r\nconst router = Router();\r\n\r\nimport * as authCtrl from '../controllers/auth.controller'\r\nimport {verifySignup} from '../middlewares'\r\nimport passportz from '../config/passport'\r\nrouter.use((req, res, next) => {\r\n    res.header(\r\n      \"Access-Control-Allow-Headers\",\r\n      \"x-access-token, Origin, Content-Type, Accept\"\r\n    );\r\n    next();\r\n  });\r\nrouter.post('/signup', [verifySignup.checkRolesExisted],authCtrl.signup)\r\nrouter.post('/signin', authCtrl.signin);\r\n\r\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1618993821771
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\auth.controller.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\auth.controller.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\auth.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
        "sourceFileName": "auth.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signin = exports.renderSigninForm = exports.renderproductos = exports.signup = exports.renderSignUpForm = void 0;\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nvar _Role = _interopRequireDefault(require(\"../models/Role\"));\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst renderSignUpForm = (req, res) => res.render(\"users/signup\");\n\nexports.renderSignUpForm = renderSignUpForm;\n\nconst signup = async (req, res) => {\n  const errors = [];\n  const {\n    username,\n    email,\n    password,\n    Confirmpassword,\n    roles\n  } = req.body;\n\n  if (username.length <= 0 || password.length <= 0 || email.length <= 0) {\n    errors.push({\n      text: \"Campos Vacios\"\n    });\n  }\n\n  if (password != Confirmpassword) {\n    errors.push({\n      text: \"Contraseas no coinciden\"\n    });\n  }\n\n  if (password.length < 4) {\n    errors.push({\n      text: \"La Contraseas debe tener almenos 4 caracteres\"\n    });\n  }\n\n  if (errors.length > 0) {\n    res.render(\"users/signup\", {\n      errors,\n      username,\n      email,\n      password,\n      Confirmpassword,\n      roles\n    });\n  } else {\n    const emailUser = await _User.default.findOne({\n      email: email\n    });\n\n    if (emailUser) {\n      req.flash(\"error_msg\", \"Este Correo Ya Esta En Uso.\");\n      res.redirect(\"/users/signup\");\n    } else {\n      const newUser = new _User.default({\n        username,\n        email,\n        password: await _User.default.encryptPassword(password)\n      });\n\n      if (roles) {\n        const foundRoles = await _Role.default.find({\n          name: {\n            $in: roles\n          }\n        });\n        newUser.roles = foundRoles.map(role => role._id);\n      } else {\n        const role = await _Role.default.findOne({\n          name: \"user\"\n        });\n        newUser.roles = [role._id];\n      }\n\n      const savedUser = await newUser.save();\n      console.log(savedUser);\n\n      const token = _jsonwebtoken.default.sign({\n        id: savedUser._id\n      }, _config.default.SECRET, {\n        expiresIn: 86400 // 24 horas\n\n      });\n\n      console.log(token);\n      res.redirect(\"/productos\");\n    }\n  }\n};\n\nexports.signup = signup;\n\nconst renderproductos = (req, res) => res.render(\"/productos\");\n\nexports.renderproductos = renderproductos;\n\nconst renderSigninForm = (req, res) => res.render(\"users/signin\");\n\nexports.renderSigninForm = renderSigninForm;\n\nconst signin = async (req, res) => {\n  const userFound = await _User.default.findOne({\n    email: req.body.email\n  }).populate(\"roles\");\n\n  if (!userFound) {\n    req.flash(\"error_msg\", \"Usuario no encontrado\");\n    return res.json({\n      status: \"off\"\n    });\n  } else {\n    const matchPassword = await _User.default.comparePassword(req.body.password, userFound.password);\n\n    if (!matchPassword) {\n      req.flash(\"error_msg\", \"password incorrecto\");\n      return res.json({\n        status: \"off\"\n      });\n    }\n\n    const token = _jsonwebtoken.default.sign({\n      id: userFound._id\n    }, _config.default.SECRET, {\n      expiresIn: 86400\n    });\n\n    req.session.mail = token;\n    console.log(req.session.mail);\n    return res.json({\n      status: \"ok\",\n      data: token\n    });\n  }\n};\n\nexports.signin = signin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJyZW5kZXJTaWduVXBGb3JtIiwicmVxIiwicmVzIiwicmVuZGVyIiwic2lnbnVwIiwiZXJyb3JzIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiQ29uZmlybXBhc3N3b3JkIiwicm9sZXMiLCJib2R5IiwibGVuZ3RoIiwicHVzaCIsInRleHQiLCJlbWFpbFVzZXIiLCJVc2VyIiwiZmluZE9uZSIsImZsYXNoIiwicmVkaXJlY3QiLCJuZXdVc2VyIiwiZW5jcnlwdFBhc3N3b3JkIiwiZm91bmRSb2xlcyIsIlJvbGUiLCJmaW5kIiwibmFtZSIsIiRpbiIsIm1hcCIsInJvbGUiLCJfaWQiLCJzYXZlZFVzZXIiLCJzYXZlIiwiY29uc29sZSIsImxvZyIsInRva2VuIiwiand0Iiwic2lnbiIsImlkIiwiY29uZmlnIiwiU0VDUkVUIiwiZXhwaXJlc0luIiwicmVuZGVycHJvZHVjdG9zIiwicmVuZGVyU2lnbmluRm9ybSIsInNpZ25pbiIsInVzZXJGb3VuZCIsInBvcHVsYXRlIiwianNvbiIsInN0YXR1cyIsIm1hdGNoUGFzc3dvcmQiLCJjb21wYXJlUGFzc3dvcmQiLCJzZXNzaW9uIiwibWFpbCIsImRhdGEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVPLE1BQU1BLGdCQUFnQixHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxjQUFYLENBQXZDOzs7O0FBRUEsTUFBTUMsTUFBTSxHQUFHLE9BQU9ILEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN4QyxRQUFNRyxNQUFNLEdBQUcsRUFBZjtBQUNBLFFBQU07QUFBRUMsSUFBQUEsUUFBRjtBQUFZQyxJQUFBQSxLQUFaO0FBQW1CQyxJQUFBQSxRQUFuQjtBQUE2QkMsSUFBQUEsZUFBN0I7QUFBOENDLElBQUFBO0FBQTlDLE1BQXdEVCxHQUFH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QyxJQUFBQSxHQUFHLENBQUNpRCxPQUFKLENBQVlDLElBQVosR0FBa0JqQixLQUFsQjtBQUNBRixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWhDLEdBQUcsQ0FBQ2lELE9BQUosQ0FBWUMsSUFBeEI7QUFDQSxXQUFPakQsR0FBRyxDQUFDNEMsSUFBSixDQUFTO0FBQUVDLE1BQUFBLE1BQU0sRUFBRSxJQUFWO0FBQWdCSyxNQUFBQSxJQUFJLEVBQUVsQjtBQUF0QixLQUFULENBQVA7QUFDRDtBQUNGLENBdkJNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvVXNlclwiO1xyXG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vY29uZmlnXCI7XHJcbmltcG9ydCBSb2xlIGZyb20gXCIuLi9tb2RlbHMvUm9sZVwiO1xyXG5pbXBvcnQgcGFzc3BvcnQgZnJvbSBcInBhc3Nwb3J0XCI7XHJcbmltcG9ydCBDb29raWVzIGZyb20gXCJqcy1jb29raWVcIjtcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJTaWduVXBGb3JtID0gKHJlcSwgcmVzKSA9PiByZXMucmVuZGVyKFwidXNlcnMvc2lnbnVwXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNpZ251cCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGVycm9ycyA9IFtdO1xyXG4gIGNvbnN0IHsgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgQ29uZmlybXBhc3N3b3JkLCByb2xlcyB9ID0gcmVxLmJvZHk7XHJcblxyXG4gIGlmICh1c2VybmFtZS5sZW5ndGggPD0gMCB8fCBwYXNzd29yZC5sZW5ndGggPD0gMCB8fCBlbWFpbC5sZW5ndGggPD0gMCkge1xyXG4gICAgZXJyb3JzLnB1c2goeyB0ZXh0OiBcIkNhbXBvcyBWYWNpb3NcIiB9KTtcclxuICB9XHJcblxyXG4gIGlmIChwYXNzd29yZCAhPSBDb25maXJtcGFzc3dvcmQpIHtcclxuICAgIGVycm9ycy5wdXNoKHsgdGV4dDogXCJDb250cmFzZcOxYXMgbm8gY29pbmNpZGVuXCIgfSk7XHJcbiAgfVxyXG4gIGlmIChwYXNzd29yZC5sZW5ndGggPCA0KSB7XHJcbiAgICBlcnJvcnMucHVzaCh7IHRleHQ6IFwiTGEgQ29udHJhc2XDsWFzIGRlYmUgdGVuZXIgYWxtZW5vcyA0IGNhcmFjdGVyZXNcIiB9KTtcclxuICB9XHJcbiAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICByZXMucmVuZGVyKFwidXNlcnMvc2lnbnVwXCIsIHtcclxuICAgICAgZXJyb3JzLFxyXG4gICAgICB1c2VybmFtZSxcclxuICAgICAgZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkLFxyXG4gICAgICBDb25maXJtcGFzc3dvcmQsXHJcbiAgICAgIHJvbGVzLFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGVtYWlsVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgIGlmIChlbWFpbFVzZXIpIHtcclxuICAgICAgcmVxLmZsYXNoKFwiZXJyb3JfbXNnXCIsIFwiRXN0ZSBDb3JyZW8gWWEgRXN0YSBFbiBVc28uXCIpO1xyXG4gICAgICByZXMucmVkaXJlY3QoXCIvdXNlcnMvc2lnbnVwXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICBlbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogYXdhaXQgVXNlci5lbmNyeXB0UGFzc3dvcmQocGFzc3dvcmQpLFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHJvbGVzKSB7XHJcbiAgICAgICAgY29uc3QgZm91bmRSb2xlcyA9IGF3YWl0IFJvbGUuZmluZCh7IG5hbWU6IHsgJGluOiByb2xlcyB9IH0pO1xyXG4gICAgICAgIG5ld1VzZXIucm9sZXMgPSBmb3VuZFJvbGVzLm1hcCgocm9sZSkgPT4gcm9sZS5faWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHJvbGUgPSBhd2FpdCBSb2xlLmZpbmRPbmUoeyBuYW1lOiBcInVzZXJcIiB9KTtcclxuICAgICAgICBuZXdVc2VyLnJvbGVzID0gW3JvbGUuX2lkXTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBzYXZlZFVzZXIgPSBhd2FpdCBuZXdVc2VyLnNhdmUoKTtcclxuICAgICAgY29uc29sZS5sb2coc2F2ZWRVc2VyKTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IGlkOiBzYXZlZFVzZXIuX2lkIH0sIGNvbmZpZy5TRUNSRVQsIHtcclxuICAgICAgICBleHBpcmVzSW46IDg2NDAwLCAvLyAyNCBob3Jhc1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc29sZS5sb2codG9rZW4pO1xyXG4gICAgICByZXMucmVkaXJlY3QoXCIvcHJvZHVjdG9zXCIpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuZXhwb3J0IGNvbnN0IHJlbmRlcnByb2R1Y3RvcyA9IChyZXEsIHJlcykgPT4gcmVzLnJlbmRlcihcIi9wcm9kdWN0b3NcIik7XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyU2lnbmluRm9ybSA9IChyZXEsIHJlcykgPT4gcmVzLnJlbmRlcihcInVzZXJzL3NpZ25pblwiKTtcclxuXHJcblxyXG5leHBvcnQgY29uc3Qgc2lnbmluID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgdXNlckZvdW5kID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWw6IHJlcS5ib2R5LmVtYWlsIH0pLnBvcHVsYXRlKFxyXG4gICAgXCJyb2xlc1wiXHJcbiAgKTtcclxuICBpZiAoIXVzZXJGb3VuZCkge1xyXG4gICAgcmVxLmZsYXNoKFwiZXJyb3JfbXNnXCIsIFwiVXN1YXJpbyBubyBlbmNvbnRyYWRvXCIpO1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9mZlwifSlcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgbWF0Y2hQYXNzd29yZCA9IGF3YWl0IFVzZXIuY29tcGFyZVBhc3N3b3JkKFxyXG4gICAgICByZXEuYm9keS5wYXNzd29yZCxcclxuICAgICAgdXNlckZvdW5kLnBhc3N3b3JkXHJcbiAgICApO1xyXG4gICAgaWYgKCFtYXRjaFBhc3N3b3JkKSB7XHJcbiAgICAgIHJlcS5mbGFzaChcImVycm9yX21zZ1wiLCBcInBhc3N3b3JkIGluY29ycmVjdG9cIik7XHJcbiAgICAgIHJldHVybiByZXMuanNvbih7IHN0YXR1czogXCJvZmZcIn0pXHJcbiAgICB9XHJcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgaWQ6IHVzZXJGb3VuZC5faWQgfSwgY29uZmlnLlNFQ1JFVCwge1xyXG4gICAgICBleHBpcmVzSW46IDg2NDAwLFxyXG4gICAgfSk7XHJcbiAgICByZXEuc2Vzc2lvbi5tYWlsPSB0b2tlbjtcclxuICAgIGNvbnNvbGUubG9nKHJlcS5zZXNzaW9uLm1haWwpO1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9rXCIsIGRhdGE6IHRva2VuIH0pO1xyXG4gIH1cclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "auth.controller.js"
      ],
      "names": [
        "renderSignUpForm",
        "req",
        "res",
        "render",
        "signup",
        "errors",
        "username",
        "email",
        "password",
        "Confirmpassword",
        "roles",
        "body",
        "length",
        "push",
        "text",
        "emailUser",
        "User",
        "findOne",
        "flash",
        "redirect",
        "newUser",
        "encryptPassword",
        "foundRoles",
        "Role",
        "find",
        "name",
        "$in",
        "map",
        "role",
        "_id",
        "savedUser",
        "save",
        "console",
        "log",
        "token",
        "jwt",
        "sign",
        "id",
        "config",
        "SECRET",
        "expiresIn",
        "renderproductos",
        "renderSigninForm",
        "signin",
        "userFound",
        "populate",
        "json",
        "status",
        "matchPassword",
        "comparePassword",
        "session",
        "mail",
        "data"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "sourcesContent": [
        "import User from \"../models/User\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport config from \"../config\";\r\nimport Role from \"../models/Role\";\r\nimport passport from \"passport\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport const renderSignUpForm = (req, res) => res.render(\"users/signup\");\r\n\r\nexport const signup = async (req, res) => {\r\n  const errors = [];\r\n  const { username, email, password, Confirmpassword, roles } = req.body;\r\n\r\n  if (username.length <= 0 || password.length <= 0 || email.length <= 0) {\r\n    errors.push({ text: \"Campos Vacios\" });\r\n  }\r\n\r\n  if (password != Confirmpassword) {\r\n    errors.push({ text: \"Contraseas no coinciden\" });\r\n  }\r\n  if (password.length < 4) {\r\n    errors.push({ text: \"La Contraseas debe tener almenos 4 caracteres\" });\r\n  }\r\n  if (errors.length > 0) {\r\n    res.render(\"users/signup\", {\r\n      errors,\r\n      username,\r\n      email,\r\n      password,\r\n      Confirmpassword,\r\n      roles,\r\n    });\r\n  } else {\r\n    const emailUser = await User.findOne({ email: email });\r\n    if (emailUser) {\r\n      req.flash(\"error_msg\", \"Este Correo Ya Esta En Uso.\");\r\n      res.redirect(\"/users/signup\");\r\n    } else {\r\n      const newUser = new User({\r\n        username,\r\n        email,\r\n        password: await User.encryptPassword(password),\r\n      });\r\n      if (roles) {\r\n        const foundRoles = await Role.find({ name: { $in: roles } });\r\n        newUser.roles = foundRoles.map((role) => role._id);\r\n      } else {\r\n        const role = await Role.findOne({ name: \"user\" });\r\n        newUser.roles = [role._id];\r\n      }\r\n      const savedUser = await newUser.save();\r\n      console.log(savedUser);\r\n      const token = jwt.sign({ id: savedUser._id }, config.SECRET, {\r\n        expiresIn: 86400, // 24 horas\r\n      });\r\n      console.log(token);\r\n      res.redirect(\"/productos\");\r\n    }\r\n  }\r\n};\r\nexport const renderproductos = (req, res) => res.render(\"/productos\");\r\n\r\nexport const renderSigninForm = (req, res) => res.render(\"users/signin\");\r\n\r\n\r\nexport const signin = async (req, res) => {\r\n  const userFound = await User.findOne({ email: req.body.email }).populate(\r\n    \"roles\"\r\n  );\r\n  if (!userFound) {\r\n    req.flash(\"error_msg\", \"Usuario no encontrado\");\r\n    return res.json({ status: \"off\"})\r\n  } else {\r\n    const matchPassword = await User.comparePassword(\r\n      req.body.password,\r\n      userFound.password\r\n    );\r\n    if (!matchPassword) {\r\n      req.flash(\"error_msg\", \"password incorrecto\");\r\n      return res.json({ status: \"off\"})\r\n    }\r\n    const token = jwt.sign({ id: userFound._id }, config.SECRET, {\r\n      expiresIn: 86400,\r\n    });\r\n    req.session.mail= token;\r\n    console.log(req.session.mail);\r\n    return res.json({ status: \"ok\", data: token });\r\n  }\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1619065494433
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\config\\\\passport.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\passport.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\passport.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\passport.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\",
        "sourceFileName": "passport.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _passportLocal = require(\"passport-local\");\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_passport.default.use(new _passportLocal.Strategy({\n  usernameField: 'email'\n}, async (email, password, done) => {\n  console.log(\"primera entrada\");\n  const user = await _User.default.findOne({\n    email: email\n  }).find();\n  console.log(\"encontramos al user\", user);\n\n  if (!user) {\n    return done(null, false, {\n      message: 'Usuario No Encontrado'\n    });\n  } else {\n    const match = await user.comparePassword(password);\n    console.log(\"asdasdasdasdas\", match);\n\n    if (match) {\n      return done(null, user);\n    } else {\n      return done(null, false, {\n        message: 'Contrasea Incorrecta'\n      });\n    }\n  }\n\n  return;\n}));\n\n_passport.default.serializeUser((user, done) => {\n  done(null, user.id);\n});\n\n_passport.default.deserializeUser((id, done) => {\n  _User.default.findById(id, (err, user) => {\n    done(err, user);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbInBhc3Nwb3J0IiwidXNlIiwiTG9jYWxTdHJhdGVneSIsInVzZXJuYW1lRmllbGQiLCJlbWFpbCIsInBhc3N3b3JkIiwiZG9uZSIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiVXNlciIsImZpbmRPbmUiLCJmaW5kIiwibWVzc2FnZSIsIm1hdGNoIiwiY29tcGFyZVBhc3N3b3JkIiwic2VyaWFsaXplVXNlciIsImlkIiwiZGVzZXJpYWxpemVVc2VyIiwiZmluZEJ5SWQiLCJlcnIiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBRUE7Ozs7QUFFQUEsa0JBQVNDLEdBQVQsQ0FDSSxJQUFJQyx1QkFBSixDQUNIO0FBQ0dDLEVBQUFBLGFBQWEsRUFBRTtBQURsQixDQURHLEVBSUEsT0FBT0MsS0FBUCxFQUFjQyxRQUFkLEVBQXdCQyxJQUF4QixLQUErQjtBQUMvQkMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVo7QUFDQSxRQUFNQyxJQUFJLEdBQUcsTUFBTUMsY0FBS0MsT0FBTCxDQUFhO0FBQUNQLElBQUFBLEtBQUssRUFBRUE7QUFBUixHQUFiLEVBQTZCUSxJQUE3QixFQUFuQjtBQUNBTCxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBWixFQUFtQ0MsSUFBbkM7O0FBQ0EsTUFBRyxDQUFDQSxJQUFKLEVBQVM7QUFDTCxXQUFPSCxJQUFJLENBQUMsSUFBRCxFQUFPLEtBQVAsRUFBYztBQUFDTyxNQUFBQSxPQUFPLEVBQUU7QUFBVixLQUFkLENBQVg7QUFDSCxHQUZELE1BRUs7QUFDSCxVQUFNQyxLQUFLLEdBQUcsTUFBTUwsSUFBSSxDQUFDTSxlQUFMLENBQXFCVixRQUFyQixDQUFwQjtBQUNBRSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWixFQUE4Qk0sS0FBOUI7O0FBQ0UsUUFBR0EsS0FBSCxFQUFTO0FBQ0wsYUFBT1IsSUFBSSxDQUFFLElBQUYsRUFBUUcsSUFBUixDQUFYO0FBQ0gsS0FGRCxNQUVNO0FBQ0YsYUFBT0gsSUFBSSxDQUFDLElBQUQsRUFBTSxLQUFOLEVBQWE7QUFBQ08sUUFBQUEsT0FBTyxFQUFFO0FBQVYsT0FBYixDQUFYO0FBQ0g7QUFDSjs7QUFDRDtBQUNILENBcEJHLENBREo7O0FBdUJBYixrQkFBU2dCLGFBQVQsQ0FBdUIsQ0FBQ1AsSUFBRCxFQUFNSCxJQUFOLEtBQWE7QUFDaENBLEVBQUFBLElBQUksQ0FBQyxJQUFELEVBQU9HLElBQUksQ0FBQ1EsRUFBWixDQUFKO0FBQ0gsQ0FGRDs7QUFJQWpCLGtCQUFTa0IsZUFBVCxDQUF5QixDQUFDRCxFQUFELEVBQUtYLElBQUwsS0FBWTtBQUNqQ0ksZ0JBQUtTLFFBQUwsQ0FBY0YsRUFBZCxFQUFpQixDQUFDRyxHQUFELEVBQUtYLElBQUwsS0FBWTtBQUN6QkgsSUFBQUEsSUFBSSxDQUFDYyxHQUFELEVBQUtYLElBQUwsQ0FBSjtBQUNILEdBRkQ7QUFHSCxDQUpEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcY29uZmlnXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFzc3BvcnQgZnJvbSBcInBhc3Nwb3J0XCI7XHJcbmltcG9ydCB7IFN0cmF0ZWd5IGFzIExvY2FsU3RyYXRlZ3kgfSBmcm9tIFwicGFzc3BvcnQtbG9jYWxcIjtcclxuXHJcbmltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvVXNlclwiXHJcblxyXG5wYXNzcG9ydC51c2UoXHJcbiAgICBuZXcgTG9jYWxTdHJhdGVneShcclxuIHtcclxuICAgIHVzZXJuYW1lRmllbGQ6ICdlbWFpbCcsXHJcbn0sXHJcbiAgICBhc3luYyAoZW1haWwsIHBhc3N3b3JkLCBkb25lKT0+e1xyXG4gICAgY29uc29sZS5sb2coXCJwcmltZXJhIGVudHJhZGFcIik7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtlbWFpbDogZW1haWx9KS5maW5kKCk7XHJcbiAgICBjb25zb2xlLmxvZyhcImVuY29udHJhbW9zIGFsIHVzZXJcIiwgdXNlcik7XHJcbiAgICBpZighdXNlcil7XHJcbiAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHttZXNzYWdlOiAnVXN1YXJpbyBObyBFbmNvbnRyYWRvJ30pO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgdXNlci5jb21wYXJlUGFzc3dvcmQocGFzc3dvcmQpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcImFzZGFzZGFzZGFzZGFzXCIsIG1hdGNoKVxyXG4gICAgICAgIGlmKG1hdGNoKXtcclxuICAgICAgICAgICAgcmV0dXJuIGRvbmUgKG51bGwsIHVzZXIpO1xyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCxmYWxzZSwge21lc3NhZ2U6ICdDb250cmFzZcOxYSBJbmNvcnJlY3RhJ30pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybjtcclxufSkpO1xyXG5cclxucGFzc3BvcnQuc2VyaWFsaXplVXNlcigodXNlcixkb25lKT0+e1xyXG4gICAgZG9uZShudWxsLCB1c2VyLmlkKTtcclxufSk7XHJcblxyXG5wYXNzcG9ydC5kZXNlcmlhbGl6ZVVzZXIoKGlkLCBkb25lKT0+e1xyXG4gICAgVXNlci5maW5kQnlJZChpZCwoZXJyLHVzZXIpPT57XHJcbiAgICAgICAgZG9uZShlcnIsdXNlcik7XHJcbiAgICB9KTtcclxufSk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [
        "passport",
        "use",
        "LocalStrategy",
        "usernameField",
        "email",
        "password",
        "done",
        "console",
        "log",
        "user",
        "User",
        "findOne",
        "find",
        "message",
        "match",
        "comparePassword",
        "serializeUser",
        "id",
        "deserializeUser",
        "findById",
        "err"
      ],
      "mappings": ";;AAAA;;AACA;;AAEA;;;;AAEAA,kBAASC,GAAT,CACI,IAAIC,uBAAJ,CACH;AACGC,EAAAA,aAAa,EAAE;AADlB,CADG,EAIA,OAAOC,KAAP,EAAcC,QAAd,EAAwBC,IAAxB,KAA+B;AAC/BC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,QAAMC,IAAI,GAAG,MAAMC,cAAKC,OAAL,CAAa;AAACP,IAAAA,KAAK,EAAEA;AAAR,GAAb,EAA6BQ,IAA7B,EAAnB;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCC,IAAnC;;AACA,MAAG,CAACA,IAAJ,EAAS;AACL,WAAOH,IAAI,CAAC,IAAD,EAAO,KAAP,EAAc;AAACO,MAAAA,OAAO,EAAE;AAAV,KAAd,CAAX;AACH,GAFD,MAEK;AACH,UAAMC,KAAK,GAAG,MAAML,IAAI,CAACM,eAAL,CAAqBV,QAArB,CAApB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BM,KAA9B;;AACE,QAAGA,KAAH,EAAS;AACL,aAAOR,IAAI,CAAE,IAAF,EAAQG,IAAR,CAAX;AACH,KAFD,MAEM;AACF,aAAOH,IAAI,CAAC,IAAD,EAAM,KAAN,EAAa;AAACO,QAAAA,OAAO,EAAE;AAAV,OAAb,CAAX;AACH;AACJ;;AACD;AACH,CApBG,CADJ;;AAuBAb,kBAASgB,aAAT,CAAuB,CAACP,IAAD,EAAMH,IAAN,KAAa;AAChCA,EAAAA,IAAI,CAAC,IAAD,EAAOG,IAAI,CAACQ,EAAZ,CAAJ;AACH,CAFD;;AAIAjB,kBAASkB,eAAT,CAAyB,CAACD,EAAD,EAAKX,IAAL,KAAY;AACjCI,gBAAKS,QAAL,CAAcF,EAAd,EAAiB,CAACG,GAAD,EAAKX,IAAL,KAAY;AACzBH,IAAAA,IAAI,CAACc,GAAD,EAAKX,IAAL,CAAJ;AACH,GAFD;AAGH,CAJD",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\",
      "sourcesContent": [
        "import passport from \"passport\";\r\nimport { Strategy as LocalStrategy } from \"passport-local\";\r\n\r\nimport User from \"../models/User\"\r\n\r\npassport.use(\r\n    new LocalStrategy(\r\n {\r\n    usernameField: 'email',\r\n},\r\n    async (email, password, done)=>{\r\n    console.log(\"primera entrada\");\r\n    const user = await User.findOne({email: email}).find();\r\n    console.log(\"encontramos al user\", user);\r\n    if(!user){\r\n        return done(null, false, {message: 'Usuario No Encontrado'});\r\n    }else{\r\n      const match = await user.comparePassword(password);\r\n      console.log(\"asdasdasdasdas\", match)\r\n        if(match){\r\n            return done (null, user);\r\n        } else{\r\n            return done(null,false, {message: 'Contrasea Incorrecta'});\r\n        }\r\n    }\r\n    return;\r\n}));\r\n\r\npassport.serializeUser((user,done)=>{\r\n    done(null, user.id);\r\n});\r\n\r\npassport.deserializeUser((id, done)=>{\r\n    User.findById(id,(err,user)=>{\r\n        done(err,user);\r\n    });\r\n});\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1618976356272
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\user.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\user.routes.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\user.routes.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\user.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "user.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar userCtrl = _interopRequireWildcard(require(\"../controllers/user.controller\"));\n\nvar _middlewares = require(\"../middlewares\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst router = (0, _express.Router)();\nrouter.post('/', [_middlewares.authjwt.verifyToken, _middlewares.authjwt.isAdmin, _middlewares.verifySignup.checkRolesExisted], userCtrl.createUser);\nvar _default = _express.Router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIucm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInBvc3QiLCJhdXRoand0IiwidmVyaWZ5VG9rZW4iLCJpc0FkbWluIiwidmVyaWZ5U2lnbnVwIiwiY2hlY2tSb2xlc0V4aXN0ZWQiLCJ1c2VyQ3RybCIsImNyZWF0ZVVzZXIiLCJSb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFDQTs7Ozs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHLHNCQUFmO0FBSUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLEdBQVosRUFBZ0IsQ0FDWkMscUJBQVFDLFdBREksRUFFWkQscUJBQVFFLE9BRkksRUFHWkMsMEJBQWFDLGlCQUhELENBQWhCLEVBSUVDLFFBQVEsQ0FBQ0MsVUFKWDtlQVFlQyxlIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcydcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKClcclxuaW1wb3J0ICogYXMgdXNlckN0cmwgZnJvbSAnLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyJ1xyXG5pbXBvcnQge2F1dGhqd3QsIHZlcmlmeVNpZ251cH0gZnJvbSAnLi4vbWlkZGxld2FyZXMnXHJcblxyXG5yb3V0ZXIucG9zdCgnLycsW1xyXG4gICAgYXV0aGp3dC52ZXJpZnlUb2tlbixcclxuICAgIGF1dGhqd3QuaXNBZG1pbixcclxuICAgIHZlcmlmeVNpZ251cC5jaGVja1JvbGVzRXhpc3RlZFxyXG5dLHVzZXJDdHJsLmNyZWF0ZVVzZXIpXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.routes.js"
      ],
      "names": [
        "router",
        "post",
        "authjwt",
        "verifyToken",
        "isAdmin",
        "verifySignup",
        "checkRolesExisted",
        "userCtrl",
        "createUser",
        "Router"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;;;;;AAFA,MAAMA,MAAM,GAAG,sBAAf;AAIAA,MAAM,CAACC,IAAP,CAAY,GAAZ,EAAgB,CACZC,qBAAQC,WADI,EAEZD,qBAAQE,OAFI,EAGZC,0BAAaC,iBAHD,CAAhB,EAIEC,QAAQ,CAACC,UAJX;eAQeC,e",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "import {Router} from 'express'\r\nconst router = Router()\r\nimport * as userCtrl from '../controllers/user.controller'\r\nimport {authjwt, verifySignup} from '../middlewares'\r\n\r\nrouter.post('/',[\r\n    authjwt.verifyToken,\r\n    authjwt.isAdmin,\r\n    verifySignup.checkRolesExisted\r\n],userCtrl.createUser)\r\n\r\n\r\n\r\nexport default Router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619028327713
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\user.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\user.controller.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\user.controller.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\user.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
        "sourceFileName": "user.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createUser = void 0;\n\nconst createUser = (req, res) => {\n  res.json('creating user');\n};\n\nexports.createUser = createUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJjcmVhdGVVc2VyIiwicmVxIiwicmVzIiwianNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLFVBQVUsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBWTtBQUNsQ0EsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVMsZUFBVDtBQUNILENBRk0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNyZWF0ZVVzZXIgPSAocmVxLCByZXMpPT57XHJcbiAgICByZXMuanNvbignY3JlYXRpbmcgdXNlcicpO1xyXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [
        "createUser",
        "req",
        "res",
        "json"
      ],
      "mappings": ";;;;;;;AAAO,MAAMA,UAAU,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAY;AAClCA,EAAAA,GAAG,CAACC,IAAJ,CAAS,eAAT;AACH,CAFM",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "sourcesContent": [
        "export const createUser = (req, res)=>{\r\n    res.json('creating user');\r\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1618803626293
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\index.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst router = require('express').Router();\n\nrouter.get('/', (req, res) => {\n  res.render('index');\n});\nrouter.get('/about', (req, res) => {\n  res.render('about');\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlcXVpcmUiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkMsTUFBbkIsRUFBZjs7QUFHQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFlLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFZO0FBQ3ZCQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxPQUFYO0FBQ0gsQ0FGRDtBQUlBTixNQUFNLENBQUNHLEdBQVAsQ0FBVyxRQUFYLEVBQW9CLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFZO0FBQzVCQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxPQUFYO0FBQ0gsQ0FGRDtBQUlBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJSLE1BQWpCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByb3V0ZXIgPSByZXF1aXJlKCdleHByZXNzJykuUm91dGVyKCk7XHJcblxyXG5cclxucm91dGVyLmdldCgnLycsKHJlcSwgcmVzKT0+e1xyXG4gICAgcmVzLnJlbmRlcignaW5kZXgnKTtcclxufSk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvYWJvdXQnLChyZXEsIHJlcyk9PntcclxuICAgIHJlcy5yZW5kZXIoJ2Fib3V0Jyk7XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "router",
        "require",
        "Router",
        "get",
        "req",
        "res",
        "render",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AAGAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAe,CAACC,GAAD,EAAMC,GAAN,KAAY;AACvBA,EAAAA,GAAG,CAACC,MAAJ,CAAW,OAAX;AACH,CAFD;AAIAN,MAAM,CAACG,GAAP,CAAW,QAAX,EAAoB,CAACC,GAAD,EAAMC,GAAN,KAAY;AAC5BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,OAAX;AACH,CAFD;AAIAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "const router = require('express').Router();\r\n\r\n\r\nrouter.get('/',(req, res)=>{\r\n    res.render('index');\r\n});\r\n\r\nrouter.get('/about',(req, res)=>{\r\n    res.render('about');\r\n});\r\n\r\nmodule.exports = router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619138769739
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\productos.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\productos.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\productos.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\productos.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "productos.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _Product = _interopRequireDefault(require(\"../models/Product\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  async\n} = require('regenerator-runtime');\n\nconst router = require('express').Router();\n\nrouter.get('/productos', async (req, res) => {\n  const product = await _Product.default.find().sort({\n    date: 'desc'\n  }).lean();\n\n  for (let i = 0; i < product.length; i++) {\n    product[i].price = formatterPeso.format(product[i].price);\n  }\n\n  res.render('productos/all-product', {\n    productox: product\n  });\n});\nrouter.get('/sesionoff', async (req, res) => {\n  req.flash('error_msg', 'Se ha Cerrado la Sesion');\n  res.redirect('/');\n});\nconst formatterPeso = new Intl.NumberFormat('es-CO', {\n  style: 'currency',\n  currency: 'COP',\n  minimumFractionDigits: 0\n});\nrouter.get('/users/logout', async (req, res) => {\n  req.session.destroy();\n  res.redirect('/');\n});\nrouter.get('/productos/add', (req, res) => {\n  res.render('productos/new-product');\n});\nrouter.get('/products/edit/:id', async (req, res) => {\n  const product = await _Product.default.findById(req.params.id).lean();\n  res.render('productos/edit-product', {\n    productox: product\n  });\n});\nrouter.delete('/products/delete/:id', async (req, res) => {\n  const product = await _Product.default.findById(req.params.id).lean();\n  res.redirect('productos/edit-product', {\n    productox: product\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3Rvcy5qcyJdLCJuYW1lcyI6WyJhc3luYyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJwcm9kdWN0IiwicHJvZHVjdG96IiwiZmluZCIsInNvcnQiLCJkYXRlIiwibGVhbiIsImkiLCJsZW5ndGgiLCJwcmljZSIsImZvcm1hdHRlclBlc28iLCJmb3JtYXQiLCJyZW5kZXIiLCJwcm9kdWN0b3giLCJmbGFzaCIsInJlZGlyZWN0IiwiSW50bCIsIk51bWJlckZvcm1hdCIsInN0eWxlIiwiY3VycmVuY3kiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJzZXNzaW9uIiwiZGVzdHJveSIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJkZWxldGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUNBOzs7O0FBREEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxxQkFBRCxDQUF6Qjs7QUFHQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJFLE1BQW5CLEVBQWY7O0FBRUFELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFlBQVgsRUFBeUIsT0FBT0MsR0FBUCxFQUFXQyxHQUFYLEtBQWlCO0FBQ3RDLFFBQU1DLE9BQU8sR0FBRyxNQUFNQyxpQkFBVUMsSUFBVixHQUFpQkMsSUFBakIsQ0FBc0I7QUFBQ0MsSUFBQUEsSUFBSSxFQUFFO0FBQVAsR0FBdEIsRUFBc0NDLElBQXRDLEVBQXRCOztBQUVBLE9BQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR04sT0FBTyxDQUFDTyxNQUE1QixFQUFvQ0QsQ0FBQyxFQUFyQyxFQUF5QztBQUNyQ04sSUFBQUEsT0FBTyxDQUFDTSxDQUFELENBQVAsQ0FBV0UsS0FBWCxHQUFtQkMsYUFBYSxDQUFDQyxNQUFkLENBQXFCVixPQUFPLENBQUNNLENBQUQsQ0FBUCxDQUFXRSxLQUFoQyxDQUFuQjtBQUNIOztBQUVEVCxFQUFBQSxHQUFHLENBQUNZLE1BQUosQ0FBVyx1QkFBWCxFQUFvQztBQUFDQyxJQUFBQSxTQUFTLEVBQUVaO0FBQVosR0FBcEM7QUFDSCxDQVJEO0FBU0FMLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFlBQVgsRUFBeUIsT0FBT0MsR0FBUCxFQUFXQyxHQUFYLEtBQWlCO0FBQ3RDRCxFQUFBQSxHQUFHLENBQUNlLEtBQUosQ0FBVSxXQUFWLEVBQXVCLHlCQUF2QjtBQUNBZCxFQUFBQSxHQUFHLENBQUNlLFFBQUosQ0FBYSxHQUFiO0FBQ0gsQ0FIRDtBQUlBLE1BQU1MLGFBQWEsR0FBRyxJQUFJTSxJQUFJLENBQUNDLFlBQVQsQ0FBc0IsT0FBdEIsRUFBK0I7QUFDakRDLEVBQUFBLEtBQUssRUFBRSxVQUQwQztBQUVqREMsRUFBQUEsUUFBUSxFQUFFLEtBRnVDO0FBR2pEQyxFQUFBQSxxQkFBcUIsRUFBRTtBQUgwQixDQUEvQixDQUF0QjtBQUtBeEIsTUFBTSxDQUFDRSxHQUFQLENBQVcsZUFBWCxFQUE0QixPQUFPQyxHQUFQLEVBQVdDLEdBQVgsS0FBaUI7QUFDekNELEVBQUFBLEdBQUcsQ0FBQ3NCLE9BQUosQ0FBWUMsT0FBWjtBQUNBdEIsRUFBQUEsR0FBRyxDQUFDZSxRQUFKLENBQWEsR0FBYjtBQUNILENBSEQ7QUFLQW5CLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLGdCQUFYLEVBQTRCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFZO0FBQ3BDQSxFQUFBQSxHQUFHLENBQUNZLE1BQUosQ0FBVyx1QkFBWDtBQUNILENBRkQ7QUFJQWhCLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLG9CQUFYLEVBQWlDLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFrQjtBQUMvQyxRQUFNQyxPQUFPLEdBQUcsTUFBTUMsaUJBQVVxQixRQUFWLENBQW1CeEIsR0FBRyxDQUFDeUIsTUFBSixDQUFXQyxFQUE5QixFQUFrQ25CLElBQWxDLEVBQXRCO0FBQ0FOLEVBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLHdCQUFYLEVBQXFDO0FBQUNDLElBQUFBLFNBQVMsRUFBRVo7QUFBWixHQUFyQztBQUNILENBSEQ7QUFLQUwsTUFBTSxDQUFDOEIsTUFBUCxDQUFjLHNCQUFkLEVBQXNDLE9BQU0zQixHQUFOLEVBQVVDLEdBQVYsS0FBZ0I7QUFDbEQsUUFBTUMsT0FBTyxHQUFHLE1BQU1DLGlCQUFVcUIsUUFBVixDQUFtQnhCLEdBQUcsQ0FBQ3lCLE1BQUosQ0FBV0MsRUFBOUIsRUFBa0NuQixJQUFsQyxFQUF0QjtBQUNBTixFQUFBQSxHQUFHLENBQUNlLFFBQUosQ0FBYSx3QkFBYixFQUF1QztBQUFDRixJQUFBQSxTQUFTLEVBQUVaO0FBQVosR0FBdkM7QUFDSCxDQUhEO0FBSUEwQixNQUFNLENBQUNDLE9BQVAsR0FBaUJoQyxNQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBjU21hcnRcXERlc2t0b3BcXEFQSSBBVVRIXFxzcmNcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBhc3luYyB9ID0gcmVxdWlyZSgncmVnZW5lcmF0b3ItcnVudGltZScpO1xyXG5pbXBvcnQgcHJvZHVjdG96IGZyb20gJy4uL21vZGVscy9Qcm9kdWN0J1xyXG5cclxuY29uc3Qgcm91dGVyID0gcmVxdWlyZSgnZXhwcmVzcycpLlJvdXRlcigpO1xyXG5cclxucm91dGVyLmdldCgnL3Byb2R1Y3RvcycsIGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Rvei5maW5kKCkuc29ydCh7ZGF0ZTogJ2Rlc2MnfSkubGVhbigpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHByb2R1Y3RbaV0ucHJpY2UgPSBmb3JtYXR0ZXJQZXNvLmZvcm1hdChwcm9kdWN0W2ldLnByaWNlKTtcclxuICAgIH0gXHJcblxyXG4gICAgcmVzLnJlbmRlcigncHJvZHVjdG9zL2FsbC1wcm9kdWN0Jywge3Byb2R1Y3RveDogcHJvZHVjdCB9KTtcclxufSk7XHJcbnJvdXRlci5nZXQoJy9zZXNpb25vZmYnLCBhc3luYyAocmVxLHJlcyk9PntcclxuICAgIHJlcS5mbGFzaCgnZXJyb3JfbXNnJywgJ1NlIGhhIENlcnJhZG8gbGEgU2VzaW9uJyk7XHJcbiAgICByZXMucmVkaXJlY3QoJy8nKTtcclxufSk7XHJcbmNvbnN0IGZvcm1hdHRlclBlc28gPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VzLUNPJywge1xyXG4gICAgc3R5bGU6ICdjdXJyZW5jeScsXHJcbiAgICBjdXJyZW5jeTogJ0NPUCcsXHJcbiAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDBcclxuICB9KTtcclxucm91dGVyLmdldCgnL3VzZXJzL2xvZ291dCcsIGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgcmVxLnNlc3Npb24uZGVzdHJveSgpO1xyXG4gICAgcmVzLnJlZGlyZWN0KCcvJyk7XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnL3Byb2R1Y3Rvcy9hZGQnLChyZXEsIHJlcyk9PntcclxuICAgIHJlcy5yZW5kZXIoJ3Byb2R1Y3Rvcy9uZXctcHJvZHVjdCcpO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoJy9wcm9kdWN0cy9lZGl0LzppZCcsIGFzeW5jIChyZXEsIHJlcyk9PntcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0b3ouZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkubGVhbigpO1xyXG4gICAgcmVzLnJlbmRlcigncHJvZHVjdG9zL2VkaXQtcHJvZHVjdCcsIHtwcm9kdWN0b3g6IHByb2R1Y3R9KTtcclxufSk7XHJcblxyXG5yb3V0ZXIuZGVsZXRlKCcvcHJvZHVjdHMvZGVsZXRlLzppZCcsIGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdG96LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLmxlYW4oKTtcclxuICAgIHJlcy5yZWRpcmVjdCgncHJvZHVjdG9zL2VkaXQtcHJvZHVjdCcsIHtwcm9kdWN0b3g6IHByb2R1Y3R9KTtcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productos.js"
      ],
      "names": [
        "async",
        "require",
        "router",
        "Router",
        "get",
        "req",
        "res",
        "product",
        "productoz",
        "find",
        "sort",
        "date",
        "lean",
        "i",
        "length",
        "price",
        "formatterPeso",
        "format",
        "render",
        "productox",
        "flash",
        "redirect",
        "Intl",
        "NumberFormat",
        "style",
        "currency",
        "minimumFractionDigits",
        "session",
        "destroy",
        "findById",
        "params",
        "id",
        "delete",
        "module",
        "exports"
      ],
      "mappings": ";;AACA;;;;AADA,MAAM;AAAEA,EAAAA;AAAF,IAAYC,OAAO,CAAC,qBAAD,CAAzB;;AAGA,MAAMC,MAAM,GAAGD,OAAO,CAAC,SAAD,CAAP,CAAmBE,MAAnB,EAAf;;AAEAD,MAAM,CAACE,GAAP,CAAW,YAAX,EAAyB,OAAOC,GAAP,EAAWC,GAAX,KAAiB;AACtC,QAAMC,OAAO,GAAG,MAAMC,iBAAUC,IAAV,GAAiBC,IAAjB,CAAsB;AAACC,IAAAA,IAAI,EAAE;AAAP,GAAtB,EAAsCC,IAAtC,EAAtB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,OAAO,CAACO,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrCN,IAAAA,OAAO,CAACM,CAAD,CAAP,CAAWE,KAAX,GAAmBC,aAAa,CAACC,MAAd,CAAqBV,OAAO,CAACM,CAAD,CAAP,CAAWE,KAAhC,CAAnB;AACH;;AAEDT,EAAAA,GAAG,CAACY,MAAJ,CAAW,uBAAX,EAAoC;AAACC,IAAAA,SAAS,EAAEZ;AAAZ,GAApC;AACH,CARD;AASAL,MAAM,CAACE,GAAP,CAAW,YAAX,EAAyB,OAAOC,GAAP,EAAWC,GAAX,KAAiB;AACtCD,EAAAA,GAAG,CAACe,KAAJ,CAAU,WAAV,EAAuB,yBAAvB;AACAd,EAAAA,GAAG,CAACe,QAAJ,CAAa,GAAb;AACH,CAHD;AAIA,MAAML,aAAa,GAAG,IAAIM,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;AACjDC,EAAAA,KAAK,EAAE,UAD0C;AAEjDC,EAAAA,QAAQ,EAAE,KAFuC;AAGjDC,EAAAA,qBAAqB,EAAE;AAH0B,CAA/B,CAAtB;AAKAxB,MAAM,CAACE,GAAP,CAAW,eAAX,EAA4B,OAAOC,GAAP,EAAWC,GAAX,KAAiB;AACzCD,EAAAA,GAAG,CAACsB,OAAJ,CAAYC,OAAZ;AACAtB,EAAAA,GAAG,CAACe,QAAJ,CAAa,GAAb;AACH,CAHD;AAKAnB,MAAM,CAACE,GAAP,CAAW,gBAAX,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAY;AACpCA,EAAAA,GAAG,CAACY,MAAJ,CAAW,uBAAX;AACH,CAFD;AAIAhB,MAAM,CAACE,GAAP,CAAW,oBAAX,EAAiC,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AAC/C,QAAMC,OAAO,GAAG,MAAMC,iBAAUqB,QAAV,CAAmBxB,GAAG,CAACyB,MAAJ,CAAWC,EAA9B,EAAkCnB,IAAlC,EAAtB;AACAN,EAAAA,GAAG,CAACY,MAAJ,CAAW,wBAAX,EAAqC;AAACC,IAAAA,SAAS,EAAEZ;AAAZ,GAArC;AACH,CAHD;AAKAL,MAAM,CAAC8B,MAAP,CAAc,sBAAd,EAAsC,OAAM3B,GAAN,EAAUC,GAAV,KAAgB;AAClD,QAAMC,OAAO,GAAG,MAAMC,iBAAUqB,QAAV,CAAmBxB,GAAG,CAACyB,MAAJ,CAAWC,EAA9B,EAAkCnB,IAAlC,EAAtB;AACAN,EAAAA,GAAG,CAACe,QAAJ,CAAa,wBAAb,EAAuC;AAACF,IAAAA,SAAS,EAAEZ;AAAZ,GAAvC;AACH,CAHD;AAIA0B,MAAM,CAACC,OAAP,GAAiBhC,MAAjB",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "const { async } = require('regenerator-runtime');\r\nimport productoz from '../models/Product'\r\n\r\nconst router = require('express').Router();\r\n\r\nrouter.get('/productos', async (req,res)=>{\r\n    const product = await productoz.find().sort({date: 'desc'}).lean();\r\n\r\n    for (let i = 0; i < product.length; i++) {\r\n        product[i].price = formatterPeso.format(product[i].price);\r\n    } \r\n\r\n    res.render('productos/all-product', {productox: product });\r\n});\r\nrouter.get('/sesionoff', async (req,res)=>{\r\n    req.flash('error_msg', 'Se ha Cerrado la Sesion');\r\n    res.redirect('/');\r\n});\r\nconst formatterPeso = new Intl.NumberFormat('es-CO', {\r\n    style: 'currency',\r\n    currency: 'COP',\r\n    minimumFractionDigits: 0\r\n  });\r\nrouter.get('/users/logout', async (req,res)=>{\r\n    req.session.destroy();\r\n    res.redirect('/');\r\n});\r\n\r\nrouter.get('/productos/add',(req, res)=>{\r\n    res.render('productos/new-product');\r\n});\r\n\r\nrouter.get('/products/edit/:id', async (req, res)=>{\r\n    const product = await productoz.findById(req.params.id).lean();\r\n    res.render('productos/edit-product', {productox: product});\r\n});\r\n\r\nrouter.delete('/products/delete/:id', async(req,res)=>{\r\n    const product = await productoz.findById(req.params.id).lean();\r\n    res.redirect('productos/edit-product', {productox: product});\r\n});\r\nmodule.exports = router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619067780264
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\users.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\users.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nvar _Role = _interopRequireDefault(require(\"../models/Role\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = require(\"express\").Router();\n\nrouter.get(\"/users/signin\", (req, res) => {\n  res.render(\"users/signin\");\n});\nrouter.get(\"/users/signup\", (req, res) => {\n  res.render(\"users/signup\");\n});\nrouter.get(\"/users/usuarios\", async (req, res) => {\n  const usuario = await _User.default.find().sort({\n    date: \"desc\"\n  }).lean();\n  const escrito = \"activo\";\n  console.log(\"sus usuarios\", usuario);\n\n  for (let i = 0; i < usuario.length; i++) {\n    const roles = await _Role.default.find({\n      _id: {\n        $in: usuario[i].roles\n      }\n    });\n    console.log(roles);\n    usuario[i].turno = i;\n\n    for (let j = 0; j < roles.length; j++) {\n      usuario[i].rol = roles[j].name;\n      console.log(usuario[i].rol);\n    }\n\n    if (usuario[i].estado < 1) {\n      usuario[i].estadoz = \"Inactivo\";\n    } else {\n      usuario[i].estadoz = \"Activo\";\n    }\n  }\n\n  res.render(\"users/editor\", {\n    usuario\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlcXVpcmUiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJ1c3VhcmlvIiwidXN1YXJpb3giLCJmaW5kIiwic29ydCIsImRhdGUiLCJsZWFuIiwiZXNjcml0byIsImNvbnNvbGUiLCJsb2ciLCJpIiwibGVuZ3RoIiwicm9sZXMiLCJyb2xlIiwiX2lkIiwiJGluIiwidHVybm8iLCJqIiwicm9sIiwibmFtZSIsImVzdGFkbyIsImVzdGFkb3oiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOzs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CQyxNQUFuQixFQUFmOztBQUlBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxlQUFYLEVBQTRCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3hDQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxjQUFYO0FBQ0QsQ0FGRDtBQUdBTixNQUFNLENBQUNHLEdBQVAsQ0FBVyxlQUFYLEVBQTRCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3hDQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxjQUFYO0FBQ0QsQ0FGRDtBQUdBTixNQUFNLENBQUNHLEdBQVAsQ0FBVyxpQkFBWCxFQUE4QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDaEQsUUFBTUUsT0FBTyxHQUFHLE1BQU1DLGNBQVNDLElBQVQsR0FBZ0JDLElBQWhCLENBQXFCO0FBQUVDLElBQUFBLElBQUksRUFBRTtBQUFSLEdBQXJCLEVBQXVDQyxJQUF2QyxFQUF0QjtBQUNBLFFBQU1DLE9BQU8sR0FBRyxRQUFoQjtBQUNBQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTJCUixPQUEzQjs7QUFDQSxPQUFLLElBQUlTLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdULE9BQU8sQ0FBQ1UsTUFBNUIsRUFBb0NELENBQUMsRUFBckMsRUFBeUM7QUFDdkMsVUFBTUUsS0FBSyxHQUFHLE1BQU1DLGNBQUtWLElBQUwsQ0FBVTtBQUFFVyxNQUFBQSxHQUFHLEVBQUU7QUFBRUMsUUFBQUEsR0FBRyxFQUFFZCxPQUFPLENBQUNTLENBQUQsQ0FBUCxDQUFXRTtBQUFsQjtBQUFQLEtBQVYsQ0FBcEI7QUFDQUosSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlHLEtBQVo7QUFDQVgsSUFBQUEsT0FBTyxDQUFDUyxDQUFELENBQVAsQ0FBV00sS0FBWCxHQUFpQk4sQ0FBakI7O0FBQ0EsU0FBSyxJQUFJTyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHTCxLQUFLLENBQUNELE1BQTFCLEVBQWtDTSxDQUFDLEVBQW5DLEVBQXVDO0FBQ3JDaEIsTUFBQUEsT0FBTyxDQUFDUyxDQUFELENBQVAsQ0FBV1EsR0FBWCxHQUFnQk4sS0FBSyxDQUFDSyxDQUFELENBQUwsQ0FBU0UsSUFBekI7QUFDQVgsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlSLE9BQU8sQ0FBQ1MsQ0FBRCxDQUFQLENBQVdRLEdBQXZCO0FBQ0Q7O0FBQ0QsUUFBSWpCLE9BQU8sQ0FBQ1MsQ0FBRCxDQUFQLENBQVdVLE1BQVgsR0FBb0IsQ0FBeEIsRUFBMkI7QUFDekJuQixNQUFBQSxPQUFPLENBQUNTLENBQUQsQ0FBUCxDQUFXVyxPQUFYLEdBQXFCLFVBQXJCO0FBQ0QsS0FGRCxNQUVPO0FBQ0xwQixNQUFBQSxPQUFPLENBQUNTLENBQUQsQ0FBUCxDQUFXVyxPQUFYLEdBQXFCLFFBQXJCO0FBQ0Q7QUFDRjs7QUFFRHRCLEVBQUFBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLGNBQVgsRUFBMkI7QUFBRUMsSUFBQUE7QUFBRixHQUEzQjtBQUNELENBcEJEO0FBcUJBcUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCN0IsTUFBakIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvdXRlciA9IHJlcXVpcmUoXCJleHByZXNzXCIpLlJvdXRlcigpO1xyXG5pbXBvcnQgdXN1YXJpb3ggZnJvbSBcIi4uL21vZGVscy9Vc2VyXCI7XHJcbmltcG9ydCByb2xlIGZyb20gXCIuLi9tb2RlbHMvUm9sZVwiO1xyXG5cclxucm91dGVyLmdldChcIi91c2Vycy9zaWduaW5cIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLnJlbmRlcihcInVzZXJzL3NpZ25pblwiKTtcclxufSk7XHJcbnJvdXRlci5nZXQoXCIvdXNlcnMvc2lnbnVwXCIsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5yZW5kZXIoXCJ1c2Vycy9zaWdudXBcIik7XHJcbn0pO1xyXG5yb3V0ZXIuZ2V0KFwiL3VzZXJzL3VzdWFyaW9zXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHVzdWFyaW8gPSBhd2FpdCB1c3VhcmlveC5maW5kKCkuc29ydCh7IGRhdGU6IFwiZGVzY1wiIH0pLmxlYW4oKTtcclxuICBjb25zdCBlc2NyaXRvID0gXCJhY3Rpdm9cIjtcclxuICBjb25zb2xlLmxvZyhcInN1cyB1c3Vhcmlvc1wiLHVzdWFyaW8pXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c3VhcmlvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCByb2xlcyA9IGF3YWl0IHJvbGUuZmluZCh7IF9pZDogeyAkaW46IHVzdWFyaW9baV0ucm9sZXMgfSB9KTtcclxuICAgIGNvbnNvbGUubG9nKHJvbGVzKTtcclxuICAgIHVzdWFyaW9baV0udHVybm89aTtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm9sZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgdXN1YXJpb1tpXS5yb2w9IHJvbGVzW2pdLm5hbWU7XHJcbiAgICAgIGNvbnNvbGUubG9nKHVzdWFyaW9baV0ucm9sKVxyXG4gICAgfVxyXG4gICAgaWYgKHVzdWFyaW9baV0uZXN0YWRvIDwgMSkge1xyXG4gICAgICB1c3VhcmlvW2ldLmVzdGFkb3ogPSBcIkluYWN0aXZvXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1c3VhcmlvW2ldLmVzdGFkb3ogPSBcIkFjdGl2b1wiO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXMucmVuZGVyKFwidXNlcnMvZWRpdG9yXCIsIHsgdXN1YXJpbyB9KTtcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "router",
        "require",
        "Router",
        "get",
        "req",
        "res",
        "render",
        "usuario",
        "usuariox",
        "find",
        "sort",
        "date",
        "lean",
        "escrito",
        "console",
        "log",
        "i",
        "length",
        "roles",
        "role",
        "_id",
        "$in",
        "turno",
        "j",
        "rol",
        "name",
        "estado",
        "estadoz",
        "module",
        "exports"
      ],
      "mappings": ";;AACA;;AACA;;;;AAFA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AAIAF,MAAM,CAACG,GAAP,CAAW,eAAX,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACxCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,cAAX;AACD,CAFD;AAGAN,MAAM,CAACG,GAAP,CAAW,eAAX,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACxCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,cAAX;AACD,CAFD;AAGAN,MAAM,CAACG,GAAP,CAAW,iBAAX,EAA8B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAChD,QAAME,OAAO,GAAG,MAAMC,cAASC,IAAT,GAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAArB,EAAuCC,IAAvC,EAAtB;AACA,QAAMC,OAAO,GAAG,QAAhB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BR,OAA3B;;AACA,OAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,OAAO,CAACU,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,UAAME,KAAK,GAAG,MAAMC,cAAKV,IAAL,CAAU;AAAEW,MAAAA,GAAG,EAAE;AAAEC,QAAAA,GAAG,EAAEd,OAAO,CAACS,CAAD,CAAP,CAAWE;AAAlB;AAAP,KAAV,CAApB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACAX,IAAAA,OAAO,CAACS,CAAD,CAAP,CAAWM,KAAX,GAAiBN,CAAjB;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,KAAK,CAACD,MAA1B,EAAkCM,CAAC,EAAnC,EAAuC;AACrChB,MAAAA,OAAO,CAACS,CAAD,CAAP,CAAWQ,GAAX,GAAgBN,KAAK,CAACK,CAAD,CAAL,CAASE,IAAzB;AACAX,MAAAA,OAAO,CAACC,GAAR,CAAYR,OAAO,CAACS,CAAD,CAAP,CAAWQ,GAAvB;AACD;;AACD,QAAIjB,OAAO,CAACS,CAAD,CAAP,CAAWU,MAAX,GAAoB,CAAxB,EAA2B;AACzBnB,MAAAA,OAAO,CAACS,CAAD,CAAP,CAAWW,OAAX,GAAqB,UAArB;AACD,KAFD,MAEO;AACLpB,MAAAA,OAAO,CAACS,CAAD,CAAP,CAAWW,OAAX,GAAqB,QAArB;AACD;AACF;;AAEDtB,EAAAA,GAAG,CAACC,MAAJ,CAAW,cAAX,EAA2B;AAAEC,IAAAA;AAAF,GAA3B;AACD,CApBD;AAqBAqB,MAAM,CAACC,OAAP,GAAiB7B,MAAjB",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "const router = require(\"express\").Router();\r\nimport usuariox from \"../models/User\";\r\nimport role from \"../models/Role\";\r\n\r\nrouter.get(\"/users/signin\", (req, res) => {\r\n  res.render(\"users/signin\");\r\n});\r\nrouter.get(\"/users/signup\", (req, res) => {\r\n  res.render(\"users/signup\");\r\n});\r\nrouter.get(\"/users/usuarios\", async (req, res) => {\r\n  const usuario = await usuariox.find().sort({ date: \"desc\" }).lean();\r\n  const escrito = \"activo\";\r\n  console.log(\"sus usuarios\",usuario)\r\n  for (let i = 0; i < usuario.length; i++) {\r\n    const roles = await role.find({ _id: { $in: usuario[i].roles } });\r\n    console.log(roles);\r\n    usuario[i].turno=i;\r\n    for (let j = 0; j < roles.length; j++) {\r\n      usuario[i].rol= roles[j].name;\r\n      console.log(usuario[i].rol)\r\n    }\r\n    if (usuario[i].estado < 1) {\r\n      usuario[i].estadoz = \"Inactivo\";\r\n    } else {\r\n      usuario[i].estadoz = \"Activo\";\r\n    }\r\n  }\r\n  \r\n  res.render(\"users/editor\", { usuario });\r\n});\r\nmodule.exports = router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1619140381343
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\database.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\database.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\database.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
        "sourceFileName": "database.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst mongo_uri = 'mongodb+srv://admin:lnjhinLLdDEJ1OlZ@compraventa.enu95.mongodb.net/compraventa';\nmongoose.connect(mongo_uri, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useFindAndModify: true,\n  useCreateIndex: true\n}).then(db => console.log(\"DB is connected\")).catch(error => console.log(error));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIm1vbmdvX3VyaSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VGaW5kQW5kTW9kaWZ5IiwidXNlQ3JlYXRlSW5kZXgiLCJ0aGVuIiwiZGIiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBRSxVQUFGLENBQXhCOztBQUNBLE1BQU1DLFNBQVMsR0FBRyxnRkFBbEI7QUFDQUYsUUFBUSxDQUFDRyxPQUFULENBQWlCRCxTQUFqQixFQUE0QjtBQUN4QkUsRUFBQUEsZUFBZSxFQUFFLElBRE87QUFFeEJDLEVBQUFBLGtCQUFrQixFQUFFLElBRkk7QUFHeEJDLEVBQUFBLGdCQUFnQixFQUFFLElBSE07QUFJeEJDLEVBQUFBLGNBQWMsRUFBRTtBQUpRLENBQTVCLEVBTUtDLElBTkwsQ0FNVUMsRUFBRSxJQUFJQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQkFBWixDQU5oQixFQU9LQyxLQVBMLENBT1dDLEtBQUssSUFBSUgsT0FBTyxDQUFDQyxHQUFSLENBQVlFLEtBQVosQ0FQcEIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFwiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUgKCdtb25nb29zZScpXHJcbmNvbnN0IG1vbmdvX3VyaSA9ICdtb25nb2RiK3NydjovL2FkbWluOmxuamhpbkxMZERFSjFPbFpAY29tcHJhdmVudGEuZW51OTUubW9uZ29kYi5uZXQvY29tcHJhdmVudGEnO1xyXG5tb25nb29zZS5jb25uZWN0KG1vbmdvX3VyaSwge1xyXG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxyXG4gICAgdXNlRmluZEFuZE1vZGlmeTogdHJ1ZSxcclxuICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlXHJcbn0pXHJcbiAgICAudGhlbihkYiA9PiBjb25zb2xlLmxvZyhcIkRCIGlzIGNvbm5lY3RlZFwiKSlcclxuICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpIl19",
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "mongoose",
        "require",
        "mongo_uri",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useFindAndModify",
        "useCreateIndex",
        "then",
        "db",
        "console",
        "log",
        "catch",
        "error"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAE,UAAF,CAAxB;;AACA,MAAMC,SAAS,GAAG,gFAAlB;AACAF,QAAQ,CAACG,OAAT,CAAiBD,SAAjB,EAA4B;AACxBE,EAAAA,eAAe,EAAE,IADO;AAExBC,EAAAA,kBAAkB,EAAE,IAFI;AAGxBC,EAAAA,gBAAgB,EAAE,IAHM;AAIxBC,EAAAA,cAAc,EAAE;AAJQ,CAA5B,EAMKC,IANL,CAMUC,EAAE,IAAIC,OAAO,CAACC,GAAR,CAAY,iBAAZ,CANhB,EAOKC,KAPL,CAOWC,KAAK,IAAIH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAPpB",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "sourcesContent": [
        "const mongoose = require ('mongoose')\r\nconst mongo_uri = 'mongodb+srv://admin:lnjhinLLdDEJ1OlZ@compraventa.enu95.mongodb.net/compraventa';\r\nmongoose.connect(mongo_uri, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true,\r\n    useFindAndModify: true,\r\n    useCreateIndex: true\r\n})\r\n    .then(db => console.log(\"DB is connected\"))\r\n    .catch(error => console.log(error))"
      ]
    },
    "sourceType": "script",
    "mtime": 1619139032540
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\app.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\app.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressHandlebars = _interopRequireDefault(require(\"express-handlebars\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _package = _interopRequireDefault(require(\"../package.json\"));\n\nvar _connectFlash = _interopRequireDefault(require(\"connect-flash\"));\n\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\n\nvar _methodOverride = _interopRequireDefault(require(\"method-override\"));\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _cookieParser = _interopRequireDefault(require(\"cookie-parser\"));\n\nvar _initialSetup = require(\"./libs/initialSetup\");\n\nvar _products = _interopRequireDefault(require(\"./routes/products.routes\"));\n\nvar _auth = _interopRequireDefault(require(\"./routes/auth.routes\"));\n\nvar _user = _interopRequireDefault(require(\"./routes/user.routes\"));\n\nvar _routes = _interopRequireDefault(require(\"./routes\"));\n\nvar _chart = _interopRequireDefault(require(\"chart.js\"));\n\nvar _killport = _interopRequireDefault(require(\"killport\"));\n\nrequire(\"./config/passport\");\n\nvar _process = require(\"process\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//iniciacion app\nconst app = (0, _express.default)();\n(0, _initialSetup.createRoles)(); //settings\n\napp.set('pkg', _package.default);\napp.set('views', _path.default.join(__dirname, 'views'));\napp.engine('.hbs', (0, _expressHandlebars.default)({\n  defaultLayout: 'main',\n  layoutsDir: _path.default.join(app.get('views'), 'layouts'),\n  partialsDir: _path.default.join(app.get('views'), 'partials'),\n  extname: '.hbs'\n}));\napp.set('view engine', '.hbs'); //Middlewares\n\napp.use((0, _morgan.default)('dev'));\napp.use(_express.default.urlencoded({\n  extended: false\n}));\napp.use((0, _methodOverride.default)('_method'));\napp.use((0, _expressSession.default)({\n  secret: 'mysecretapp',\n  resave: true,\n  saveUninitialized: true\n}));\napp.use(_passport.default.initialize());\napp.use(_passport.default.session());\napp.use((0, _connectFlash.default)());\napp.use(_express.default.json()); //Global Variables\n\napp.use((req, res, next) => {\n  res.locals.success_msg = req.flash('success_msg');\n  res.locals.error_msg = req.flash('error_msg');\n  res.locals.user = req.session.mail;\n  res.locals.rol = req.session.rol;\n  next();\n}); //Static Files\n\napp.use(_express.default.static(_path.default.join(__dirname, 'public'))); //Server is listenning\n// Welcome Routes\n\napp.use(require('./routes/index'));\napp.use(require('./routes/productos'));\napp.use(require('./routes/users')); //Routes\n\napp.use('/api/products', _products.default);\napp.use('/api/auth', _auth.default);\napp.use('/api/users', _user.default);\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJzZXQiLCJwa2ciLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImVuZ2luZSIsImRlZmF1bHRMYXlvdXQiLCJsYXlvdXRzRGlyIiwiZ2V0IiwicGFydGlhbHNEaXIiLCJleHRuYW1lIiwidXNlIiwiZXhwcmVzcyIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNlY3JldCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwicGFzc3BvcnQiLCJpbml0aWFsaXplIiwic2Vzc2lvbiIsImpzb24iLCJyZXEiLCJyZXMiLCJuZXh0IiwibG9jYWxzIiwic3VjY2Vzc19tc2ciLCJmbGFzaCIsImVycm9yX21zZyIsInVzZXIiLCJtYWlsIiwicm9sIiwic3RhdGljIiwicmVxdWlyZSIsInByb2R1Y3RzUm91dGVzIiwiYXV0aFJvdXRlcyIsInVzZXJzUm91dGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTtBQUNBLE1BQU1BLEdBQUcsR0FBRyx1QkFBWjtBQUNBLGlDLENBRUE7O0FBQ0FBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEtBQVIsRUFBZUMsZ0JBQWY7QUFFQUYsR0FBRyxDQUFDQyxHQUFKLENBQVEsT0FBUixFQUFpQkUsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLE9BQXJCLENBQWpCO0FBQ0FMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLE1BQVgsRUFBbUIsZ0NBQU87QUFDdEJDLEVBQUFBLGFBQWEsRUFBRSxNQURPO0FBRXRCQyxFQUFBQSxVQUFVLEVBQUVMLGNBQUtDLElBQUwsQ0FBVUosR0FBRyxDQUFDUyxHQUFKLENBQVEsT0FBUixDQUFWLEVBQTRCLFNBQTVCLENBRlU7QUFHdEJDLEVBQUFBLFdBQVcsRUFBRVAsY0FBS0MsSUFBTCxDQUFVSixHQUFHLENBQUNTLEdBQUosQ0FBUSxPQUFSLENBQVYsRUFBNEIsVUFBNUIsQ0FIUztBQUl0QkUsRUFBQUEsT0FBTyxFQUFFO0FBSmEsQ0FBUCxDQUFuQjtBQU9BWCxHQUFHLENBQUNDLEdBQUosQ0FBUSxhQUFSLEVBQXNCLE1BQXRCLEUsQ0FDQTs7QUFDQUQsR0FBRyxDQUFDWSxHQUFKLENBQVEscUJBQU8sS0FBUCxDQUFSO0FBQ0FaLEdBQUcsQ0FBQ1ksR0FBSixDQUFRQyxpQkFBUUMsVUFBUixDQUFtQjtBQUFDQyxFQUFBQSxRQUFRLEVBQUU7QUFBWCxDQUFuQixDQUFSO0FBQ0FmLEdBQUcsQ0FBQ1ksR0FBSixDQUFRLDZCQUFlLFNBQWYsQ0FBUjtBQUNBWixHQUFHLENBQUNZLEdBQUosQ0FBUSw2QkFBUTtBQUNaSSxFQUFBQSxNQUFNLEVBQUUsYUFESTtBQUVaQyxFQUFBQSxNQUFNLEVBQUUsSUFGSTtBQUdaQyxFQUFBQSxpQkFBaUIsRUFBRTtBQUhQLENBQVIsQ0FBUjtBQU1BbEIsR0FBRyxDQUFDWSxHQUFKLENBQVFPLGtCQUFTQyxVQUFULEVBQVI7QUFDQXBCLEdBQUcsQ0FBQ1ksR0FBSixDQUFRTyxrQkFBU0UsT0FBVCxFQUFSO0FBQ0FyQixHQUFHLENBQUNZLEdBQUosQ0FBUSw0QkFBUjtBQUNBWixHQUFHLENBQUNZLEdBQUosQ0FBUUMsaUJBQVFTLElBQVIsRUFBUixFLENBQ0E7O0FBQ0F0QixHQUFHLENBQUNZLEdBQUosQ0FBUSxDQUFDVyxHQUFELEVBQUtDLEdBQUwsRUFBU0MsSUFBVCxLQUFnQjtBQUNwQkQsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdDLFdBQVgsR0FBd0JKLEdBQUcsQ0FBQ0ssS0FBSixDQUFVLGFBQVYsQ0FBeEI7QUFDQUosRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdHLFNBQVgsR0FBc0JOLEdBQUcsQ0FBQ0ssS0FBSixDQUFVLFdBQVYsQ0FBdEI7QUFDQUosRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdJLElBQVgsR0FBa0JQLEdBQUcsQ0FBQ0YsT0FBSixDQUFZVSxJQUE5QjtBQUNBUCxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBV00sR0FBWCxHQUFpQlQsR0FBRyxDQUFDRixPQUFKLENBQVlXLEdBQTdCO0FBQ0FQLEVBQUFBLElBQUk7QUFDUCxDQU5ELEUsQ0FRQTs7QUFDQXpCLEdBQUcsQ0FBQ1ksR0FBSixDQUFRQyxpQkFBUW9CLE1BQVIsQ0FBZTlCLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFvQixRQUFwQixDQUFmLENBQVIsRSxDQUVBO0FBRUE7O0FBQ0FMLEdBQUcsQ0FBQ1ksR0FBSixDQUFRc0IsT0FBTyxDQUFDLGdCQUFELENBQWY7QUFDQWxDLEdBQUcsQ0FBQ1ksR0FBSixDQUFRc0IsT0FBTyxDQUFDLG9CQUFELENBQWY7QUFDQWxDLEdBQUcsQ0FBQ1ksR0FBSixDQUFRc0IsT0FBTyxDQUFDLGdCQUFELENBQWYsRSxDQUNBOztBQUNBbEMsR0FBRyxDQUFDWSxHQUFKLENBQVEsZUFBUixFQUF5QnVCLGlCQUF6QjtBQUNBbkMsR0FBRyxDQUFDWSxHQUFKLENBQVEsV0FBUixFQUFxQndCLGFBQXJCO0FBQ0FwQyxHQUFHLENBQUNZLEdBQUosQ0FBUSxZQUFSLEVBQXNCeUIsYUFBdEI7ZUFFZXJDLEciLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGV4cGhicyBmcm9tICdleHByZXNzLWhhbmRsZWJhcnMnO1xyXG5pbXBvcnQgbW9yZ2FuIGZyb20gJ21vcmdhbic7XHJcbmltcG9ydCBwa2cgZnJvbSAnLi4vcGFja2FnZS5qc29uJztcclxuaW1wb3J0IGZsYXNoIGZyb20gJ2Nvbm5lY3QtZmxhc2gnO1xyXG5pbXBvcnQgc2Vzc2lvbiBmcm9tICdleHByZXNzLXNlc3Npb24nO1xyXG5pbXBvcnQgbWV0aG9kT3ZlcnJpZGUgZnJvbSAnbWV0aG9kLW92ZXJyaWRlJztcclxuaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCJwYXNzcG9ydFwiO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IGNvb2tpZXBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJ1xyXG5pbXBvcnQge2NyZWF0ZVJvbGVzfSBmcm9tICcuL2xpYnMvaW5pdGlhbFNldHVwJztcclxuaW1wb3J0IHByb2R1Y3RzUm91dGVzIGZyb20gJy4vcm91dGVzL3Byb2R1Y3RzLnJvdXRlcyc7XHJcbmltcG9ydCBhdXRoUm91dGVzIGZyb20gJy4vcm91dGVzL2F1dGgucm91dGVzJztcclxuaW1wb3J0IHVzZXJzUm91dGVzIGZyb20gJy4vcm91dGVzL3VzZXIucm91dGVzJztcclxuaW1wb3J0IGluZGV4IGZyb20gJy4vcm91dGVzJztcclxuaW1wb3J0IENoYXJ0IGZyb20gJ2NoYXJ0LmpzJztcclxuaW1wb3J0IGtpbGxwb3J0IGZyb20gJ2tpbGxwb3J0J1xyXG5pbXBvcnQgXCIuL2NvbmZpZy9wYXNzcG9ydFwiXHJcbmltcG9ydCB7IGtpbGwgfSBmcm9tICdwcm9jZXNzJztcclxuLy9pbmljaWFjaW9uIGFwcFxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNyZWF0ZVJvbGVzKCk7XHJcblxyXG4vL3NldHRpbmdzXHJcbmFwcC5zZXQoJ3BrZycsIHBrZyk7XHJcblxyXG5hcHAuc2V0KCd2aWV3cycsIHBhdGguam9pbihfX2Rpcm5hbWUsICd2aWV3cycpKTtcclxuYXBwLmVuZ2luZSgnLmhicycsIGV4cGhicyh7XHJcbiAgICBkZWZhdWx0TGF5b3V0OiAnbWFpbicsXHJcbiAgICBsYXlvdXRzRGlyOiBwYXRoLmpvaW4oYXBwLmdldCgndmlld3MnKSwgJ2xheW91dHMnKSxcclxuICAgIHBhcnRpYWxzRGlyOiBwYXRoLmpvaW4oYXBwLmdldCgndmlld3MnKSwgJ3BhcnRpYWxzJyksXHJcbiAgICBleHRuYW1lOiAnLmhicycsXHJcbn0pXHJcbik7XHJcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywnLmhicycpO1xyXG4vL01pZGRsZXdhcmVzXHJcbmFwcC51c2UobW9yZ2FuKCdkZXYnKSk7XHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmRlZDogZmFsc2V9KSk7XHJcbmFwcC51c2UobWV0aG9kT3ZlcnJpZGUoJ19tZXRob2QnKSk7XHJcbmFwcC51c2Uoc2Vzc2lvbih7XHJcbiAgICBzZWNyZXQ6ICdteXNlY3JldGFwcCcsXHJcbiAgICByZXNhdmU6IHRydWUsXHJcbiAgICBzYXZlVW5pbml0aWFsaXplZDogdHJ1ZVxyXG59KSk7XHJcblxyXG5hcHAudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XHJcbmFwcC51c2UocGFzc3BvcnQuc2Vzc2lvbigpKTtcclxuYXBwLnVzZShmbGFzaCgpKTtcclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbi8vR2xvYmFsIFZhcmlhYmxlc1xyXG5hcHAudXNlKChyZXEscmVzLG5leHQpPT57XHJcbiAgICByZXMubG9jYWxzLnN1Y2Nlc3NfbXNnPSByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJyk7XHJcbiAgICByZXMubG9jYWxzLmVycm9yX21zZyA9cmVxLmZsYXNoKCdlcnJvcl9tc2cnKTtcclxuICAgIHJlcy5sb2NhbHMudXNlciA9IHJlcS5zZXNzaW9uLm1haWw7XHJcbiAgICByZXMubG9jYWxzLnJvbCA9IHJlcS5zZXNzaW9uLnJvbDtcclxuICAgIG5leHQoKTtcclxufSk7XHJcblxyXG4vL1N0YXRpYyBGaWxlc1xyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSk7XHJcblxyXG4vL1NlcnZlciBpcyBsaXN0ZW5uaW5nXHJcblxyXG4vLyBXZWxjb21lIFJvdXRlc1xyXG5hcHAudXNlKHJlcXVpcmUoJy4vcm91dGVzL2luZGV4JykpO1xyXG5hcHAudXNlKHJlcXVpcmUoJy4vcm91dGVzL3Byb2R1Y3RvcycpKTtcclxuYXBwLnVzZShyZXF1aXJlKCcuL3JvdXRlcy91c2VycycpKTtcclxuLy9Sb3V0ZXNcclxuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHByb2R1Y3RzUm91dGVzKTtcclxuYXBwLnVzZSgnL2FwaS9hdXRoJywgYXV0aFJvdXRlcyk7XHJcbmFwcC51c2UoJy9hcGkvdXNlcnMnLCB1c2Vyc1JvdXRlcyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHA7Il19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "app",
        "set",
        "pkg",
        "path",
        "join",
        "__dirname",
        "engine",
        "defaultLayout",
        "layoutsDir",
        "get",
        "partialsDir",
        "extname",
        "use",
        "express",
        "urlencoded",
        "extended",
        "secret",
        "resave",
        "saveUninitialized",
        "passport",
        "initialize",
        "session",
        "json",
        "req",
        "res",
        "next",
        "locals",
        "success_msg",
        "flash",
        "error_msg",
        "user",
        "mail",
        "rol",
        "static",
        "require",
        "productsRoutes",
        "authRoutes",
        "usersRoutes"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;AACA,MAAMA,GAAG,GAAG,uBAAZ;AACA,iC,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQ,KAAR,EAAeC,gBAAf;AAEAF,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBE,cAAKC,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAL,GAAG,CAACM,MAAJ,CAAW,MAAX,EAAmB,gCAAO;AACtBC,EAAAA,aAAa,EAAE,MADO;AAEtBC,EAAAA,UAAU,EAAEL,cAAKC,IAAL,CAAUJ,GAAG,CAACS,GAAJ,CAAQ,OAAR,CAAV,EAA4B,SAA5B,CAFU;AAGtBC,EAAAA,WAAW,EAAEP,cAAKC,IAAL,CAAUJ,GAAG,CAACS,GAAJ,CAAQ,OAAR,CAAV,EAA4B,UAA5B,CAHS;AAItBE,EAAAA,OAAO,EAAE;AAJa,CAAP,CAAnB;AAOAX,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAsB,MAAtB,E,CACA;;AACAD,GAAG,CAACY,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAZ,GAAG,CAACY,GAAJ,CAAQC,iBAAQC,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAnB,CAAR;AACAf,GAAG,CAACY,GAAJ,CAAQ,6BAAe,SAAf,CAAR;AACAZ,GAAG,CAACY,GAAJ,CAAQ,6BAAQ;AACZI,EAAAA,MAAM,EAAE,aADI;AAEZC,EAAAA,MAAM,EAAE,IAFI;AAGZC,EAAAA,iBAAiB,EAAE;AAHP,CAAR,CAAR;AAMAlB,GAAG,CAACY,GAAJ,CAAQO,kBAASC,UAAT,EAAR;AACApB,GAAG,CAACY,GAAJ,CAAQO,kBAASE,OAAT,EAAR;AACArB,GAAG,CAACY,GAAJ,CAAQ,4BAAR;AACAZ,GAAG,CAACY,GAAJ,CAAQC,iBAAQS,IAAR,EAAR,E,CACA;;AACAtB,GAAG,CAACY,GAAJ,CAAQ,CAACW,GAAD,EAAKC,GAAL,EAASC,IAAT,KAAgB;AACpBD,EAAAA,GAAG,CAACE,MAAJ,CAAWC,WAAX,GAAwBJ,GAAG,CAACK,KAAJ,CAAU,aAAV,CAAxB;AACAJ,EAAAA,GAAG,CAACE,MAAJ,CAAWG,SAAX,GAAsBN,GAAG,CAACK,KAAJ,CAAU,WAAV,CAAtB;AACAJ,EAAAA,GAAG,CAACE,MAAJ,CAAWI,IAAX,GAAkBP,GAAG,CAACF,OAAJ,CAAYU,IAA9B;AACAP,EAAAA,GAAG,CAACE,MAAJ,CAAWM,GAAX,GAAiBT,GAAG,CAACF,OAAJ,CAAYW,GAA7B;AACAP,EAAAA,IAAI;AACP,CAND,E,CAQA;;AACAzB,GAAG,CAACY,GAAJ,CAAQC,iBAAQoB,MAAR,CAAe9B,cAAKC,IAAL,CAAUC,SAAV,EAAoB,QAApB,CAAf,CAAR,E,CAEA;AAEA;;AACAL,GAAG,CAACY,GAAJ,CAAQsB,OAAO,CAAC,gBAAD,CAAf;AACAlC,GAAG,CAACY,GAAJ,CAAQsB,OAAO,CAAC,oBAAD,CAAf;AACAlC,GAAG,CAACY,GAAJ,CAAQsB,OAAO,CAAC,gBAAD,CAAf,E,CACA;;AACAlC,GAAG,CAACY,GAAJ,CAAQ,eAAR,EAAyBuB,iBAAzB;AACAnC,GAAG,CAACY,GAAJ,CAAQ,WAAR,EAAqBwB,aAArB;AACApC,GAAG,CAACY,GAAJ,CAAQ,YAAR,EAAsByB,aAAtB;eAEerC,G",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport exphbs from 'express-handlebars';\r\nimport morgan from 'morgan';\r\nimport pkg from '../package.json';\r\nimport flash from 'connect-flash';\r\nimport session from 'express-session';\r\nimport methodOverride from 'method-override';\r\nimport passport from \"passport\";\r\nimport path from 'path';\r\nimport cookieparser from 'cookie-parser'\r\nimport {createRoles} from './libs/initialSetup';\r\nimport productsRoutes from './routes/products.routes';\r\nimport authRoutes from './routes/auth.routes';\r\nimport usersRoutes from './routes/user.routes';\r\nimport index from './routes';\r\nimport Chart from 'chart.js';\r\nimport killport from 'killport'\r\nimport \"./config/passport\"\r\nimport { kill } from 'process';\r\n//iniciacion app\r\nconst app = express();\r\ncreateRoles();\r\n\r\n//settings\r\napp.set('pkg', pkg);\r\n\r\napp.set('views', path.join(__dirname, 'views'));\r\napp.engine('.hbs', exphbs({\r\n    defaultLayout: 'main',\r\n    layoutsDir: path.join(app.get('views'), 'layouts'),\r\n    partialsDir: path.join(app.get('views'), 'partials'),\r\n    extname: '.hbs',\r\n})\r\n);\r\napp.set('view engine','.hbs');\r\n//Middlewares\r\napp.use(morgan('dev'));\r\napp.use(express.urlencoded({extended: false}));\r\napp.use(methodOverride('_method'));\r\napp.use(session({\r\n    secret: 'mysecretapp',\r\n    resave: true,\r\n    saveUninitialized: true\r\n}));\r\n\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\napp.use(flash());\r\napp.use(express.json());\r\n//Global Variables\r\napp.use((req,res,next)=>{\r\n    res.locals.success_msg= req.flash('success_msg');\r\n    res.locals.error_msg =req.flash('error_msg');\r\n    res.locals.user = req.session.mail;\r\n    res.locals.rol = req.session.rol;\r\n    next();\r\n});\r\n\r\n//Static Files\r\napp.use(express.static(path.join(__dirname,'public')));\r\n\r\n//Server is listenning\r\n\r\n// Welcome Routes\r\napp.use(require('./routes/index'));\r\napp.use(require('./routes/productos'));\r\napp.use(require('./routes/users'));\r\n//Routes\r\napp.use('/api/products', productsRoutes);\r\napp.use('/api/auth', authRoutes);\r\napp.use('/api/users', usersRoutes);\r\n\r\nexport default app;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619139154213
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\libs\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\libs\\\\initialSetup.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\initialSetup.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\initialSetup.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\initialSetup.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\",
        "sourceFileName": "initialSetup.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createRoles = void 0;\n\nvar _Role = _interopRequireDefault(require(\"../models/Role\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst createRoles = async () => {\n  try {\n    const count = await _Role.default.estimatedDocumentCount();\n    if (count > 0) return;\n    const values = await Promise.all([new _Role.default({\n      name: \"user\"\n    }).save(), new _Role.default({\n      name: \"moderator\"\n    }).save(), new _Role.default({\n      name: \"admin\"\n    }).save()]);\n    console.log(values);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexports.createRoles = createRoles;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXRpYWxTZXR1cC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVSb2xlcyIsImNvdW50IiwiUm9sZSIsImVzdGltYXRlZERvY3VtZW50Q291bnQiLCJ2YWx1ZXMiLCJQcm9taXNlIiwiYWxsIiwibmFtZSIsInNhdmUiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNPLE1BQU1BLFdBQVcsR0FBRyxZQUFVO0FBQ2pDLE1BQUk7QUFDQSxVQUFNQyxLQUFLLEdBQUcsTUFBTUMsY0FBS0Msc0JBQUwsRUFBcEI7QUFDQSxRQUFHRixLQUFLLEdBQUMsQ0FBVCxFQUFXO0FBQ1gsVUFBTUcsTUFBTSxHQUFHLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLENBQzdCLElBQUlKLGFBQUosQ0FBUztBQUFFSyxNQUFBQSxJQUFJLEVBQUU7QUFBUixLQUFULEVBQTBCQyxJQUExQixFQUQ2QixFQUU3QixJQUFJTixhQUFKLENBQVM7QUFBQ0ssTUFBQUEsSUFBSSxFQUFFO0FBQVAsS0FBVCxFQUE4QkMsSUFBOUIsRUFGNkIsRUFHN0IsSUFBSU4sYUFBSixDQUFTO0FBQUNLLE1BQUFBLElBQUksRUFBRTtBQUFQLEtBQVQsRUFBMEJDLElBQTFCLEVBSDZCLENBQVosQ0FBckI7QUFLQUMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlOLE1BQVo7QUFDSCxHQVRELENBU0UsT0FBT08sS0FBUCxFQUFjO0FBQ1pGLElBQUFBLE9BQU8sQ0FBQ0UsS0FBUixDQUFjQSxLQUFkO0FBQ0g7QUFHSixDQWZNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcbGlic1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvbGUgZnJvbSAnLi4vbW9kZWxzL1JvbGUnXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVSb2xlcyA9IGFzeW5jKCkgPT57XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgUm9sZS5lc3RpbWF0ZWREb2N1bWVudENvdW50KClcclxuICAgICAgICBpZihjb3VudD4wKXJldHVybjtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIG5ldyBSb2xlKHsgbmFtZTogXCJ1c2VyXCJ9KS5zYXZlKCksXHJcbiAgICAgICAgICAgIG5ldyBSb2xlKHtuYW1lOiBcIm1vZGVyYXRvclwifSkuc2F2ZSgpLFxyXG4gICAgICAgICAgICBuZXcgUm9sZSh7bmFtZTogXCJhZG1pblwifSkuc2F2ZSgpLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "initialSetup.js"
      ],
      "names": [
        "createRoles",
        "count",
        "Role",
        "estimatedDocumentCount",
        "values",
        "Promise",
        "all",
        "name",
        "save",
        "console",
        "log",
        "error"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACO,MAAMA,WAAW,GAAG,YAAU;AACjC,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMC,cAAKC,sBAAL,EAApB;AACA,QAAGF,KAAK,GAAC,CAAT,EAAW;AACX,UAAMG,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAY,CAC7B,IAAIJ,aAAJ,CAAS;AAAEK,MAAAA,IAAI,EAAE;AAAR,KAAT,EAA0BC,IAA1B,EAD6B,EAE7B,IAAIN,aAAJ,CAAS;AAACK,MAAAA,IAAI,EAAE;AAAP,KAAT,EAA8BC,IAA9B,EAF6B,EAG7B,IAAIN,aAAJ,CAAS;AAACK,MAAAA,IAAI,EAAE;AAAP,KAAT,EAA0BC,IAA1B,EAH6B,CAAZ,CAArB;AAKAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,MAAZ;AACH,GATD,CASE,OAAOO,KAAP,EAAc;AACZF,IAAAA,OAAO,CAACE,KAAR,CAAcA,KAAd;AACH;AAGJ,CAfM",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\libs\\",
      "sourcesContent": [
        "import Role from '../models/Role'\r\nexport const createRoles = async() =>{\r\n    try {\r\n        const count = await Role.estimatedDocumentCount()\r\n        if(count>0)return;\r\n        const values = await Promise.all([\r\n            new Role({ name: \"user\"}).save(),\r\n            new Role({name: \"moderator\"}).save(),\r\n            new Role({name: \"admin\"}).save(),\r\n        ]);\r\n        console.log(values);\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n    \r\n\r\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1618786579056
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\Role.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Role.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Role.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Role.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
        "sourceFileName": "Role.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ROLES = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst ROLES = [\"user\", \"admin\", \"moderator\"];\nexports.ROLES = ROLES;\nconst roleSchema = new _mongoose.Schema({\n  name: String\n}, {\n  versionKey: false\n});\n\nvar _default = (0, _mongoose.model)(\"Role\", roleSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJvbGUuanMiXSwibmFtZXMiOlsiUk9MRVMiLCJyb2xlU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsInZlcnNpb25LZXkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDTyxNQUFNQSxLQUFLLEdBQUcsQ0FBQyxNQUFELEVBQVMsT0FBVCxFQUFpQixXQUFqQixDQUFkOztBQUNQLE1BQU1DLFVBQVUsR0FBRyxJQUFJQyxnQkFBSixDQUNmO0FBQ0FDLEVBQUFBLElBQUksRUFBRUM7QUFETixDQURlLEVBS2Y7QUFDSUMsRUFBQUEsVUFBVSxFQUFFO0FBRGhCLENBTGUsQ0FBbkI7O2VBVWUscUJBQU0sTUFBTixFQUFjSixVQUFkLEMiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U2NoZW1hLCBtb2RlbH0gZnJvbSAnbW9uZ29vc2UnXHJcbmV4cG9ydCBjb25zdCBST0xFUyA9IFtcInVzZXJcIiwgXCJhZG1pblwiLFwibW9kZXJhdG9yXCJdXHJcbmNvbnN0IHJvbGVTY2hlbWEgPSBuZXcgU2NoZW1hKFxyXG4gICAge1xyXG4gICAgbmFtZTogU3RyaW5nLFxyXG4gICAgXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHZlcnNpb25LZXk6IGZhbHNlLFxyXG4gICAgfVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9kZWwoXCJSb2xlXCIsIHJvbGVTY2hlbWEpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "Role.js"
      ],
      "names": [
        "ROLES",
        "roleSchema",
        "Schema",
        "name",
        "String",
        "versionKey"
      ],
      "mappings": ";;;;;;;AAAA;;AACO,MAAMA,KAAK,GAAG,CAAC,MAAD,EAAS,OAAT,EAAiB,WAAjB,CAAd;;AACP,MAAMC,UAAU,GAAG,IAAIC,gBAAJ,CACf;AACAC,EAAAA,IAAI,EAAEC;AADN,CADe,EAKf;AACIC,EAAAA,UAAU,EAAE;AADhB,CALe,CAAnB;;eAUe,qBAAM,MAAN,EAAcJ,UAAd,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "sourcesContent": [
        "import {Schema, model} from 'mongoose'\r\nexport const ROLES = [\"user\", \"admin\",\"moderator\"]\r\nconst roleSchema = new Schema(\r\n    {\r\n    name: String,\r\n    \r\n    },\r\n    {\r\n        versionKey: false,\r\n    }\r\n);\r\n\r\nexport default model(\"Role\", roleSchema);"
      ]
    },
    "sourceType": "script",
    "mtime": 1618808530470
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\products.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\products.routes.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\products.routes.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\products.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "products.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar productsCtrl = _interopRequireWildcard(require(\"../controllers/products.controller\"));\n\nvar _middlewares = require(\"../middlewares\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst router = (0, _express.Router)();\nrouter.post('/', [_middlewares.authjwt.verifyToken, _middlewares.authjwt.isModerator], productsCtrl.createProduct);\nrouter.get('/', productsCtrl.getProducts);\nrouter.get('/:producttId', productsCtrl.getProductById);\nrouter.put('/:producttId', [_middlewares.authjwt.verifyToken, _middlewares.authjwt.isModerator], productsCtrl.updateProductById);\nrouter.delete('/:producttId', productsCtrl.deleteProductById);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJwb3N0IiwiYXV0aGp3dCIsInZlcmlmeVRva2VuIiwiaXNNb2RlcmF0b3IiLCJwcm9kdWN0c0N0cmwiLCJjcmVhdGVQcm9kdWN0IiwiZ2V0IiwiZ2V0UHJvZHVjdHMiLCJnZXRQcm9kdWN0QnlJZCIsInB1dCIsInVwZGF0ZVByb2R1Y3RCeUlkIiwiZGVsZXRlIiwiZGVsZXRlUHJvZHVjdEJ5SWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFDQTs7Ozs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHLHNCQUFmO0FBR0FBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLEdBQVosRUFBaUIsQ0FBQ0MscUJBQVFDLFdBQVQsRUFBc0JELHFCQUFRRSxXQUE5QixDQUFqQixFQUE2REMsWUFBWSxDQUFDQyxhQUExRTtBQUVBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxHQUFYLEVBQWdCRixZQUFZLENBQUNHLFdBQTdCO0FBRUFSLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLGNBQVgsRUFBMkJGLFlBQVksQ0FBQ0ksY0FBeEM7QUFFQVQsTUFBTSxDQUFDVSxHQUFQLENBQVcsY0FBWCxFQUE0QixDQUFDUixxQkFBUUMsV0FBVCxFQUFzQkQscUJBQVFFLFdBQTlCLENBQTVCLEVBQXdFQyxZQUFZLENBQUNNLGlCQUFyRjtBQUVBWCxNQUFNLENBQUNZLE1BQVAsQ0FBYyxjQUFkLEVBQStCUCxZQUFZLENBQUNRLGlCQUE1QztlQUdlYixNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcydcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcbmltcG9ydCAqIGFzIHByb2R1Y3RzQ3RybCBmcm9tICcuLi9jb250cm9sbGVycy9wcm9kdWN0cy5jb250cm9sbGVyJ1xyXG5pbXBvcnQge2F1dGhqd3R9IGZyb20gJy4uL21pZGRsZXdhcmVzJ1xyXG5yb3V0ZXIucG9zdCgnLycsIFthdXRoand0LnZlcmlmeVRva2VuLCBhdXRoand0LmlzTW9kZXJhdG9yXSwgcHJvZHVjdHNDdHJsLmNyZWF0ZVByb2R1Y3QpXHJcblxyXG5yb3V0ZXIuZ2V0KCcvJywgcHJvZHVjdHNDdHJsLmdldFByb2R1Y3RzKVxyXG5cclxucm91dGVyLmdldCgnLzpwcm9kdWN0dElkJywgcHJvZHVjdHNDdHJsLmdldFByb2R1Y3RCeUlkKVxyXG5cclxucm91dGVyLnB1dCgnLzpwcm9kdWN0dElkJywgIFthdXRoand0LnZlcmlmeVRva2VuLCBhdXRoand0LmlzTW9kZXJhdG9yXSwgcHJvZHVjdHNDdHJsLnVwZGF0ZVByb2R1Y3RCeUlkKVxyXG5cclxucm91dGVyLmRlbGV0ZSgnLzpwcm9kdWN0dElkJywgIHByb2R1Y3RzQ3RybC5kZWxldGVQcm9kdWN0QnlJZClcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "products.routes.js"
      ],
      "names": [
        "router",
        "post",
        "authjwt",
        "verifyToken",
        "isModerator",
        "productsCtrl",
        "createProduct",
        "get",
        "getProducts",
        "getProductById",
        "put",
        "updateProductById",
        "delete",
        "deleteProductById"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;;;;;AAFA,MAAMA,MAAM,GAAG,sBAAf;AAGAA,MAAM,CAACC,IAAP,CAAY,GAAZ,EAAiB,CAACC,qBAAQC,WAAT,EAAsBD,qBAAQE,WAA9B,CAAjB,EAA6DC,YAAY,CAACC,aAA1E;AAEAN,MAAM,CAACO,GAAP,CAAW,GAAX,EAAgBF,YAAY,CAACG,WAA7B;AAEAR,MAAM,CAACO,GAAP,CAAW,cAAX,EAA2BF,YAAY,CAACI,cAAxC;AAEAT,MAAM,CAACU,GAAP,CAAW,cAAX,EAA4B,CAACR,qBAAQC,WAAT,EAAsBD,qBAAQE,WAA9B,CAA5B,EAAwEC,YAAY,CAACM,iBAArF;AAEAX,MAAM,CAACY,MAAP,CAAc,cAAd,EAA+BP,YAAY,CAACQ,iBAA5C;eAGeb,M",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "import {Router} from 'express'\r\nconst router = Router();\r\nimport * as productsCtrl from '../controllers/products.controller'\r\nimport {authjwt} from '../middlewares'\r\nrouter.post('/', [authjwt.verifyToken, authjwt.isModerator], productsCtrl.createProduct)\r\n\r\nrouter.get('/', productsCtrl.getProducts)\r\n\r\nrouter.get('/:producttId', productsCtrl.getProductById)\r\n\r\nrouter.put('/:producttId',  [authjwt.verifyToken, authjwt.isModerator], productsCtrl.updateProductById)\r\n\r\nrouter.delete('/:producttId',  productsCtrl.deleteProductById)\r\n\r\n\r\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619067687607
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\products.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\products.controller.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\products.controller.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\products.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
        "sourceFileName": "products.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteProductById = exports.verificarntidad = exports.updateProductById = exports.getProductById = exports.getProducts = exports.createProduct = void 0;\n\nvar _express = require(\"express\");\n\nvar _Product = _interopRequireDefault(require(\"../models/Product\"));\n\nvar _Categoria = _interopRequireDefault(require(\"../models/Categoria\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = (0, _express.Router)();\n\nconst createProduct = async (req, res) => {\n  const {\n    name,\n    category,\n    price,\n    imgURL,\n    cantidad\n  } = req.body;\n  var cuanti = 1;\n\n  if (cantidad < 1) {\n    cantidad = 1;\n  }\n\n  const estado = 1;\n  const newProduct = new _Product.default({\n    name,\n    category,\n    price,\n    imgURL,\n    cantidad\n  });\n  const totalproduc = await _Product.default.findOne({\n    name: name,\n    category: category,\n    price: price\n  }, {\n    name: name,\n    price: price,\n    cantidad: cantidad\n  });\n\n  if (totalproduc) {\n    console.log('entramos al if');\n    console.log(totalproduc);\n    totalproduc.cantidad = totalproduc.cuanti + cantidad;\n    console.log(totalproduc.cantidad);\n    await _Product.default.updateOne({\n      name: name\n    }, {\n      cantidad: totalproduc.cantidad\n    });\n    req.flash('success_msg', 'Se guardo con exito');\n    res.json({\n      status: ok\n    });\n  }\n\n  console.log(newProduct);\n  const buscar = await _Categoria.default.findOne({\n    category: category\n  });\n\n  if (!buscar) {\n    const newCate = new _Categoria.default({\n      estado,\n      category\n    });\n    await newCate.save();\n  }\n\n  const productSaved = await newProduct.save();\n  req.flash('success_msg', 'Se guardo con exito');\n  res.json({\n    status: 'ok',\n    data: 'Proceso Exitoso'\n  });\n};\n\nexports.createProduct = createProduct;\nrouter.get('/productos', async (req, res) => {\n  const productosx = await _Product.default.find().sort({\n    date: 'desc'\n  });\n  res.render('productos/all-product', {\n    productosx\n  });\n});\n\nconst getProducts = async (req, res) => {\n  const products = await _Product.default.find();\n  res.json(\"get products\");\n};\n\nexports.getProducts = getProducts;\n\nconst getProductById = async (req, res) => {\n  const product = await _Product.default.findById(req.params.productId);\n  res.status(200).json(product);\n};\n\nexports.getProductById = getProductById;\n\nconst updateProductById = async (req, res) => {\n  const updatedProduct = await _Product.default.findByIdAndUpdate(req.params.producttId, req.body, {\n    new: true\n  });\n  console.log(updatedProduct);\n  req.flash('success_msg', 'Producto Actualizado Correctamente', updatedProduct.name);\n  res.redirect('/productos');\n};\n\nexports.updateProductById = updateProductById;\n\nconst verificarntidad = async (req, res) => {\n  const {\n    name,\n    category,\n    price,\n    imgURL,\n    cantidad\n  } = req.body;\n\n  if (cantidad < 1) {\n    cantidad = 1;\n    await _Product.default.findByIdAndDelete(req.params.producttId);\n    req.flash('success_msg', 'Producto Comprado');\n    res.redirect('/productos');\n  }\n};\n\nexports.verificarntidad = verificarntidad;\n\nconst deleteProductById = async (req, res) => {\n  console.log(\"llegamos al delete\", req.params.producttId);\n  await _Product.default.findByIdAndDelete(req.params.producttId);\n  req.flash('success_msg', 'Producto Comprado');\n  res.redirect('/productos');\n};\n\nexports.deleteProductById = deleteProductById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsicm91dGVyIiwiY3JlYXRlUHJvZHVjdCIsInJlcSIsInJlcyIsIm5hbWUiLCJjYXRlZ29yeSIsInByaWNlIiwiaW1nVVJMIiwiY2FudGlkYWQiLCJib2R5IiwiY3VhbnRpIiwiZXN0YWRvIiwibmV3UHJvZHVjdCIsIlByb2R1Y3QiLCJ0b3RhbHByb2R1YyIsImZpbmRPbmUiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlT25lIiwiZmxhc2giLCJqc29uIiwic3RhdHVzIiwib2siLCJidXNjYXIiLCJDYXRlZ29yaWEiLCJuZXdDYXRlIiwic2F2ZSIsInByb2R1Y3RTYXZlZCIsImRhdGEiLCJnZXQiLCJwcm9kdWN0b3N4IiwiZmluZCIsInNvcnQiLCJkYXRlIiwicmVuZGVyIiwiZ2V0UHJvZHVjdHMiLCJwcm9kdWN0cyIsImdldFByb2R1Y3RCeUlkIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwicHJvZHVjdElkIiwidXBkYXRlUHJvZHVjdEJ5SWQiLCJ1cGRhdGVkUHJvZHVjdCIsImZpbmRCeUlkQW5kVXBkYXRlIiwicHJvZHVjdHRJZCIsIm5ldyIsInJlZGlyZWN0IiwidmVyaWZpY2FybnRpZGFkIiwiZmluZEJ5SWRBbmREZWxldGUiLCJkZWxldGVQcm9kdWN0QnlJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUNBOzs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHLHNCQUFmOztBQUdPLE1BQU1DLGFBQWEsR0FBRyxPQUFPQyxHQUFQLEVBQVdDLEdBQVgsS0FBaUI7QUFDdEMsUUFBTTtBQUFFQyxJQUFBQSxJQUFGO0FBQVFDLElBQUFBLFFBQVI7QUFBa0JDLElBQUFBLEtBQWxCO0FBQXlCQyxJQUFBQSxNQUF6QjtBQUFpQ0MsSUFBQUE7QUFBakMsTUFBNkNOLEdBQUcsQ0FBQ08sSUFBdkQ7QUFDQSxNQUFJQyxNQUFNLEdBQUUsQ0FBWjs7QUFDQSxNQUFHRixRQUFRLEdBQUMs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QyxJQUFBQSxHQUFHLENBQUNpQixLQUFKLENBQVUsYUFBVixFQUF5QixtQkFBekI7QUFDQWhCLElBQUFBLEdBQUcsQ0FBQzRDLFFBQUosQ0FBYSxZQUFiO0FBQ0g7QUFFSixDQVZNOzs7O0FBV0EsTUFBTUcsaUJBQWlCLEdBQUcsT0FBTWhELEdBQU4sRUFBVUMsR0FBVixLQUFnQjtBQUU3Q2EsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQVosRUFBa0NmLEdBQUcsQ0FBQ3NDLE1BQUosQ0FBV0ssVUFBN0M7QUFDQSxRQUFNaEMsaUJBQVFvQyxpQkFBUixDQUEwQi9DLEdBQUcsQ0FBQ3NDLE1BQUosQ0FBV0ssVUFBckMsQ0FBTjtBQUNBM0MsRUFBQUEsR0FBRyxDQUFDaUIsS0FBSixDQUFVLGFBQVYsRUFBeUIsbUJBQXpCO0FBQ0FoQixFQUFBQSxHQUFHLENBQUM0QyxRQUFKLENBQWEsWUFBYjtBQUNILENBTk0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcydcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL21vZGVscy9Qcm9kdWN0J1xyXG5pbXBvcnQgQ2F0ZWdvcmlhIGZyb20gJy4uL21vZGVscy9DYXRlZ29yaWEnXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9kdWN0ID0gYXN5bmMgKHJlcSxyZXMpPT57XHJcbiAgICAgICAgY29uc3QgeyBuYW1lLCBjYXRlZ29yeSwgcHJpY2UsIGltZ1VSTCwgY2FudGlkYWR9ID0gcmVxLmJvZHk7ICAgXHJcbiAgICAgICAgdmFyIGN1YW50aSA9MTsgXHJcbiAgICAgICAgaWYoY2FudGlkYWQ8MSl7XHJcbiAgICAgICAgICAgIGNhbnRpZGFkPTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVzdGFkbyA9MTtcclxuICAgICAgICBjb25zdCBuZXdQcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe25hbWUsIGNhdGVnb3J5LCBwcmljZSwgaW1nVVJMLCBjYW50aWRhZH0pO1xyXG4gICAgICAgIGNvbnN0IHRvdGFscHJvZHVjID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHtuYW1lOm5hbWUsIGNhdGVnb3J5OmNhdGVnb3J5LCBwcmljZTpwcmljZX0se25hbWU6bmFtZSwgcHJpY2U6cHJpY2UsIGNhbnRpZGFkOmNhbnRpZGFkfSk7XHJcbiAgICAgICAgaWYodG90YWxwcm9kdWMpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZW50cmFtb3MgYWwgaWYnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codG90YWxwcm9kdWMpO1xyXG4gICAgICAgICAgICB0b3RhbHByb2R1Yy5jYW50aWRhZCA9IHRvdGFscHJvZHVjLmN1YW50aStjYW50aWRhZDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codG90YWxwcm9kdWMuY2FudGlkYWQpO1xyXG4gICAgICAgICAgICBhd2FpdCBQcm9kdWN0LnVwZGF0ZU9uZSh7bmFtZTogbmFtZX0se2NhbnRpZGFkOiB0b3RhbHByb2R1Yy5jYW50aWRhZH0pO1xyXG4gICAgICAgICAgICByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJywnU2UgZ3VhcmRvIGNvbiBleGl0bycpO1xyXG4gICAgICAgICAgICByZXMuanNvbih7c3RhdHVzOm9rfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2cobmV3UHJvZHVjdCk7XHJcbiAgICAgICAgY29uc3QgYnVzY2FyID0gYXdhaXQgQ2F0ZWdvcmlhLmZpbmRPbmUoeyBjYXRlZ29yeTogY2F0ZWdvcnl9KTtcclxuICAgICAgICBpZighYnVzY2FyKXtcclxuICAgICAgICAgICAgY29uc3QgbmV3Q2F0ZT0gbmV3IENhdGVnb3JpYSh7IGVzdGFkbywgY2F0ZWdvcnl9KTtcclxuICAgICAgICAgICAgYXdhaXQgbmV3Q2F0ZS5zYXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RTYXZlZCA9IGF3YWl0IG5ld1Byb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICAgIHJlcS5mbGFzaCgnc3VjY2Vzc19tc2cnLCdTZSBndWFyZG8gY29uIGV4aXRvJyk7XHJcbiAgICAgICAgcmVzLmpzb24oe3N0YXR1czogJ29rJywgZGF0YTogJ1Byb2Nlc28gRXhpdG9zbyd9KTtcclxufVxyXG5yb3V0ZXIuZ2V0KCcvcHJvZHVjdG9zJyxhc3luYyAocmVxLHJlcyk9PntcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3N4ID0gYXdhaXQgUHJvZHVjdC5maW5kKCkuc29ydCh7ZGF0ZTogJ2Rlc2MnfSk7XHJcbiAgICAgICAgcmVzLnJlbmRlcigncHJvZHVjdG9zL2FsbC1wcm9kdWN0Jyx7cHJvZHVjdG9zeH0pO1xyXG4gICAgfSk7XHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0cyA9IGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoKTtcclxuXHJcbiAgICByZXMuanNvbihcImdldCBwcm9kdWN0c1wiKTtcclxufVxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdEJ5SWQgPSBhc3luYyAocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMucHJvZHVjdElkKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3QpXHJcbn1cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2R1Y3RCeUlkID0gYXN5bmMgKHJlcSxyZXMpPT57XHJcbiAgICBcclxuICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLnByb2R1Y3R0SWQsIHJlcS5ib2R5LCB7XHJcbiAgICAgICAgbmV3OnRydWVcclxuICAgIH0pXHJcbiAgICBjb25zb2xlLmxvZyh1cGRhdGVkUHJvZHVjdCk7XHJcbiAgICByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJywgJ1Byb2R1Y3RvIEFjdHVhbGl6YWRvIENvcnJlY3RhbWVudGUnLCB1cGRhdGVkUHJvZHVjdC5uYW1lKTtcclxuICAgIHJlcy5yZWRpcmVjdCgnL3Byb2R1Y3RvcycpO1xyXG59XHJcbmV4cG9ydCBjb25zdCB2ZXJpZmljYXJudGlkYWQgPSBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgeyBuYW1lLCBjYXRlZ29yeSwgcHJpY2UsIGltZ1VSTCwgY2FudGlkYWR9ID0gcmVxLmJvZHk7ICBcclxuICAgIGlmKGNhbnRpZGFkPDEpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNhbnRpZGFkID0gMTtcclxuICAgICAgICBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHJlcS5wYXJhbXMucHJvZHVjdHRJZClcclxuICAgICAgICByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJywgJ1Byb2R1Y3RvIENvbXByYWRvJyk7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvcHJvZHVjdG9zJyk7IFxyXG4gICAgfVxyXG5cclxufVxyXG5leHBvcnQgY29uc3QgZGVsZXRlUHJvZHVjdEJ5SWQgPSBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhcImxsZWdhbW9zIGFsIGRlbGV0ZVwiLCByZXEucGFyYW1zLnByb2R1Y3R0SWQpO1xyXG4gICAgYXdhaXQgUHJvZHVjdC5maW5kQnlJZEFuZERlbGV0ZShyZXEucGFyYW1zLnByb2R1Y3R0SWQpXHJcbiAgICByZXEuZmxhc2goJ3N1Y2Nlc3NfbXNnJywgJ1Byb2R1Y3RvIENvbXByYWRvJyk7XHJcbiAgICByZXMucmVkaXJlY3QoJy9wcm9kdWN0b3MnKTsgXHJcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "products.controller.js"
      ],
      "names": [
        "router",
        "createProduct",
        "req",
        "res",
        "name",
        "category",
        "price",
        "imgURL",
        "cantidad",
        "body",
        "cuanti",
        "estado",
        "newProduct",
        "Product",
        "totalproduc",
        "findOne",
        "console",
        "log",
        "updateOne",
        "flash",
        "json",
        "status",
        "ok",
        "buscar",
        "Categoria",
        "newCate",
        "save",
        "productSaved",
        "data",
        "get",
        "productosx",
        "find",
        "sort",
        "date",
        "render",
        "getProducts",
        "products",
        "getProductById",
        "product",
        "findById",
        "params",
        "productId",
        "updateProductById",
        "updatedProduct",
        "findByIdAndUpdate",
        "producttId",
        "new",
        "redirect",
        "verificarntidad",
        "findByIdAndDelete",
        "deleteProductById"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "sourcesContent": [
        "import { Router } from 'express'\r\nconst router = Router();\r\nimport Product from '../models/Product'\r\nimport Categoria from '../models/Categoria'\r\nexport const createProduct = async (req,res)=>{\r\n        const { name, category, price, imgURL, cantidad} = req.body;   \r\n        var cuanti =1; \r\n        if(cantidad<1){\r\n            cantidad=1;\r\n        }\r\n        const estado =1;\r\n        const newProduct = new Product({name, category, price, imgURL, cantidad});\r\n        const totalproduc = await Product.findOne({name:name, category:category, price:price},{name:name, price:price, cantidad:cantidad});\r\n        if(totalproduc){\r\n            console.log('entramos al if');\r\n            console.log(totalproduc);\r\n            totalproduc.cantidad = totalproduc.cuanti+cantidad;\r\n            console.log(totalproduc.cantidad);\r\n            await Product.updateOne({name: name},{cantidad: totalproduc.cantidad});\r\n            req.flash('success_msg','Se guardo con exito');\r\n            res.json({status:ok})\r\n        }\r\n        console.log(newProduct);\r\n        const buscar = await Categoria.findOne({ category: category});\r\n        if(!buscar){\r\n            const newCate= new Categoria({ estado, category});\r\n            await newCate.save();\r\n        }\r\n        const productSaved = await newProduct.save();\r\n        req.flash('success_msg','Se guardo con exito');\r\n        res.json({status: 'ok', data: 'Proceso Exitoso'});\r\n}\r\nrouter.get('/productos',async (req,res)=>{\r\n        const productosx = await Product.find().sort({date: 'desc'});\r\n        res.render('productos/all-product',{productosx});\r\n    });\r\nexport const getProducts = async (req,res)=>{\r\n    const products = await Product.find();\r\n\r\n    res.json(\"get products\");\r\n}\r\nexport const getProductById = async (req,res)=>{\r\n    const product = await Product.findById(req.params.productId);\r\n    res.status(200).json(product)\r\n}\r\nexport const updateProductById = async (req,res)=>{\r\n    \r\n    const updatedProduct = await Product.findByIdAndUpdate(req.params.producttId, req.body, {\r\n        new:true\r\n    })\r\n    console.log(updatedProduct);\r\n    req.flash('success_msg', 'Producto Actualizado Correctamente', updatedProduct.name);\r\n    res.redirect('/productos');\r\n}\r\nexport const verificarntidad = async(req,res)=>{\r\n    const { name, category, price, imgURL, cantidad} = req.body;  \r\n    if(cantidad<1){\r\n        \r\n        cantidad = 1;\r\n        await Product.findByIdAndDelete(req.params.producttId)\r\n        req.flash('success_msg', 'Producto Comprado');\r\n        res.redirect('/productos'); \r\n    }\r\n\r\n}\r\nexport const deleteProductById = async(req,res)=>{\r\n    \r\n    console.log(\"llegamos al delete\", req.params.producttId);\r\n    await Product.findByIdAndDelete(req.params.producttId)\r\n    req.flash('success_msg', 'Producto Comprado');\r\n    res.redirect('/productos'); \r\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1619070859562
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Product.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Product.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Product.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
        "sourceFileName": "Product.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst productSchema = new _mongoose.Schema({\n  name: String,\n  category: String,\n  price: Number,\n  imgURL: String,\n  cantidad: Number\n}, {\n  timestamps: true,\n  versionKey: false\n});\n\nvar _default = (0, _mongoose.model)('Product', productSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwibmFtZXMiOlsicHJvZHVjdFNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJTdHJpbmciLCJjYXRlZ29yeSIsInByaWNlIiwiTnVtYmVyIiwiaW1nVVJMIiwiY2FudGlkYWQiLCJ0aW1lc3RhbXBzIiwidmVyc2lvbktleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0FBQzdCQyxFQUFBQSxJQUFJLEVBQUVDLE1BRHVCO0FBRTdCQyxFQUFBQSxRQUFRLEVBQUVELE1BRm1CO0FBRzdCRSxFQUFBQSxLQUFLLEVBQUVDLE1BSHNCO0FBSTdCQyxFQUFBQSxNQUFNLEVBQUVKLE1BSnFCO0FBSzdCSyxFQUFBQSxRQUFRLEVBQUVGO0FBTG1CLENBQVgsRUFPbkI7QUFDQ0csRUFBQUEsVUFBVSxFQUFDLElBRFo7QUFFQ0MsRUFBQUEsVUFBVSxFQUFDO0FBRlosQ0FQbUIsQ0FBdEI7O2VBWWUscUJBQU0sU0FBTixFQUFpQlYsYUFBakIsQyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBjU21hcnRcXERlc2t0b3BcXEFQSSBBVVRIXFxzcmNcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTY2hlbWEsIG1vZGVsfSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIG5hbWU6IFN0cmluZywgXHJcbiAgICBjYXRlZ29yeTogU3RyaW5nLFxyXG4gICAgcHJpY2U6IE51bWJlcixcclxuICAgIGltZ1VSTDogU3RyaW5nLFxyXG4gICAgY2FudGlkYWQ6IE51bWJlclxyXG4gICAgXHJcbn0sIHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxuICAgIHZlcnNpb25LZXk6ZmFsc2VcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vZGVsKCdQcm9kdWN0JywgcHJvZHVjdFNjaGVtYSk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "Product.js"
      ],
      "names": [
        "productSchema",
        "Schema",
        "name",
        "String",
        "category",
        "price",
        "Number",
        "imgURL",
        "cantidad",
        "timestamps",
        "versionKey"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,gBAAJ,CAAW;AAC7BC,EAAAA,IAAI,EAAEC,MADuB;AAE7BC,EAAAA,QAAQ,EAAED,MAFmB;AAG7BE,EAAAA,KAAK,EAAEC,MAHsB;AAI7BC,EAAAA,MAAM,EAAEJ,MAJqB;AAK7BK,EAAAA,QAAQ,EAAEF;AALmB,CAAX,EAOnB;AACCG,EAAAA,UAAU,EAAC,IADZ;AAECC,EAAAA,UAAU,EAAC;AAFZ,CAPmB,CAAtB;;eAYe,qBAAM,SAAN,EAAiBV,aAAjB,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "sourcesContent": [
        "import {Schema, model} from 'mongoose'\r\n\r\nconst productSchema = new Schema({\r\n    name: String, \r\n    category: String,\r\n    price: Number,\r\n    imgURL: String,\r\n    cantidad: Number\r\n    \r\n}, {\r\n    timestamps:true,\r\n    versionKey:false\r\n})\r\n\r\nexport default model('Product', productSchema);"
      ]
    },
    "sourceType": "script",
    "mtime": 1619037040334
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\Categoria.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Categoria.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Categoria.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\Categoria.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
        "sourceFileName": "Categoria.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst CategoriaSchema = new _mongoose.Schema({\n  estado: Number,\n  category: String\n}, {\n  timestamps: true,\n  versionKey: false\n});\n\nvar _default = (0, _mongoose.model)('Categoria', CategoriaSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhdGVnb3JpYS5qcyJdLCJuYW1lcyI6WyJDYXRlZ29yaWFTY2hlbWEiLCJTY2hlbWEiLCJlc3RhZG8iLCJOdW1iZXIiLCJjYXRlZ29yeSIsIlN0cmluZyIsInRpbWVzdGFtcHMiLCJ2ZXJzaW9uS2V5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsZUFBZSxHQUFHLElBQUlDLGdCQUFKLENBQVc7QUFDL0JDLEVBQUFBLE1BQU0sRUFBRUMsTUFEdUI7QUFFL0JDLEVBQUFBLFFBQVEsRUFBRUM7QUFGcUIsQ0FBWCxFQUdyQjtBQUNDQyxFQUFBQSxVQUFVLEVBQUMsSUFEWjtBQUVDQyxFQUFBQSxVQUFVLEVBQUM7QUFGWixDQUhxQixDQUF4Qjs7ZUFRZSxxQkFBTSxXQUFOLEVBQW1CUCxlQUFuQixDIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgQ2F0ZWdvcmlhU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBlc3RhZG86IE51bWJlciwgXHJcbiAgICBjYXRlZ29yeTogU3RyaW5nXHJcbn0sIHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxuICAgIHZlcnNpb25LZXk6ZmFsc2VcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vZGVsKCdDYXRlZ29yaWEnLCBDYXRlZ29yaWFTY2hlbWEpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "Categoria.js"
      ],
      "names": [
        "CategoriaSchema",
        "Schema",
        "estado",
        "Number",
        "category",
        "String",
        "timestamps",
        "versionKey"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA,MAAMA,eAAe,GAAG,IAAIC,gBAAJ,CAAW;AAC/BC,EAAAA,MAAM,EAAEC,MADuB;AAE/BC,EAAAA,QAAQ,EAAEC;AAFqB,CAAX,EAGrB;AACCC,EAAAA,UAAU,EAAC,IADZ;AAECC,EAAAA,UAAU,EAAC;AAFZ,CAHqB,CAAxB;;eAQe,qBAAM,WAAN,EAAmBP,eAAnB,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "sourcesContent": [
        "import {Schema, model} from 'mongoose'\r\n\r\nconst CategoriaSchema = new Schema({\r\n    estado: Number, \r\n    category: String\r\n}, {\r\n    timestamps:true,\r\n    versionKey:false\r\n})\r\n\r\nexport default model('Categoria', CategoriaSchema);"
      ]
    },
    "sourceType": "script",
    "mtime": 1619037236052
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\index.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.verifySignup = exports.authjwt = void 0;\n\nvar authjwt = _interopRequireWildcard(require(\"./authjwt\"));\n\nexports.authjwt = authjwt;\n\nvar verifySignup = _interopRequireWildcard(require(\"./verifySignup\"));\n\nexports.verifySignup = verifySignup;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcbWlkZGxld2FyZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGF1dGhqd3QgZnJvbSAnLi9hdXRoand0J1xyXG5pbXBvcnQgKiBhcyB2ZXJpZnlTaWdudXAgZnJvbSAnLi92ZXJpZnlTaWdudXAnXHJcbmV4cG9ydCB7YXV0aGp3dCwgdmVyaWZ5U2lnbnVwfTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;AAAA;;;;AACA",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "sourcesContent": [
        "import * as authjwt from './authjwt'\r\nimport * as verifySignup from './verifySignup'\r\nexport {authjwt, verifySignup};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1618807707308
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\authjwt.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\authjwt.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\authjwt.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\authjwt.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
        "sourceFileName": "authjwt.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isModerator = exports.verifyToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nvar _Role = _interopRequireDefault(require(\"../models/Role\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst verifyToken = async (req, res, next) => {\n  const token = req.session.mail;\n  console.log(token);\n\n  if (!token) {\n    req.flash(\"error_msg\", \"Su sesion ha cerrado\");\n    return res.json({\n      status: \"off\",\n      data: 'Vuelva a Ingresar Porfavor.'\n    });\n  } else {\n    try {\n      const decoded = _jsonwebtoken.default.verify(token, _config.default.SECRET);\n\n      req.userId = decoded.id;\n      const user = await _User.default.findById(req.userId, {\n        password: 0\n      }).lean();\n      if (!user) return res.json({\n        status: \"off\",\n        data: 'Usuario no Registra En BD'\n      });\n      return next();\n    } catch (error) {\n      return res.json({\n        status: \"off\",\n        data: 'Token no encontrado'\n      });\n    }\n  }\n};\n\nexports.verifyToken = verifyToken;\n\nconst isModerator = async (req, res, next) => {\n  const user = await _User.default.findById(req.userId).lean();\n  const roles = await _Role.default.find({\n    _id: {\n      $in: user.roles\n    }\n  });\n  console.log('usuario', user, \"con rol en \", roles);\n\n  for (let i = 0; i < roles.length; i++) {\n    if (roles[i].name === \"moderator\") {\n      next();\n      return;\n    }\n  }\n\n  return res.json({\n    status: \"off\",\n    data: 'El Usuario no es un Moderador'\n  });\n};\n\nexports.isModerator = isModerator;\n\nconst isAdmin = async (req, res, next) => {\n  const user = await _User.default.findById(req.userId).lean();\n  const roles = await _Role.default.find({\n    _id: {\n      $in: user.roles\n    }\n  });\n\n  for (let i = 0; i < roles.length; i++) {\n    if (roles[i].name === \"admin\") {\n      next();\n      return;\n    }\n  }\n\n  return res.status(403).json({\n    message: \"Se requieren privilegios\"\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhqd3QuanMiXSwibmFtZXMiOlsidmVyaWZ5VG9rZW4iLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJzZXNzaW9uIiwibWFpbCIsImNvbnNvbGUiLCJsb2ciLCJmbGFzaCIsImpzb24iLCJzdGF0dXMiLCJkYXRhIiwiZGVjb2RlZCIsImp3dCIsInZlcmlmeSIsImNvbmZpZyIsIlNFQ1JFVCIsInVzZXJJZCIsImlkIiwidXNlciIsIlVzZXIiLCJmaW5kQnlJZCIsInBhc3N3b3JkIiwibGVhbiIsImVycm9yIiwiaXNNb2RlcmF0b3IiLCJyb2xlcyIsInJvbGUiLCJmaW5kIiwiX2lkIiwiJGluIiwiaSIsImxlbmd0aCIsIm5hbWUiLCJpc0FkbWluIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBR08sTUFBTUEsV0FBVyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7QUFFbkQsUUFBT0MsS0FBSyxHQUFJSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsSUFBNUI7QUFDQUMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLEtBQVo7O0FBQ0EsTUFBSSxDQUFDQSxLQUFMLEVBQVc7QUFDVEgsSUFBQUEsR0FBRyxDQUFDUSxLQUFKLENBQVUsV0FBVixFQUF1QixzQkFBdkI7QUFDQSxXQUFPUCxHQUFHLENBQUNRLElBQUosQ0FBUztBQUFFQyxNQUFBQSxNQUFNLEVBQUUsS0FBVjtBQUFpQkMsTUFBQUEsSUFBSSxFQUFFO0FBQXZCLEtBQVQsQ0FBUDtBQUNELEdBSEQsTUFHSztBQUNILFFBQUk7QUFDQSxZQUFNQyxPQUFPLEdBQUdDLHNCQUFJQyxNQUFKLENBQVdYLEtBQVgsRUFBa0JZLGdCQUFPQyxNQUF6QixDQUFoQjs7QUFDQWhCLE1BQUFBLEdBQUcsQ0FBQ2lCLE1BQUosR0FBYUwsT0FBTyxDQUFDTSxFQUFyQjtBQUNBLFlBQU1DLElBQUksR0FBRyxNQUFNQyxjQUFLQyxRQUFMLENBQWNyQixHQUFHLENBQUNpQixNQUFsQixFQUEwQjtBQUFFSyxRQUFBQSxRQUFRLEVBQUU7QUFBWixPQUExQixFQUEyQ0MsSUFBM0MsRUFBbkI7QUFDQSxVQUFJLENBQUNKLElBQUwsRUFBVyxPQUFPbEIsR0FBRyxDQUFDUSxJQUFKLENBQVM7QUFBRUMsUUFBQUEsTUFBTSxFQUFFLEtBQVY7QUFBaUJDLFFBQUFBLElBQUksRUFBRTtBQUF2QixPQUFULENBQVA7QUFDWCxhQUFPVCxJQUFJLEVBQVg7QUFDSCxLQU5ELENBTUUsT0FBT3NCLEtBQVAsRUFBYztBQUNkLGFBQU92QixHQUFHLENBQUNRLElBQUosQ0FBUztBQUFFQyxRQUFBQSxNQUFNLEVBQUUsS0FBVjtBQUFpQkMsUUFBQUEsSUFBSSxFQUFFO0FBQXZCLE9BQVQsQ0FBUDtBQUNEO0FBQ0Y7QUFFRixDQW5CTTs7OztBQXFCQSxNQUFNYyxXQUFXLEdBQUcsT0FBT3pCLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7QUFDbkQsUUFBTWlCLElBQUksR0FBRyxNQUFNQyxjQUFLQyxRQUFMLENBQWNyQixHQUFHLENBQUNpQixNQUFsQixFQUEwQk0sSUFBMUIsRUFBbkI7QUFDQSxRQUFNRyxLQUFLLEdBQUcsTUFBTUMsY0FBS0MsSUFBTCxDQUFVO0FBQUVDLElBQUFBLEdBQUcsRUFBRTtBQUFFQyxNQUFBQSxHQUFHLEVBQUVYLElBQUksQ0FBQ087QUFBWjtBQUFQLEdBQVYsQ0FBcEI7QUFDQXBCLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVosRUFBc0JZLElBQXRCLEVBQTJCLGFBQTNCLEVBQTBDTyxLQUExQzs7QUFDQSxPQUFLLElBQUlLLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdMLEtBQUssQ0FBQ00sTUFBMUIsRUFBa0NELENBQUMsRUFBbkMsRUFBdUM7QUFDckMsUUFBSUwsS0FBSyxDQUFDSyxDQUFELENBQUwsQ0FBU0UsSUFBVCxLQUFrQixXQUF0QixFQUFtQztBQUNqQy9CLE1BQUFBLElBQUk7QUFDSjtBQUNEO0FBQ0Y7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDUSxJQUFKLENBQVM7QUFBRUMsSUFBQUEsTUFBTSxFQUFFLEtBQVY7QUFBaUJDLElBQUFBLElBQUksRUFBRTtBQUF2QixHQUFULENBQVA7QUFDRCxDQVhNOzs7O0FBYUEsTUFBTXVCLE9BQU8sR0FBRyxPQUFPbEMsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUMvQyxRQUFNaUIsSUFBSSxHQUFHLE1BQU1DLGNBQUtDLFFBQUwsQ0FBY3JCLEdBQUcsQ0FBQ2lCLE1BQWxCLEVBQTBCTSxJQUExQixFQUFuQjtBQUNBLFFBQU1HLEtBQUssR0FBRyxNQUFNQyxjQUFLQyxJQUFMLENBQVU7QUFBRUMsSUFBQUEsR0FBRyxFQUFFO0FBQUVDLE1BQUFBLEdBQUcsRUFBRVgsSUFBSSxDQUFDTztBQUFaO0FBQVAsR0FBVixDQUFwQjs7QUFDQSxPQUFLLElBQUlLLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdMLEtBQUssQ0FBQ00sTUFBMUIsRUFBa0NELENBQUMsRUFBbkMsRUFBdUM7QUFDckMsUUFBSUwsS0FBSyxDQUFDSyxDQUFELENBQUwsQ0FBU0UsSUFBVCxLQUFrQixPQUF0QixFQUErQjtBQUM3Qi9CLE1BQUFBLElBQUk7QUFDSjtBQUNEO0FBQ0Y7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDUyxNQUFKLENBQVcsR0FBWCxFQUFnQkQsSUFBaEIsQ0FBcUI7QUFBRTBCLElBQUFBLE9BQU8sRUFBRTtBQUFYLEdBQXJCLENBQVA7QUFDRCxDQVZNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcbWlkZGxld2FyZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb25maWdcIjtcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVscy9Vc2VyXCI7XHJcbmltcG9ydCByb2xlIGZyb20gXCIuLi9tb2RlbHMvUm9sZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCB2ZXJpZnlUb2tlbiA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIFxyXG4gIGNvbnN0ICB0b2tlbiAgPSByZXEuc2Vzc2lvbi5tYWlsO1xyXG4gIGNvbnNvbGUubG9nKHRva2VuKTtcclxuICBpZiAoIXRva2VuKXtcclxuICAgIHJlcS5mbGFzaChcImVycm9yX21zZ1wiLCBcIlN1IHNlc2lvbiBoYSBjZXJyYWRvXCIpO1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9mZlwiLCBkYXRhOiAnVnVlbHZhIGEgSW5ncmVzYXIgUG9yZmF2b3IuJyB9KTtcclxuICB9ZWxzZXtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIGNvbmZpZy5TRUNSRVQpO1xyXG4gICAgICAgIHJlcS51c2VySWQgPSBkZWNvZGVkLmlkO1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS51c2VySWQsIHsgcGFzc3dvcmQ6IDAgfSkubGVhbigpO1xyXG4gICAgICAgIGlmICghdXNlcikgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9mZlwiLCBkYXRhOiAnVXN1YXJpbyBubyBSZWdpc3RyYSBFbiBCRCcgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbih7IHN0YXR1czogXCJvZmZcIiwgZGF0YTogJ1Rva2VuIG5vIGVuY29udHJhZG8nIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaXNNb2RlcmF0b3IgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEudXNlcklkKS5sZWFuKCk7XHJcbiAgY29uc3Qgcm9sZXMgPSBhd2FpdCByb2xlLmZpbmQoeyBfaWQ6IHsgJGluOiB1c2VyLnJvbGVzIH0gfSk7XHJcbiAgY29uc29sZS5sb2coJ3VzdWFyaW8nLHVzZXIsXCJjb24gcm9sIGVuIFwiLCByb2xlcylcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJvbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAocm9sZXNbaV0ubmFtZSA9PT0gXCJtb2RlcmF0b3JcIikge1xyXG4gICAgICBuZXh0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9mZlwiLCBkYXRhOiAnRWwgVXN1YXJpbyBubyBlcyB1biBNb2RlcmFkb3InIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEudXNlcklkKS5sZWFuKCk7XHJcbiAgY29uc3Qgcm9sZXMgPSBhd2FpdCByb2xlLmZpbmQoeyBfaWQ6IHsgJGluOiB1c2VyLnJvbGVzIH0gfSk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb2xlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHJvbGVzW2ldLm5hbWUgPT09IFwiYWRtaW5cIikge1xyXG4gICAgICBuZXh0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogXCJTZSByZXF1aWVyZW4gcHJpdmlsZWdpb3NcIiB9KTtcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "authjwt.js"
      ],
      "names": [
        "verifyToken",
        "req",
        "res",
        "next",
        "token",
        "session",
        "mail",
        "console",
        "log",
        "flash",
        "json",
        "status",
        "data",
        "decoded",
        "jwt",
        "verify",
        "config",
        "SECRET",
        "userId",
        "id",
        "user",
        "User",
        "findById",
        "password",
        "lean",
        "error",
        "isModerator",
        "roles",
        "role",
        "find",
        "_id",
        "$in",
        "i",
        "length",
        "name",
        "isAdmin",
        "message"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "sourcesContent": [
        "import jwt from \"jsonwebtoken\";\r\nimport config from \"../config\";\r\nimport User from \"../models/User\";\r\nimport role from \"../models/Role\";\r\n\r\n\r\nexport const verifyToken = async (req, res, next) => {\r\n  \r\n  const  token  = req.session.mail;\r\n  console.log(token);\r\n  if (!token){\r\n    req.flash(\"error_msg\", \"Su sesion ha cerrado\");\r\n    return res.json({ status: \"off\", data: 'Vuelva a Ingresar Porfavor.' });\r\n  }else{\r\n    try {\r\n        const decoded = jwt.verify(token, config.SECRET);\r\n        req.userId = decoded.id;\r\n        const user = await User.findById(req.userId, { password: 0 }).lean();\r\n        if (!user) return res.json({ status: \"off\", data: 'Usuario no Registra En BD' });\r\n        return next();\r\n    } catch (error) {\r\n      return res.json({ status: \"off\", data: 'Token no encontrado' });\r\n    }\r\n  }\r\n\r\n};\r\n\r\nexport const isModerator = async (req, res, next) => {\r\n  const user = await User.findById(req.userId).lean();\r\n  const roles = await role.find({ _id: { $in: user.roles } });\r\n  console.log('usuario',user,\"con rol en \", roles)\r\n  for (let i = 0; i < roles.length; i++) {\r\n    if (roles[i].name === \"moderator\") {\r\n      next();\r\n      return;\r\n    }\r\n  }\r\n  return res.json({ status: \"off\", data: 'El Usuario no es un Moderador' });\r\n};\r\n\r\nexport const isAdmin = async (req, res, next) => {\r\n  const user = await User.findById(req.userId).lean();\r\n  const roles = await role.find({ _id: { $in: user.roles } });\r\n  for (let i = 0; i < roles.length; i++) {\r\n    if (roles[i].name === \"admin\") {\r\n      next();\r\n      return;\r\n    }\r\n  }\r\n  return res.status(403).json({ message: \"Se requieren privilegios\" });\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1619038772987
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  SECRET: 'products-api'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJTRUNSRVQiXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0FBQ1hBLEVBQUFBLE1BQU0sRUFBRTtBQURHLEMiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFwiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBTRUNSRVQ6ICdwcm9kdWN0cy1hcGknXHJcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "SECRET"
      ],
      "mappings": ";;;;;;eAAe;AACXA,EAAAA,MAAM,EAAE;AADG,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\",
      "sourcesContent": [
        "export default {\r\n    SECRET: 'products-api'\r\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1619138761438
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\User.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\User.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\User.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
        "sourceFileName": "User.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.Schema({\n  username: {\n    type: String,\n    required: true,\n    maxlength: 50,\n    unique: true\n  },\n  email: {\n    type: String,\n    maxlength: 70,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  roles: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: \"Role\"\n  }],\n  estado: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true,\n  versionKey: false\n});\n\nuserSchema.statics.encryptPassword = async password => {\n  const salt = await _bcryptjs.default.genSalt(10);\n  return await _bcryptjs.default.hash(password, salt);\n};\n\nuserSchema.statics.comparePassword = async (password, receivedPassword) => {\n  return await _bcryptjs.default.compare(password, receivedPassword);\n};\n\nvar _default = (0, _mongoose.model)('User', userSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIlNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWF4bGVuZ3RoIiwidW5pcXVlIiwiZW1haWwiLCJwYXNzd29yZCIsInJvbGVzIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsImVzdGFkbyIsIk51bWJlciIsImRlZmF1bHQiLCJ0aW1lc3RhbXBzIiwidmVyc2lvbktleSIsInN0YXRpY3MiLCJlbmNyeXB0UGFzc3dvcmQiLCJzYWx0IiwiYmNyeXB0IiwiZ2VuU2FsdCIsImhhc2giLCJjb21wYXJlUGFzc3dvcmQiLCJyZWNlaXZlZFBhc3N3b3JkIiwiY29tcGFyZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGdCQUFKLENBQVc7QUFDMUJDLEVBQUFBLFFBQVEsRUFBQztBQUFDQyxJQUFBQSxJQUFJLEVBQUNDLE1BQU47QUFBYUMsSUFBQUEsUUFBUSxFQUFDLElBQXRCO0FBQTJCQyxJQUFBQSxTQUFTLEVBQUMsRUFBckM7QUFBd0NDLElBQUFBLE1BQU0sRUFBQztBQUEvQyxHQURpQjtBQUUxQkMsRUFBQUEsS0FBSyxFQUFDO0FBQUNMLElBQUFBLElBQUksRUFBQ0MsTUFBTjtBQUFjRSxJQUFBQSxTQUFTLEVBQUMsRUFBeEI7QUFBMkJDLElBQUFBLE1BQU0sRUFBQztBQUFsQyxHQUZvQjtBQUcxQkUsRUFBQUEsUUFBUSxFQUFDO0FBQUNOLElBQUFBLElBQUksRUFBQ0MsTUFBTjtBQUFhQyxJQUFBQSxRQUFRLEVBQUM7QUFBdEIsR0FIaUI7QUFJMUJLLEVBQUFBLEtBQUssRUFBQyxDQUFDO0FBQ0hQLElBQUFBLElBQUksRUFBRUYsaUJBQU9VLEtBQVAsQ0FBYUMsUUFEaEI7QUFFSEMsSUFBQUEsR0FBRyxFQUFFO0FBRkYsR0FBRCxDQUpvQjtBQVExQkMsRUFBQUEsTUFBTSxFQUFDO0FBQUNYLElBQUFBLElBQUksRUFBQ1ksTUFBTjtBQUFjQyxJQUFBQSxPQUFPLEVBQUM7QUFBdEI7QUFSbUIsQ0FBWCxFQVNoQjtBQUNDQyxFQUFBQSxVQUFVLEVBQUUsSUFEYjtBQUVDQyxFQUFBQSxVQUFVLEVBQUU7QUFGYixDQVRnQixDQUFuQjs7QUFjQWxCLFVBQVUsQ0FBQ21CLE9BQVgsQ0FBbUJDLGVBQW5CLEdBQXFDLE1BQU9YLFFBQVAsSUFBb0I7QUFDckQsUUFBTVksSUFBSSxHQUFHLE1BQU1DLGtCQUFPQyxPQUFQLENBQWUsRUFBZixDQUFuQjtBQUNBLFNBQU8sTUFBTUQsa0JBQU9FLElBQVAsQ0FBWWYsUUFBWixFQUFzQlksSUFBdEIsQ0FBYjtBQUNILENBSEQ7O0FBS0FyQixVQUFVLENBQUNtQixPQUFYLENBQW1CTSxlQUFuQixHQUFzQyxPQUFPaEIsUUFBUCxFQUFnQmlCLGdCQUFoQixLQUFtQztBQUNyRSxTQUFPLE1BQU1KLGtCQUFPSyxPQUFQLENBQWVsQixRQUFmLEVBQXlCaUIsZ0JBQXpCLENBQWI7QUFDSCxDQUZEOztlQUllLHFCQUFNLE1BQU4sRUFBYTFCLFVBQWIsQyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBjU21hcnRcXERlc2t0b3BcXEFQSSBBVVRIXFxzcmNcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTY2hlbWEsIG1vZGVsfSBmcm9tICdtb25nb29zZSc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcm5hbWU6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWUsbWF4bGVuZ3RoOjUwLHVuaXF1ZTp0cnVlfSxcclxuICAgIGVtYWlsOnt0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjcwLHVuaXF1ZTp0cnVlfSxcclxuICAgIHBhc3N3b3JkOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHJvbGVzOlt7XHJcbiAgICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjogXCJSb2xlXCIsIFxyXG4gICAgfV0sXHJcbiAgICBlc3RhZG86e3R5cGU6TnVtYmVyLCBkZWZhdWx0OjF9LFxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gICAgdmVyc2lvbktleTogZmFsc2VcclxufSk7XHJcblxyXG51c2VyU2NoZW1hLnN0YXRpY3MuZW5jcnlwdFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XHJcbiAgICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xyXG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcclxufVxyXG5cclxudXNlclNjaGVtYS5zdGF0aWNzLmNvbXBhcmVQYXNzd29yZCAgPSBhc3luYyAocGFzc3dvcmQscmVjZWl2ZWRQYXNzd29yZCk9PntcclxuICAgIHJldHVybiBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgcmVjZWl2ZWRQYXNzd29yZClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9kZWwoJ1VzZXInLHVzZXJTY2hlbWEpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "userSchema",
        "Schema",
        "username",
        "type",
        "String",
        "required",
        "maxlength",
        "unique",
        "email",
        "password",
        "roles",
        "Types",
        "ObjectId",
        "ref",
        "estado",
        "Number",
        "default",
        "timestamps",
        "versionKey",
        "statics",
        "encryptPassword",
        "salt",
        "bcrypt",
        "genSalt",
        "hash",
        "comparePassword",
        "receivedPassword",
        "compare"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,gBAAJ,CAAW;AAC1BC,EAAAA,QAAQ,EAAC;AAACC,IAAAA,IAAI,EAACC,MAAN;AAAaC,IAAAA,QAAQ,EAAC,IAAtB;AAA2BC,IAAAA,SAAS,EAAC,EAArC;AAAwCC,IAAAA,MAAM,EAAC;AAA/C,GADiB;AAE1BC,EAAAA,KAAK,EAAC;AAACL,IAAAA,IAAI,EAACC,MAAN;AAAcE,IAAAA,SAAS,EAAC,EAAxB;AAA2BC,IAAAA,MAAM,EAAC;AAAlC,GAFoB;AAG1BE,EAAAA,QAAQ,EAAC;AAACN,IAAAA,IAAI,EAACC,MAAN;AAAaC,IAAAA,QAAQ,EAAC;AAAtB,GAHiB;AAI1BK,EAAAA,KAAK,EAAC,CAAC;AACHP,IAAAA,IAAI,EAAEF,iBAAOU,KAAP,CAAaC,QADhB;AAEHC,IAAAA,GAAG,EAAE;AAFF,GAAD,CAJoB;AAQ1BC,EAAAA,MAAM,EAAC;AAACX,IAAAA,IAAI,EAACY,MAAN;AAAcC,IAAAA,OAAO,EAAC;AAAtB;AARmB,CAAX,EAShB;AACCC,EAAAA,UAAU,EAAE,IADb;AAECC,EAAAA,UAAU,EAAE;AAFb,CATgB,CAAnB;;AAcAlB,UAAU,CAACmB,OAAX,CAAmBC,eAAnB,GAAqC,MAAOX,QAAP,IAAoB;AACrD,QAAMY,IAAI,GAAG,MAAMC,kBAAOC,OAAP,CAAe,EAAf,CAAnB;AACA,SAAO,MAAMD,kBAAOE,IAAP,CAAYf,QAAZ,EAAsBY,IAAtB,CAAb;AACH,CAHD;;AAKArB,UAAU,CAACmB,OAAX,CAAmBM,eAAnB,GAAsC,OAAOhB,QAAP,EAAgBiB,gBAAhB,KAAmC;AACrE,SAAO,MAAMJ,kBAAOK,OAAP,CAAelB,QAAf,EAAyBiB,gBAAzB,CAAb;AACH,CAFD;;eAIe,qBAAM,MAAN,EAAa1B,UAAb,C",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\models\\",
      "sourcesContent": [
        "import {Schema, model} from 'mongoose';\r\nimport bcrypt from 'bcryptjs';\r\n\r\nconst userSchema = new Schema({\r\n    username:{type:String,required:true,maxlength:50,unique:true},\r\n    email:{type:String, maxlength:70,unique:true},\r\n    password:{type:String,required:true},\r\n    roles:[{\r\n        type: Schema.Types.ObjectId,\r\n        ref: \"Role\", \r\n    }],\r\n    estado:{type:Number, default:1},\r\n}, {\r\n    timestamps: true,\r\n    versionKey: false\r\n});\r\n\r\nuserSchema.statics.encryptPassword = async (password) => {\r\n    const salt = await bcrypt.genSalt(10);\r\n    return await bcrypt.hash(password, salt);\r\n}\r\n\r\nuserSchema.statics.comparePassword  = async (password,receivedPassword)=>{\r\n    return await bcrypt.compare(password, receivedPassword)\r\n}\r\n\r\nexport default model('User',userSchema);"
      ]
    },
    "sourceType": "script",
    "mtime": 1618853066849
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\middlewares\\\\verifySignup.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\verifySignup.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\verifySignup.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\verifySignup.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
        "sourceFileName": "verifySignup.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkRolesExisted = exports.checkDuplicateUsernameOrEmail = void 0;\n\nvar _Role = require(\"../models/Role\");\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst checkDuplicateUsernameOrEmail = async (req, res, next) => {\n  try {\n    const email = await _User.default.findOne({\n      email: req.body.email\n    });\n\n    if (email) {\n      req.flash(\"error_msg\", \"El email ya esta registrado\");\n      res.redirect('/users/signup');\n    } else {\n      next();\n    }\n  } catch (error) {\n    res.status(500).json({\n      message: error\n    });\n  }\n};\n\nexports.checkDuplicateUsernameOrEmail = checkDuplicateUsernameOrEmail;\n\nconst checkRolesExisted = (req, res, next) => {\n  if (req.body.roles) {\n    for (let i = 0; i < req.body.roles.lengh; i++) {\n      if (!_Role.ROLES.includes(req.body.roles[i])) {\n        return res.status(400).json({\n          message: `Role ${req.body.roles[i]} no existe`\n        });\n      }\n    }\n  }\n\n  next();\n};\n\nexports.checkRolesExisted = checkRolesExisted;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlcmlmeVNpZ251cC5qcyJdLCJuYW1lcyI6WyJjaGVja0R1cGxpY2F0ZVVzZXJuYW1lT3JFbWFpbCIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsIlVzZXIiLCJmaW5kT25lIiwiYm9keSIsImZsYXNoIiwicmVkaXJlY3QiLCJlcnJvciIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiY2hlY2tSb2xlc0V4aXN0ZWQiLCJyb2xlcyIsImkiLCJsZW5naCIsIlJPTEVTIiwiaW5jbHVkZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBLE1BQU1BLDZCQUE2QixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7QUFFOUQsTUFBSTtBQUNGLFVBQU1DLEtBQUssR0FBRyxNQUFNQyxjQUFLQyxPQUFMLENBQWE7QUFBRUYsTUFBQUEsS0FBSyxFQUFFSCxHQUFHLENBQUNNLElBQUosQ0FBU0g7QUFBbEIsS0FBYixDQUFwQjs7QUFDQSxRQUFJQSxLQUFKLEVBQVU7QUFDUkgsTUFBQUEsR0FBRyxDQUFDTyxLQUFKLENBQVUsV0FBVixFQUF1Qiw2QkFBdkI7QUFBc0ROLE1BQUFBLEdBQUcsQ0FBQ08sUUFBSixDQUFhLGVBQWI7QUFDdkQsS0FGRCxNQUVLO0FBQ0hOLE1BQUFBLElBQUk7QUFDTDtBQUNGLEdBUEQsQ0FPRSxPQUFPTyxLQUFQLEVBQWM7QUFDZFIsSUFBQUEsR0FBRyxDQUFDUyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFSDtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQVpEOzs7O0FBZ0JBLE1BQU1JLGlCQUFpQixHQUFHLENBQUNiLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzVDLE1BQUlGLEdBQUcsQ0FBQ00sSUFBSixDQUFTUSxLQUFiLEVBQW9CO0FBQ2xCLFNBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR2YsR0FBRyxDQUFDTSxJQUFKLENBQVNRLEtBQVQsQ0FBZUUsS0FBbkMsRUFBMENELENBQUMsRUFBM0MsRUFBK0M7QUFDN0MsVUFBSSxDQUFDRSxZQUFNQyxRQUFOLENBQWVsQixHQUFHLENBQUNNLElBQUosQ0FBU1EsS0FBVCxDQUFlQyxDQUFmLENBQWYsQ0FBTCxFQUF3QztBQUN0QyxlQUFPZCxHQUFHLENBQUNTLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsVUFBQUEsT0FBTyxFQUFHLFFBQU9aLEdBQUcsQ0FBQ00sSUFBSixDQUFTUSxLQUFULENBQWVDLENBQWYsQ0FBa0I7QUFEVCxTQUFyQixDQUFQO0FBR0Q7QUFDRjtBQUNGOztBQUNEYixFQUFBQSxJQUFJO0FBQ0wsQ0FYRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBjU21hcnRcXERlc2t0b3BcXEFQSSBBVVRIXFxzcmNcXG1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBST0xFUyB9IGZyb20gXCIuLi9tb2RlbHMvUm9sZVwiO1xyXG5pbXBvcnQgVXNlciBmcm9tIFwiLi4vbW9kZWxzL1VzZXJcIjtcclxuY29uc3QgY2hlY2tEdXBsaWNhdGVVc2VybmFtZU9yRW1haWwgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc3QgZW1haWwgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwgfSk7XHJcbiAgICBpZiAoZW1haWwpe1xyXG4gICAgICByZXEuZmxhc2goXCJlcnJvcl9tc2dcIiwgXCJFbCBlbWFpbCB5YSBlc3RhIHJlZ2lzdHJhZG9cIik7cmVzLnJlZGlyZWN0KCcvdXNlcnMvc2lnbnVwJyk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgbmV4dCgpO1xyXG4gICAgfSAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogZXJyb3IgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcblxyXG5jb25zdCBjaGVja1JvbGVzRXhpc3RlZCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGlmIChyZXEuYm9keS5yb2xlcykge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXEuYm9keS5yb2xlcy5sZW5naDsgaSsrKSB7XHJcbiAgICAgIGlmICghUk9MRVMuaW5jbHVkZXMocmVxLmJvZHkucm9sZXNbaV0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IGBSb2xlICR7cmVxLmJvZHkucm9sZXNbaV19IG5vIGV4aXN0ZWAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgbmV4dCgpO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgY2hlY2tEdXBsaWNhdGVVc2VybmFtZU9yRW1haWwsIGNoZWNrUm9sZXNFeGlzdGVkIH07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "verifySignup.js"
      ],
      "names": [
        "checkDuplicateUsernameOrEmail",
        "req",
        "res",
        "next",
        "email",
        "User",
        "findOne",
        "body",
        "flash",
        "redirect",
        "error",
        "status",
        "json",
        "message",
        "checkRolesExisted",
        "roles",
        "i",
        "lengh",
        "ROLES",
        "includes"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,6BAA6B,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAE9D,MAAI;AACF,UAAMC,KAAK,GAAG,MAAMC,cAAKC,OAAL,CAAa;AAAEF,MAAAA,KAAK,EAAEH,GAAG,CAACM,IAAJ,CAASH;AAAlB,KAAb,CAApB;;AACA,QAAIA,KAAJ,EAAU;AACRH,MAAAA,GAAG,CAACO,KAAJ,CAAU,WAAV,EAAuB,6BAAvB;AAAsDN,MAAAA,GAAG,CAACO,QAAJ,CAAa,eAAb;AACvD,KAFD,MAEK;AACHN,MAAAA,IAAI;AACL;AACF,GAPD,CAOE,OAAOO,KAAP,EAAc;AACdR,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAEH;AAAX,KAArB;AACD;AACF,CAZD;;;;AAgBA,MAAMI,iBAAiB,GAAG,CAACb,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC5C,MAAIF,GAAG,CAACM,IAAJ,CAASQ,KAAb,EAAoB;AAClB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,GAAG,CAACM,IAAJ,CAASQ,KAAT,CAAeE,KAAnC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,UAAI,CAACE,YAAMC,QAAN,CAAelB,GAAG,CAACM,IAAJ,CAASQ,KAAT,CAAeC,CAAf,CAAf,CAAL,EAAwC;AACtC,eAAOd,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,UAAAA,OAAO,EAAG,QAAOZ,GAAG,CAACM,IAAJ,CAASQ,KAAT,CAAeC,CAAf,CAAkB;AADT,SAArB,CAAP;AAGD;AACF;AACF;;AACDb,EAAAA,IAAI;AACL,CAXD",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\middlewares\\",
      "sourcesContent": [
        "import { ROLES } from \"../models/Role\";\r\nimport User from \"../models/User\";\r\nconst checkDuplicateUsernameOrEmail = async (req, res, next) => {\r\n  \r\n  try {\r\n    const email = await User.findOne({ email: req.body.email });\r\n    if (email){\r\n      req.flash(\"error_msg\", \"El email ya esta registrado\");res.redirect('/users/signup');\r\n    }else{\r\n      next();\r\n    }  \r\n  } catch (error) {\r\n    res.status(500).json({ message: error });\r\n  }\r\n};\r\n\r\n\r\n\r\nconst checkRolesExisted = (req, res, next) => {\r\n  if (req.body.roles) {\r\n    for (let i = 0; i < req.body.roles.lengh; i++) {\r\n      if (!ROLES.includes(req.body.roles[i])) {\r\n        return res.status(400).json({\r\n          message: `Role ${req.body.roles[i]} no existe`,\r\n        });\r\n      }\r\n    }\r\n  }\r\n  next();\r\n};\r\n\r\nexport { checkDuplicateUsernameOrEmail, checkRolesExisted };\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1618978403433
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\auth.routes.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\auth.routes.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\auth.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "auth.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar authCtrl = _interopRequireWildcard(require(\"../controllers/auth.controller\"));\n\nvar _middlewares = require(\"../middlewares\");\n\nvar _passport = _interopRequireDefault(require(\"../config/passport\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst router = (0, _express.Router)();\nrouter.use((req, res, next) => {\n  res.header(\"Access-Control-Allow-Headers\", \"x-access-token, Origin, Content-Type, Accept\");\n  next();\n});\nrouter.post('/signup', [_middlewares.verifySignup.checkRolesExisted], authCtrl.signup);\nrouter.post('/signin', authCtrl.signin);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgucm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInVzZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJwb3N0IiwidmVyaWZ5U2lnbnVwIiwiY2hlY2tSb2xlc0V4aXN0ZWQiLCJhdXRoQ3RybCIsInNpZ251cCIsInNpZ25pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUdBOztBQUNBOztBQUNBOzs7Ozs7OztBQUpBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjtBQUtBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUMzQkQsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQ0UsOEJBREYsRUFFRSw4Q0FGRjtBQUlBRCxFQUFBQSxJQUFJO0FBQ0wsQ0FOSDtBQU9BSixNQUFNLENBQUNNLElBQVAsQ0FBWSxTQUFaLEVBQXVCLENBQUNDLDBCQUFhQyxpQkFBZCxDQUF2QixFQUF3REMsUUFBUSxDQUFDQyxNQUFqRTtBQUNBVixNQUFNLENBQUNNLElBQVAsQ0FBWSxTQUFaLEVBQXVCRyxRQUFRLENBQUNFLE1BQWhDO2VBRWVYLE0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJ1xyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmltcG9ydCAqIGFzIGF1dGhDdHJsIGZyb20gJy4uL2NvbnRyb2xsZXJzL2F1dGguY29udHJvbGxlcidcclxuaW1wb3J0IHt2ZXJpZnlTaWdudXB9IGZyb20gJy4uL21pZGRsZXdhcmVzJ1xyXG5pbXBvcnQgcGFzc3BvcnR6IGZyb20gJy4uL2NvbmZpZy9wYXNzcG9ydCdcclxucm91dGVyLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIHJlcy5oZWFkZXIoXHJcbiAgICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLFxyXG4gICAgICBcIngtYWNjZXNzLXRva2VuLCBPcmlnaW4sIENvbnRlbnQtVHlwZSwgQWNjZXB0XCJcclxuICAgICk7XHJcbiAgICBuZXh0KCk7XHJcbiAgfSk7XHJcbnJvdXRlci5wb3N0KCcvc2lnbnVwJywgW3ZlcmlmeVNpZ251cC5jaGVja1JvbGVzRXhpc3RlZF0sYXV0aEN0cmwuc2lnbnVwKVxyXG5yb3V0ZXIucG9zdCgnL3NpZ25pbicsIGF1dGhDdHJsLnNpZ25pbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "auth.routes.js"
      ],
      "names": [
        "router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "post",
        "verifySignup",
        "checkRolesExisted",
        "authCtrl",
        "signup",
        "signin"
      ],
      "mappings": ";;;;;;;AAAA;;AAGA;;AACA;;AACA;;;;;;;;AAJA,MAAMA,MAAM,GAAG,sBAAf;AAKAA,MAAM,CAACC,GAAP,CAAW,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC3BD,EAAAA,GAAG,CAACE,MAAJ,CACE,8BADF,EAEE,8CAFF;AAIAD,EAAAA,IAAI;AACL,CANH;AAOAJ,MAAM,CAACM,IAAP,CAAY,SAAZ,EAAuB,CAACC,0BAAaC,iBAAd,CAAvB,EAAwDC,QAAQ,CAACC,MAAjE;AACAV,MAAM,CAACM,IAAP,CAAY,SAAZ,EAAuBG,QAAQ,CAACE,MAAhC;eAEeX,M",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "import {Router} from 'express'\r\nconst router = Router();\r\n\r\nimport * as authCtrl from '../controllers/auth.controller'\r\nimport {verifySignup} from '../middlewares'\r\nimport passportz from '../config/passport'\r\nrouter.use((req, res, next) => {\r\n    res.header(\r\n      \"Access-Control-Allow-Headers\",\r\n      \"x-access-token, Origin, Content-Type, Accept\"\r\n    );\r\n    next();\r\n  });\r\nrouter.post('/signup', [verifySignup.checkRolesExisted],authCtrl.signup)\r\nrouter.post('/signin', authCtrl.signin);\r\n\r\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1618993821771
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\auth.controller.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\auth.controller.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\auth.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
        "sourceFileName": "auth.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signin = exports.renderSigninForm = exports.renderproductos = exports.signup = exports.renderSignUpForm = void 0;\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nvar _Role = _interopRequireDefault(require(\"../models/Role\"));\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst renderSignUpForm = (req, res) => res.render(\"users/signup\");\n\nexports.renderSignUpForm = renderSignUpForm;\n\nconst signup = async (req, res) => {\n  const errors = [];\n  const {\n    username,\n    email,\n    password,\n    Confirmpassword,\n    roles\n  } = req.body;\n\n  if (username.length <= 0 || password.length <= 0 || email.length <= 0) {\n    errors.push({\n      text: \"Campos Vacios\"\n    });\n  }\n\n  if (password != Confirmpassword) {\n    errors.push({\n      text: \"Contraseas no coinciden\"\n    });\n  }\n\n  if (password.length < 4) {\n    errors.push({\n      text: \"La Contraseas debe tener almenos 4 caracteres\"\n    });\n  }\n\n  if (errors.length > 0) {\n    res.render(\"users/signup\", {\n      errors,\n      username,\n      email,\n      password,\n      Confirmpassword,\n      roles\n    });\n  } else {\n    const emailUser = await _User.default.findOne({\n      email: email\n    });\n\n    if (emailUser) {\n      req.flash(\"error_msg\", \"Este Correo Ya Esta En Uso.\");\n      res.redirect(\"/users/signup\");\n    } else {\n      const newUser = new _User.default({\n        username,\n        email,\n        password: await _User.default.encryptPassword(password)\n      });\n\n      if (roles) {\n        const foundRoles = await _Role.default.find({\n          name: {\n            $in: roles\n          }\n        });\n        newUser.roles = foundRoles.map(role => role._id);\n      } else {\n        const role = await _Role.default.findOne({\n          name: \"user\"\n        });\n        newUser.roles = [role._id];\n      }\n\n      const savedUser = await newUser.save();\n      console.log(savedUser);\n\n      const token = _jsonwebtoken.default.sign({\n        id: savedUser._id\n      }, _config.default.SECRET, {\n        expiresIn: 86400 // 24 horas\n\n      });\n\n      console.log(token);\n      res.redirect(\"/productos\");\n    }\n  }\n};\n\nexports.signup = signup;\n\nconst renderproductos = (req, res) => res.render(\"/productos\");\n\nexports.renderproductos = renderproductos;\n\nconst renderSigninForm = (req, res) => res.render(\"users/signin\");\n\nexports.renderSigninForm = renderSigninForm;\n\nconst signin = async (req, res) => {\n  const userFound = await _User.default.findOne({\n    email: req.body.email\n  }).populate(\"roles\");\n\n  if (!userFound) {\n    req.flash(\"error_msg\", \"Usuario no encontrado\");\n    return res.json({\n      status: \"off\"\n    });\n  } else {\n    const matchPassword = await _User.default.comparePassword(req.body.password, userFound.password);\n\n    if (!matchPassword) {\n      req.flash(\"error_msg\", \"password incorrecto\");\n      return res.json({\n        status: \"off\"\n      });\n    }\n\n    const token = _jsonwebtoken.default.sign({\n      id: userFound._id\n    }, _config.default.SECRET, {\n      expiresIn: 86400\n    });\n\n    req.session.mail = token;\n    console.log(req.session.mail);\n    return res.json({\n      status: \"ok\",\n      data: token\n    });\n  }\n};\n\nexports.signin = signin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJyZW5kZXJTaWduVXBGb3JtIiwicmVxIiwicmVzIiwicmVuZGVyIiwic2lnbnVwIiwiZXJyb3JzIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiQ29uZmlybXBhc3N3b3JkIiwicm9sZXMiLCJib2R5IiwibGVuZ3RoIiwicHVzaCIsInRleHQiLCJlbWFpbFVzZXIiLCJVc2VyIiwiZmluZE9uZSIsImZsYXNoIiwicmVkaXJlY3QiLCJuZXdVc2VyIiwiZW5jcnlwdFBhc3N3b3JkIiwiZm91bmRSb2xlcyIsIlJvbGUiLCJmaW5kIiwibmFtZSIsIiRpbiIsIm1hcCIsInJvbGUiLCJfaWQiLCJzYXZlZFVzZXIiLCJzYXZlIiwiY29uc29sZSIsImxvZyIsInRva2VuIiwiand0Iiwic2lnbiIsImlkIiwiY29uZmlnIiwiU0VDUkVUIiwiZXhwaXJlc0luIiwicmVuZGVycHJvZHVjdG9zIiwicmVuZGVyU2lnbmluRm9ybSIsInNpZ25pbiIsInVzZXJGb3VuZCIsInBvcHVsYXRlIiwianNvbiIsInN0YXR1cyIsIm1hdGNoUGFzc3dvcmQiLCJjb21wYXJlUGFzc3dvcmQiLCJzZXNzaW9uIiwibWFpbCIsImRhdGEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVPLE1BQU1BLGdCQUFnQixHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxjQUFYLENBQXZDOzs7O0FBRUEsTUFBTUMsTUFBTSxHQUFHLE9BQU9ILEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN4QyxRQUFNRyxNQUFNLEdBQUcsRUFBZjtBQUNBLFFBQU07QUFBRUMsSUFBQUEsUUFBRjtBQUFZQyxJQUFBQSxLQUFaO0FBQW1CQyxJQUFBQSxRQUFuQjtBQUE2QkMsSUFBQUEsZUFBN0I7QUFBOENDLElBQUFBO0FBQTlDLE1BQXdEVCxHQUFH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QyxJQUFBQSxHQUFHLENBQUNpRCxPQUFKLENBQVlDLElBQVosR0FBa0JqQixLQUFsQjtBQUNBRixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWhDLEdBQUcsQ0FBQ2lELE9BQUosQ0FBWUMsSUFBeEI7QUFDQSxXQUFPakQsR0FBRyxDQUFDNEMsSUFBSixDQUFTO0FBQUVDLE1BQUFBLE1BQU0sRUFBRSxJQUFWO0FBQWdCSyxNQUFBQSxJQUFJLEVBQUVsQjtBQUF0QixLQUFULENBQVA7QUFDRDtBQUNGLENBdkJNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvVXNlclwiO1xyXG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vY29uZmlnXCI7XHJcbmltcG9ydCBSb2xlIGZyb20gXCIuLi9tb2RlbHMvUm9sZVwiO1xyXG5pbXBvcnQgcGFzc3BvcnQgZnJvbSBcInBhc3Nwb3J0XCI7XHJcbmltcG9ydCBDb29raWVzIGZyb20gXCJqcy1jb29raWVcIjtcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJTaWduVXBGb3JtID0gKHJlcSwgcmVzKSA9PiByZXMucmVuZGVyKFwidXNlcnMvc2lnbnVwXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNpZ251cCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGVycm9ycyA9IFtdO1xyXG4gIGNvbnN0IHsgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgQ29uZmlybXBhc3N3b3JkLCByb2xlcyB9ID0gcmVxLmJvZHk7XHJcblxyXG4gIGlmICh1c2VybmFtZS5sZW5ndGggPD0gMCB8fCBwYXNzd29yZC5sZW5ndGggPD0gMCB8fCBlbWFpbC5sZW5ndGggPD0gMCkge1xyXG4gICAgZXJyb3JzLnB1c2goeyB0ZXh0OiBcIkNhbXBvcyBWYWNpb3NcIiB9KTtcclxuICB9XHJcblxyXG4gIGlmIChwYXNzd29yZCAhPSBDb25maXJtcGFzc3dvcmQpIHtcclxuICAgIGVycm9ycy5wdXNoKHsgdGV4dDogXCJDb250cmFzZcOxYXMgbm8gY29pbmNpZGVuXCIgfSk7XHJcbiAgfVxyXG4gIGlmIChwYXNzd29yZC5sZW5ndGggPCA0KSB7XHJcbiAgICBlcnJvcnMucHVzaCh7IHRleHQ6IFwiTGEgQ29udHJhc2XDsWFzIGRlYmUgdGVuZXIgYWxtZW5vcyA0IGNhcmFjdGVyZXNcIiB9KTtcclxuICB9XHJcbiAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICByZXMucmVuZGVyKFwidXNlcnMvc2lnbnVwXCIsIHtcclxuICAgICAgZXJyb3JzLFxyXG4gICAgICB1c2VybmFtZSxcclxuICAgICAgZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkLFxyXG4gICAgICBDb25maXJtcGFzc3dvcmQsXHJcbiAgICAgIHJvbGVzLFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGVtYWlsVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgIGlmIChlbWFpbFVzZXIpIHtcclxuICAgICAgcmVxLmZsYXNoKFwiZXJyb3JfbXNnXCIsIFwiRXN0ZSBDb3JyZW8gWWEgRXN0YSBFbiBVc28uXCIpO1xyXG4gICAgICByZXMucmVkaXJlY3QoXCIvdXNlcnMvc2lnbnVwXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICBlbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogYXdhaXQgVXNlci5lbmNyeXB0UGFzc3dvcmQocGFzc3dvcmQpLFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHJvbGVzKSB7XHJcbiAgICAgICAgY29uc3QgZm91bmRSb2xlcyA9IGF3YWl0IFJvbGUuZmluZCh7IG5hbWU6IHsgJGluOiByb2xlcyB9IH0pO1xyXG4gICAgICAgIG5ld1VzZXIucm9sZXMgPSBmb3VuZFJvbGVzLm1hcCgocm9sZSkgPT4gcm9sZS5faWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHJvbGUgPSBhd2FpdCBSb2xlLmZpbmRPbmUoeyBuYW1lOiBcInVzZXJcIiB9KTtcclxuICAgICAgICBuZXdVc2VyLnJvbGVzID0gW3JvbGUuX2lkXTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBzYXZlZFVzZXIgPSBhd2FpdCBuZXdVc2VyLnNhdmUoKTtcclxuICAgICAgY29uc29sZS5sb2coc2F2ZWRVc2VyKTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IGlkOiBzYXZlZFVzZXIuX2lkIH0sIGNvbmZpZy5TRUNSRVQsIHtcclxuICAgICAgICBleHBpcmVzSW46IDg2NDAwLCAvLyAyNCBob3Jhc1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc29sZS5sb2codG9rZW4pO1xyXG4gICAgICByZXMucmVkaXJlY3QoXCIvcHJvZHVjdG9zXCIpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuZXhwb3J0IGNvbnN0IHJlbmRlcnByb2R1Y3RvcyA9IChyZXEsIHJlcykgPT4gcmVzLnJlbmRlcihcIi9wcm9kdWN0b3NcIik7XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyU2lnbmluRm9ybSA9IChyZXEsIHJlcykgPT4gcmVzLnJlbmRlcihcInVzZXJzL3NpZ25pblwiKTtcclxuXHJcblxyXG5leHBvcnQgY29uc3Qgc2lnbmluID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgdXNlckZvdW5kID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWw6IHJlcS5ib2R5LmVtYWlsIH0pLnBvcHVsYXRlKFxyXG4gICAgXCJyb2xlc1wiXHJcbiAgKTtcclxuICBpZiAoIXVzZXJGb3VuZCkge1xyXG4gICAgcmVxLmZsYXNoKFwiZXJyb3JfbXNnXCIsIFwiVXN1YXJpbyBubyBlbmNvbnRyYWRvXCIpO1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9mZlwifSlcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgbWF0Y2hQYXNzd29yZCA9IGF3YWl0IFVzZXIuY29tcGFyZVBhc3N3b3JkKFxyXG4gICAgICByZXEuYm9keS5wYXNzd29yZCxcclxuICAgICAgdXNlckZvdW5kLnBhc3N3b3JkXHJcbiAgICApO1xyXG4gICAgaWYgKCFtYXRjaFBhc3N3b3JkKSB7XHJcbiAgICAgIHJlcS5mbGFzaChcImVycm9yX21zZ1wiLCBcInBhc3N3b3JkIGluY29ycmVjdG9cIik7XHJcbiAgICAgIHJldHVybiByZXMuanNvbih7IHN0YXR1czogXCJvZmZcIn0pXHJcbiAgICB9XHJcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgaWQ6IHVzZXJGb3VuZC5faWQgfSwgY29uZmlnLlNFQ1JFVCwge1xyXG4gICAgICBleHBpcmVzSW46IDg2NDAwLFxyXG4gICAgfSk7XHJcbiAgICByZXEuc2Vzc2lvbi5tYWlsPSB0b2tlbjtcclxuICAgIGNvbnNvbGUubG9nKHJlcS5zZXNzaW9uLm1haWwpO1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcIm9rXCIsIGRhdGE6IHRva2VuIH0pO1xyXG4gIH1cclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "auth.controller.js"
      ],
      "names": [
        "renderSignUpForm",
        "req",
        "res",
        "render",
        "signup",
        "errors",
        "username",
        "email",
        "password",
        "Confirmpassword",
        "roles",
        "body",
        "length",
        "push",
        "text",
        "emailUser",
        "User",
        "findOne",
        "flash",
        "redirect",
        "newUser",
        "encryptPassword",
        "foundRoles",
        "Role",
        "find",
        "name",
        "$in",
        "map",
        "role",
        "_id",
        "savedUser",
        "save",
        "console",
        "log",
        "token",
        "jwt",
        "sign",
        "id",
        "config",
        "SECRET",
        "expiresIn",
        "renderproductos",
        "renderSigninForm",
        "signin",
        "userFound",
        "populate",
        "json",
        "status",
        "matchPassword",
        "comparePassword",
        "session",
        "mail",
        "data"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "sourcesContent": [
        "import User from \"../models/User\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport config from \"../config\";\r\nimport Role from \"../models/Role\";\r\nimport passport from \"passport\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport const renderSignUpForm = (req, res) => res.render(\"users/signup\");\r\n\r\nexport const signup = async (req, res) => {\r\n  const errors = [];\r\n  const { username, email, password, Confirmpassword, roles } = req.body;\r\n\r\n  if (username.length <= 0 || password.length <= 0 || email.length <= 0) {\r\n    errors.push({ text: \"Campos Vacios\" });\r\n  }\r\n\r\n  if (password != Confirmpassword) {\r\n    errors.push({ text: \"Contraseas no coinciden\" });\r\n  }\r\n  if (password.length < 4) {\r\n    errors.push({ text: \"La Contraseas debe tener almenos 4 caracteres\" });\r\n  }\r\n  if (errors.length > 0) {\r\n    res.render(\"users/signup\", {\r\n      errors,\r\n      username,\r\n      email,\r\n      password,\r\n      Confirmpassword,\r\n      roles,\r\n    });\r\n  } else {\r\n    const emailUser = await User.findOne({ email: email });\r\n    if (emailUser) {\r\n      req.flash(\"error_msg\", \"Este Correo Ya Esta En Uso.\");\r\n      res.redirect(\"/users/signup\");\r\n    } else {\r\n      const newUser = new User({\r\n        username,\r\n        email,\r\n        password: await User.encryptPassword(password),\r\n      });\r\n      if (roles) {\r\n        const foundRoles = await Role.find({ name: { $in: roles } });\r\n        newUser.roles = foundRoles.map((role) => role._id);\r\n      } else {\r\n        const role = await Role.findOne({ name: \"user\" });\r\n        newUser.roles = [role._id];\r\n      }\r\n      const savedUser = await newUser.save();\r\n      console.log(savedUser);\r\n      const token = jwt.sign({ id: savedUser._id }, config.SECRET, {\r\n        expiresIn: 86400, // 24 horas\r\n      });\r\n      console.log(token);\r\n      res.redirect(\"/productos\");\r\n    }\r\n  }\r\n};\r\nexport const renderproductos = (req, res) => res.render(\"/productos\");\r\n\r\nexport const renderSigninForm = (req, res) => res.render(\"users/signin\");\r\n\r\n\r\nexport const signin = async (req, res) => {\r\n  const userFound = await User.findOne({ email: req.body.email }).populate(\r\n    \"roles\"\r\n  );\r\n  if (!userFound) {\r\n    req.flash(\"error_msg\", \"Usuario no encontrado\");\r\n    return res.json({ status: \"off\"})\r\n  } else {\r\n    const matchPassword = await User.comparePassword(\r\n      req.body.password,\r\n      userFound.password\r\n    );\r\n    if (!matchPassword) {\r\n      req.flash(\"error_msg\", \"password incorrecto\");\r\n      return res.json({ status: \"off\"})\r\n    }\r\n    const token = jwt.sign({ id: userFound._id }, config.SECRET, {\r\n      expiresIn: 86400,\r\n    });\r\n    req.session.mail= token;\r\n    console.log(req.session.mail);\r\n    return res.json({ status: \"ok\", data: token });\r\n  }\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1619065494433
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\config\\\\passport.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\passport.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\passport.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\passport.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\",
        "sourceFileName": "passport.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _passportLocal = require(\"passport-local\");\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_passport.default.use(new _passportLocal.Strategy({\n  usernameField: 'email'\n}, async (email, password, done) => {\n  console.log(\"primera entrada\");\n  const user = await _User.default.findOne({\n    email: email\n  }).find();\n  console.log(\"encontramos al user\", user);\n\n  if (!user) {\n    return done(null, false, {\n      message: 'Usuario No Encontrado'\n    });\n  } else {\n    const match = await user.comparePassword(password);\n    console.log(\"asdasdasdasdas\", match);\n\n    if (match) {\n      return done(null, user);\n    } else {\n      return done(null, false, {\n        message: 'Contrasea Incorrecta'\n      });\n    }\n  }\n\n  return;\n}));\n\n_passport.default.serializeUser((user, done) => {\n  done(null, user.id);\n});\n\n_passport.default.deserializeUser((id, done) => {\n  _User.default.findById(id, (err, user) => {\n    done(err, user);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbInBhc3Nwb3J0IiwidXNlIiwiTG9jYWxTdHJhdGVneSIsInVzZXJuYW1lRmllbGQiLCJlbWFpbCIsInBhc3N3b3JkIiwiZG9uZSIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiVXNlciIsImZpbmRPbmUiLCJmaW5kIiwibWVzc2FnZSIsIm1hdGNoIiwiY29tcGFyZVBhc3N3b3JkIiwic2VyaWFsaXplVXNlciIsImlkIiwiZGVzZXJpYWxpemVVc2VyIiwiZmluZEJ5SWQiLCJlcnIiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBRUE7Ozs7QUFFQUEsa0JBQVNDLEdBQVQsQ0FDSSxJQUFJQyx1QkFBSixDQUNIO0FBQ0dDLEVBQUFBLGFBQWEsRUFBRTtBQURsQixDQURHLEVBSUEsT0FBT0MsS0FBUCxFQUFjQyxRQUFkLEVBQXdCQyxJQUF4QixLQUErQjtBQUMvQkMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVo7QUFDQSxRQUFNQyxJQUFJLEdBQUcsTUFBTUMsY0FBS0MsT0FBTCxDQUFhO0FBQUNQLElBQUFBLEtBQUssRUFBRUE7QUFBUixHQUFiLEVBQTZCUSxJQUE3QixFQUFuQjtBQUNBTCxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBWixFQUFtQ0MsSUFBbkM7O0FBQ0EsTUFBRyxDQUFDQSxJQUFKLEVBQVM7QUFDTCxXQUFPSCxJQUFJLENBQUMsSUFBRCxFQUFPLEtBQVAsRUFBYztBQUFDTyxNQUFBQSxPQUFPLEVBQUU7QUFBVixLQUFkLENBQVg7QUFDSCxHQUZELE1BRUs7QUFDSCxVQUFNQyxLQUFLLEdBQUcsTUFBTUwsSUFBSSxDQUFDTSxlQUFMLENBQXFCVixRQUFyQixDQUFwQjtBQUNBRSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWixFQUE4Qk0sS0FBOUI7O0FBQ0UsUUFBR0EsS0FBSCxFQUFTO0FBQ0wsYUFBT1IsSUFBSSxDQUFFLElBQUYsRUFBUUcsSUFBUixDQUFYO0FBQ0gsS0FGRCxNQUVNO0FBQ0YsYUFBT0gsSUFBSSxDQUFDLElBQUQsRUFBTSxLQUFOLEVBQWE7QUFBQ08sUUFBQUEsT0FBTyxFQUFFO0FBQVYsT0FBYixDQUFYO0FBQ0g7QUFDSjs7QUFDRDtBQUNILENBcEJHLENBREo7O0FBdUJBYixrQkFBU2dCLGFBQVQsQ0FBdUIsQ0FBQ1AsSUFBRCxFQUFNSCxJQUFOLEtBQWE7QUFDaENBLEVBQUFBLElBQUksQ0FBQyxJQUFELEVBQU9HLElBQUksQ0FBQ1EsRUFBWixDQUFKO0FBQ0gsQ0FGRDs7QUFJQWpCLGtCQUFTa0IsZUFBVCxDQUF5QixDQUFDRCxFQUFELEVBQUtYLElBQUwsS0FBWTtBQUNqQ0ksZ0JBQUtTLFFBQUwsQ0FBY0YsRUFBZCxFQUFpQixDQUFDRyxHQUFELEVBQUtYLElBQUwsS0FBWTtBQUN6QkgsSUFBQUEsSUFBSSxDQUFDYyxHQUFELEVBQUtYLElBQUwsQ0FBSjtBQUNILEdBRkQ7QUFHSCxDQUpEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xcY29uZmlnXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFzc3BvcnQgZnJvbSBcInBhc3Nwb3J0XCI7XHJcbmltcG9ydCB7IFN0cmF0ZWd5IGFzIExvY2FsU3RyYXRlZ3kgfSBmcm9tIFwicGFzc3BvcnQtbG9jYWxcIjtcclxuXHJcbmltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvVXNlclwiXHJcblxyXG5wYXNzcG9ydC51c2UoXHJcbiAgICBuZXcgTG9jYWxTdHJhdGVneShcclxuIHtcclxuICAgIHVzZXJuYW1lRmllbGQ6ICdlbWFpbCcsXHJcbn0sXHJcbiAgICBhc3luYyAoZW1haWwsIHBhc3N3b3JkLCBkb25lKT0+e1xyXG4gICAgY29uc29sZS5sb2coXCJwcmltZXJhIGVudHJhZGFcIik7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtlbWFpbDogZW1haWx9KS5maW5kKCk7XHJcbiAgICBjb25zb2xlLmxvZyhcImVuY29udHJhbW9zIGFsIHVzZXJcIiwgdXNlcik7XHJcbiAgICBpZighdXNlcil7XHJcbiAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHttZXNzYWdlOiAnVXN1YXJpbyBObyBFbmNvbnRyYWRvJ30pO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgdXNlci5jb21wYXJlUGFzc3dvcmQocGFzc3dvcmQpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcImFzZGFzZGFzZGFzZGFzXCIsIG1hdGNoKVxyXG4gICAgICAgIGlmKG1hdGNoKXtcclxuICAgICAgICAgICAgcmV0dXJuIGRvbmUgKG51bGwsIHVzZXIpO1xyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCxmYWxzZSwge21lc3NhZ2U6ICdDb250cmFzZcOxYSBJbmNvcnJlY3RhJ30pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybjtcclxufSkpO1xyXG5cclxucGFzc3BvcnQuc2VyaWFsaXplVXNlcigodXNlcixkb25lKT0+e1xyXG4gICAgZG9uZShudWxsLCB1c2VyLmlkKTtcclxufSk7XHJcblxyXG5wYXNzcG9ydC5kZXNlcmlhbGl6ZVVzZXIoKGlkLCBkb25lKT0+e1xyXG4gICAgVXNlci5maW5kQnlJZChpZCwoZXJyLHVzZXIpPT57XHJcbiAgICAgICAgZG9uZShlcnIsdXNlcik7XHJcbiAgICB9KTtcclxufSk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [
        "passport",
        "use",
        "LocalStrategy",
        "usernameField",
        "email",
        "password",
        "done",
        "console",
        "log",
        "user",
        "User",
        "findOne",
        "find",
        "message",
        "match",
        "comparePassword",
        "serializeUser",
        "id",
        "deserializeUser",
        "findById",
        "err"
      ],
      "mappings": ";;AAAA;;AACA;;AAEA;;;;AAEAA,kBAASC,GAAT,CACI,IAAIC,uBAAJ,CACH;AACGC,EAAAA,aAAa,EAAE;AADlB,CADG,EAIA,OAAOC,KAAP,EAAcC,QAAd,EAAwBC,IAAxB,KAA+B;AAC/BC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,QAAMC,IAAI,GAAG,MAAMC,cAAKC,OAAL,CAAa;AAACP,IAAAA,KAAK,EAAEA;AAAR,GAAb,EAA6BQ,IAA7B,EAAnB;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCC,IAAnC;;AACA,MAAG,CAACA,IAAJ,EAAS;AACL,WAAOH,IAAI,CAAC,IAAD,EAAO,KAAP,EAAc;AAACO,MAAAA,OAAO,EAAE;AAAV,KAAd,CAAX;AACH,GAFD,MAEK;AACH,UAAMC,KAAK,GAAG,MAAML,IAAI,CAACM,eAAL,CAAqBV,QAArB,CAApB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BM,KAA9B;;AACE,QAAGA,KAAH,EAAS;AACL,aAAOR,IAAI,CAAE,IAAF,EAAQG,IAAR,CAAX;AACH,KAFD,MAEM;AACF,aAAOH,IAAI,CAAC,IAAD,EAAM,KAAN,EAAa;AAACO,QAAAA,OAAO,EAAE;AAAV,OAAb,CAAX;AACH;AACJ;;AACD;AACH,CApBG,CADJ;;AAuBAb,kBAASgB,aAAT,CAAuB,CAACP,IAAD,EAAMH,IAAN,KAAa;AAChCA,EAAAA,IAAI,CAAC,IAAD,EAAOG,IAAI,CAACQ,EAAZ,CAAJ;AACH,CAFD;;AAIAjB,kBAASkB,eAAT,CAAyB,CAACD,EAAD,EAAKX,IAAL,KAAY;AACjCI,gBAAKS,QAAL,CAAcF,EAAd,EAAiB,CAACG,GAAD,EAAKX,IAAL,KAAY;AACzBH,IAAAA,IAAI,CAACc,GAAD,EAAKX,IAAL,CAAJ;AACH,GAFD;AAGH,CAJD",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\config\\",
      "sourcesContent": [
        "import passport from \"passport\";\r\nimport { Strategy as LocalStrategy } from \"passport-local\";\r\n\r\nimport User from \"../models/User\"\r\n\r\npassport.use(\r\n    new LocalStrategy(\r\n {\r\n    usernameField: 'email',\r\n},\r\n    async (email, password, done)=>{\r\n    console.log(\"primera entrada\");\r\n    const user = await User.findOne({email: email}).find();\r\n    console.log(\"encontramos al user\", user);\r\n    if(!user){\r\n        return done(null, false, {message: 'Usuario No Encontrado'});\r\n    }else{\r\n      const match = await user.comparePassword(password);\r\n      console.log(\"asdasdasdasdas\", match)\r\n        if(match){\r\n            return done (null, user);\r\n        } else{\r\n            return done(null,false, {message: 'Contrasea Incorrecta'});\r\n        }\r\n    }\r\n    return;\r\n}));\r\n\r\npassport.serializeUser((user,done)=>{\r\n    done(null, user.id);\r\n});\r\n\r\npassport.deserializeUser((id, done)=>{\r\n    User.findById(id,(err,user)=>{\r\n        done(err,user);\r\n    });\r\n});\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1618976356272
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\user.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\user.routes.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\user.routes.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\user.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "user.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar userCtrl = _interopRequireWildcard(require(\"../controllers/user.controller\"));\n\nvar _middlewares = require(\"../middlewares\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst router = (0, _express.Router)();\nrouter.post('/', [_middlewares.authjwt.verifyToken, _middlewares.authjwt.isAdmin, _middlewares.verifySignup.checkRolesExisted], userCtrl.createUser);\nvar _default = _express.Router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIucm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInBvc3QiLCJhdXRoand0IiwidmVyaWZ5VG9rZW4iLCJpc0FkbWluIiwidmVyaWZ5U2lnbnVwIiwiY2hlY2tSb2xlc0V4aXN0ZWQiLCJ1c2VyQ3RybCIsImNyZWF0ZVVzZXIiLCJSb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFDQTs7Ozs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHLHNCQUFmO0FBSUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLEdBQVosRUFBZ0IsQ0FDWkMscUJBQVFDLFdBREksRUFFWkQscUJBQVFFLE9BRkksRUFHWkMsMEJBQWFDLGlCQUhELENBQWhCLEVBSUVDLFFBQVEsQ0FBQ0MsVUFKWDtlQVFlQyxlIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcydcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKClcclxuaW1wb3J0ICogYXMgdXNlckN0cmwgZnJvbSAnLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyJ1xyXG5pbXBvcnQge2F1dGhqd3QsIHZlcmlmeVNpZ251cH0gZnJvbSAnLi4vbWlkZGxld2FyZXMnXHJcblxyXG5yb3V0ZXIucG9zdCgnLycsW1xyXG4gICAgYXV0aGp3dC52ZXJpZnlUb2tlbixcclxuICAgIGF1dGhqd3QuaXNBZG1pbixcclxuICAgIHZlcmlmeVNpZ251cC5jaGVja1JvbGVzRXhpc3RlZFxyXG5dLHVzZXJDdHJsLmNyZWF0ZVVzZXIpXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.routes.js"
      ],
      "names": [
        "router",
        "post",
        "authjwt",
        "verifyToken",
        "isAdmin",
        "verifySignup",
        "checkRolesExisted",
        "userCtrl",
        "createUser",
        "Router"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;;;;;AAFA,MAAMA,MAAM,GAAG,sBAAf;AAIAA,MAAM,CAACC,IAAP,CAAY,GAAZ,EAAgB,CACZC,qBAAQC,WADI,EAEZD,qBAAQE,OAFI,EAGZC,0BAAaC,iBAHD,CAAhB,EAIEC,QAAQ,CAACC,UAJX;eAQeC,e",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "import {Router} from 'express'\r\nconst router = Router()\r\nimport * as userCtrl from '../controllers/user.controller'\r\nimport {authjwt, verifySignup} from '../middlewares'\r\n\r\nrouter.post('/',[\r\n    authjwt.verifyToken,\r\n    authjwt.isAdmin,\r\n    verifySignup.checkRolesExisted\r\n],userCtrl.createUser)\r\n\r\n\r\n\r\nexport default Router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619028327713
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\controllers\\\\user.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\user.controller.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\user.controller.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\user.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
        "sourceFileName": "user.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createUser = void 0;\n\nconst createUser = (req, res) => {\n  res.json('creating user');\n};\n\nexports.createUser = createUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJjcmVhdGVVc2VyIiwicmVxIiwicmVzIiwianNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLFVBQVUsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBWTtBQUNsQ0EsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVMsZUFBVDtBQUNILENBRk0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNyZWF0ZVVzZXIgPSAocmVxLCByZXMpPT57XHJcbiAgICByZXMuanNvbignY3JlYXRpbmcgdXNlcicpO1xyXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [
        "createUser",
        "req",
        "res",
        "json"
      ],
      "mappings": ";;;;;;;AAAO,MAAMA,UAAU,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAY;AAClCA,EAAAA,GAAG,CAACC,IAAJ,CAAS,eAAT;AACH,CAFM",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\controllers\\",
      "sourcesContent": [
        "export const createUser = (req, res)=>{\r\n    res.json('creating user');\r\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1618803626293
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\index.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst router = require('express').Router();\n\nrouter.get('/', (req, res) => {\n  res.render('index');\n});\nrouter.get('/about', (req, res) => {\n  res.render('about');\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlcXVpcmUiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkMsTUFBbkIsRUFBZjs7QUFHQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFlLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFZO0FBQ3ZCQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxPQUFYO0FBQ0gsQ0FGRDtBQUlBTixNQUFNLENBQUNHLEdBQVAsQ0FBVyxRQUFYLEVBQW9CLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFZO0FBQzVCQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxPQUFYO0FBQ0gsQ0FGRDtBQUlBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJSLE1BQWpCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUGNTbWFydFxcRGVza3RvcFxcQVBJIEFVVEhcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByb3V0ZXIgPSByZXF1aXJlKCdleHByZXNzJykuUm91dGVyKCk7XHJcblxyXG5cclxucm91dGVyLmdldCgnLycsKHJlcSwgcmVzKT0+e1xyXG4gICAgcmVzLnJlbmRlcignaW5kZXgnKTtcclxufSk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvYWJvdXQnLChyZXEsIHJlcyk9PntcclxuICAgIHJlcy5yZW5kZXIoJ2Fib3V0Jyk7XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "router",
        "require",
        "Router",
        "get",
        "req",
        "res",
        "render",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AAGAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAe,CAACC,GAAD,EAAMC,GAAN,KAAY;AACvBA,EAAAA,GAAG,CAACC,MAAJ,CAAW,OAAX;AACH,CAFD;AAIAN,MAAM,CAACG,GAAP,CAAW,QAAX,EAAoB,CAACC,GAAD,EAAMC,GAAN,KAAY;AAC5BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,OAAX;AACH,CAFD;AAIAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "const router = require('express').Router();\r\n\r\n\r\nrouter.get('/',(req, res)=>{\r\n    res.render('index');\r\n});\r\n\r\nrouter.get('/about',(req, res)=>{\r\n    res.render('about');\r\n});\r\n\r\nmodule.exports = router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619138769739
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\productos.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\productos.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\productos.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\productos.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "productos.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _Product = _interopRequireDefault(require(\"../models/Product\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  async\n} = require('regenerator-runtime');\n\nconst router = require('express').Router();\n\nrouter.get('/productos', async (req, res) => {\n  const product = await _Product.default.find().sort({\n    date: 'desc'\n  }).lean();\n\n  for (let i = 0; i < product.length; i++) {\n    product[i].price = formatterPeso.format(product[i].price);\n  }\n\n  res.render('productos/all-product', {\n    productox: product\n  });\n});\nrouter.get('/sesionoff', async (req, res) => {\n  req.flash('error_msg', 'Se ha Cerrado la Sesion');\n  res.redirect('/');\n});\nconst formatterPeso = new Intl.NumberFormat('es-CO', {\n  style: 'currency',\n  currency: 'COP',\n  minimumFractionDigits: 0\n});\nrouter.get('/users/logout', async (req, res) => {\n  req.session.destroy();\n  res.redirect('/');\n});\nrouter.get('/productos/add', (req, res) => {\n  res.render('productos/new-product');\n});\nrouter.get('/products/edit/:id', async (req, res) => {\n  const product = await _Product.default.findById(req.params.id).lean();\n  res.render('productos/edit-product', {\n    productox: product\n  });\n});\nrouter.delete('/products/delete/:id', async (req, res) => {\n  const product = await _Product.default.findById(req.params.id).lean();\n  res.redirect('productos/edit-product', {\n    productox: product\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3Rvcy5qcyJdLCJuYW1lcyI6WyJhc3luYyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJwcm9kdWN0IiwicHJvZHVjdG96IiwiZmluZCIsInNvcnQiLCJkYXRlIiwibGVhbiIsImkiLCJsZW5ndGgiLCJwcmljZSIsImZvcm1hdHRlclBlc28iLCJmb3JtYXQiLCJyZW5kZXIiLCJwcm9kdWN0b3giLCJmbGFzaCIsInJlZGlyZWN0IiwiSW50bCIsIk51bWJlckZvcm1hdCIsInN0eWxlIiwiY3VycmVuY3kiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJzZXNzaW9uIiwiZGVzdHJveSIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJkZWxldGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUNBOzs7O0FBREEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxxQkFBRCxDQUF6Qjs7QUFHQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJFLE1BQW5CLEVBQWY7O0FBRUFELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFlBQVgsRUFBeUIsT0FBT0MsR0FBUCxFQUFXQyxHQUFYLEtBQWlCO0FBQ3RDLFFBQU1DLE9BQU8sR0FBRyxNQUFNQyxpQkFBVUMsSUFBVixHQUFpQkMsSUFBakIsQ0FBc0I7QUFBQ0MsSUFBQUEsSUFBSSxFQUFFO0FBQVAsR0FBdEIsRUFBc0NDLElBQXRDLEVBQXRCOztBQUVBLE9BQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR04sT0FBTyxDQUFDTyxNQUE1QixFQUFvQ0QsQ0FBQyxFQUFyQyxFQUF5QztBQUNyQ04sSUFBQUEsT0FBTyxDQUFDTSxDQUFELENBQVAsQ0FBV0UsS0FBWCxHQUFtQkMsYUFBYSxDQUFDQyxNQUFkLENBQXFCVixPQUFPLENBQUNNLENBQUQsQ0FBUCxDQUFXRSxLQUFoQyxDQUFuQjtBQUNIOztBQUVEVCxFQUFBQSxHQUFHLENBQUNZLE1BQUosQ0FBVyx1QkFBWCxFQUFvQztBQUFDQyxJQUFBQSxTQUFTLEVBQUVaO0FBQVosR0FBcEM7QUFDSCxDQVJEO0FBU0FMLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFlBQVgsRUFBeUIsT0FBT0MsR0FBUCxFQUFXQyxHQUFYLEtBQWlCO0FBQ3RDRCxFQUFBQSxHQUFHLENBQUNlLEtBQUosQ0FBVSxXQUFWLEVBQXVCLHlCQUF2QjtBQUNBZCxFQUFBQSxHQUFHLENBQUNlLFFBQUosQ0FBYSxHQUFiO0FBQ0gsQ0FIRDtBQUlBLE1BQU1MLGFBQWEsR0FBRyxJQUFJTSxJQUFJLENBQUNDLFlBQVQsQ0FBc0IsT0FBdEIsRUFBK0I7QUFDakRDLEVBQUFBLEtBQUssRUFBRSxVQUQwQztBQUVqREMsRUFBQUEsUUFBUSxFQUFFLEtBRnVDO0FBR2pEQyxFQUFBQSxxQkFBcUIsRUFBRTtBQUgwQixDQUEvQixDQUF0QjtBQUtBeEIsTUFBTSxDQUFDRSxHQUFQLENBQVcsZUFBWCxFQUE0QixPQUFPQyxHQUFQLEVBQVdDLEdBQVgsS0FBaUI7QUFDekNELEVBQUFBLEdBQUcsQ0FBQ3NCLE9BQUosQ0FBWUMsT0FBWjtBQUNBdEIsRUFBQUEsR0FBRyxDQUFDZSxRQUFKLENBQWEsR0FBYjtBQUNILENBSEQ7QUFLQW5CLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLGdCQUFYLEVBQTRCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFZO0FBQ3BDQSxFQUFBQSxHQUFHLENBQUNZLE1BQUosQ0FBVyx1QkFBWDtBQUNILENBRkQ7QUFJQWhCLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLG9CQUFYLEVBQWlDLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFrQjtBQUMvQyxRQUFNQyxPQUFPLEdBQUcsTUFBTUMsaUJBQVVxQixRQUFWLENBQW1CeEIsR0FBRyxDQUFDeUIsTUFBSixDQUFXQyxFQUE5QixFQUFrQ25CLElBQWxDLEVBQXRCO0FBQ0FOLEVBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLHdCQUFYLEVBQXFDO0FBQUNDLElBQUFBLFNBQVMsRUFBRVo7QUFBWixHQUFyQztBQUNILENBSEQ7QUFLQUwsTUFBTSxDQUFDOEIsTUFBUCxDQUFjLHNCQUFkLEVBQXNDLE9BQU0zQixHQUFOLEVBQVVDLEdBQVYsS0FBZ0I7QUFDbEQsUUFBTUMsT0FBTyxHQUFHLE1BQU1DLGlCQUFVcUIsUUFBVixDQUFtQnhCLEdBQUcsQ0FBQ3lCLE1BQUosQ0FBV0MsRUFBOUIsRUFBa0NuQixJQUFsQyxFQUF0QjtBQUNBTixFQUFBQSxHQUFHLENBQUNlLFFBQUosQ0FBYSx3QkFBYixFQUF1QztBQUFDRixJQUFBQSxTQUFTLEVBQUVaO0FBQVosR0FBdkM7QUFDSCxDQUhEO0FBSUEwQixNQUFNLENBQUNDLE9BQVAsR0FBaUJoQyxNQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBjU21hcnRcXERlc2t0b3BcXEFQSSBBVVRIXFxzcmNcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBhc3luYyB9ID0gcmVxdWlyZSgncmVnZW5lcmF0b3ItcnVudGltZScpO1xyXG5pbXBvcnQgcHJvZHVjdG96IGZyb20gJy4uL21vZGVscy9Qcm9kdWN0J1xyXG5cclxuY29uc3Qgcm91dGVyID0gcmVxdWlyZSgnZXhwcmVzcycpLlJvdXRlcigpO1xyXG5cclxucm91dGVyLmdldCgnL3Byb2R1Y3RvcycsIGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Rvei5maW5kKCkuc29ydCh7ZGF0ZTogJ2Rlc2MnfSkubGVhbigpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHByb2R1Y3RbaV0ucHJpY2UgPSBmb3JtYXR0ZXJQZXNvLmZvcm1hdChwcm9kdWN0W2ldLnByaWNlKTtcclxuICAgIH0gXHJcblxyXG4gICAgcmVzLnJlbmRlcigncHJvZHVjdG9zL2FsbC1wcm9kdWN0Jywge3Byb2R1Y3RveDogcHJvZHVjdCB9KTtcclxufSk7XHJcbnJvdXRlci5nZXQoJy9zZXNpb25vZmYnLCBhc3luYyAocmVxLHJlcyk9PntcclxuICAgIHJlcS5mbGFzaCgnZXJyb3JfbXNnJywgJ1NlIGhhIENlcnJhZG8gbGEgU2VzaW9uJyk7XHJcbiAgICByZXMucmVkaXJlY3QoJy8nKTtcclxufSk7XHJcbmNvbnN0IGZvcm1hdHRlclBlc28gPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VzLUNPJywge1xyXG4gICAgc3R5bGU6ICdjdXJyZW5jeScsXHJcbiAgICBjdXJyZW5jeTogJ0NPUCcsXHJcbiAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDBcclxuICB9KTtcclxucm91dGVyLmdldCgnL3VzZXJzL2xvZ291dCcsIGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgcmVxLnNlc3Npb24uZGVzdHJveSgpO1xyXG4gICAgcmVzLnJlZGlyZWN0KCcvJyk7XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnL3Byb2R1Y3Rvcy9hZGQnLChyZXEsIHJlcyk9PntcclxuICAgIHJlcy5yZW5kZXIoJ3Byb2R1Y3Rvcy9uZXctcHJvZHVjdCcpO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoJy9wcm9kdWN0cy9lZGl0LzppZCcsIGFzeW5jIChyZXEsIHJlcyk9PntcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0b3ouZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkubGVhbigpO1xyXG4gICAgcmVzLnJlbmRlcigncHJvZHVjdG9zL2VkaXQtcHJvZHVjdCcsIHtwcm9kdWN0b3g6IHByb2R1Y3R9KTtcclxufSk7XHJcblxyXG5yb3V0ZXIuZGVsZXRlKCcvcHJvZHVjdHMvZGVsZXRlLzppZCcsIGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdG96LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLmxlYW4oKTtcclxuICAgIHJlcy5yZWRpcmVjdCgncHJvZHVjdG9zL2VkaXQtcHJvZHVjdCcsIHtwcm9kdWN0b3g6IHByb2R1Y3R9KTtcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productos.js"
      ],
      "names": [
        "async",
        "require",
        "router",
        "Router",
        "get",
        "req",
        "res",
        "product",
        "productoz",
        "find",
        "sort",
        "date",
        "lean",
        "i",
        "length",
        "price",
        "formatterPeso",
        "format",
        "render",
        "productox",
        "flash",
        "redirect",
        "Intl",
        "NumberFormat",
        "style",
        "currency",
        "minimumFractionDigits",
        "session",
        "destroy",
        "findById",
        "params",
        "id",
        "delete",
        "module",
        "exports"
      ],
      "mappings": ";;AACA;;;;AADA,MAAM;AAAEA,EAAAA;AAAF,IAAYC,OAAO,CAAC,qBAAD,CAAzB;;AAGA,MAAMC,MAAM,GAAGD,OAAO,CAAC,SAAD,CAAP,CAAmBE,MAAnB,EAAf;;AAEAD,MAAM,CAACE,GAAP,CAAW,YAAX,EAAyB,OAAOC,GAAP,EAAWC,GAAX,KAAiB;AACtC,QAAMC,OAAO,GAAG,MAAMC,iBAAUC,IAAV,GAAiBC,IAAjB,CAAsB;AAACC,IAAAA,IAAI,EAAE;AAAP,GAAtB,EAAsCC,IAAtC,EAAtB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,OAAO,CAACO,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrCN,IAAAA,OAAO,CAACM,CAAD,CAAP,CAAWE,KAAX,GAAmBC,aAAa,CAACC,MAAd,CAAqBV,OAAO,CAACM,CAAD,CAAP,CAAWE,KAAhC,CAAnB;AACH;;AAEDT,EAAAA,GAAG,CAACY,MAAJ,CAAW,uBAAX,EAAoC;AAACC,IAAAA,SAAS,EAAEZ;AAAZ,GAApC;AACH,CARD;AASAL,MAAM,CAACE,GAAP,CAAW,YAAX,EAAyB,OAAOC,GAAP,EAAWC,GAAX,KAAiB;AACtCD,EAAAA,GAAG,CAACe,KAAJ,CAAU,WAAV,EAAuB,yBAAvB;AACAd,EAAAA,GAAG,CAACe,QAAJ,CAAa,GAAb;AACH,CAHD;AAIA,MAAML,aAAa,GAAG,IAAIM,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;AACjDC,EAAAA,KAAK,EAAE,UAD0C;AAEjDC,EAAAA,QAAQ,EAAE,KAFuC;AAGjDC,EAAAA,qBAAqB,EAAE;AAH0B,CAA/B,CAAtB;AAKAxB,MAAM,CAACE,GAAP,CAAW,eAAX,EAA4B,OAAOC,GAAP,EAAWC,GAAX,KAAiB;AACzCD,EAAAA,GAAG,CAACsB,OAAJ,CAAYC,OAAZ;AACAtB,EAAAA,GAAG,CAACe,QAAJ,CAAa,GAAb;AACH,CAHD;AAKAnB,MAAM,CAACE,GAAP,CAAW,gBAAX,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAY;AACpCA,EAAAA,GAAG,CAACY,MAAJ,CAAW,uBAAX;AACH,CAFD;AAIAhB,MAAM,CAACE,GAAP,CAAW,oBAAX,EAAiC,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AAC/C,QAAMC,OAAO,GAAG,MAAMC,iBAAUqB,QAAV,CAAmBxB,GAAG,CAACyB,MAAJ,CAAWC,EAA9B,EAAkCnB,IAAlC,EAAtB;AACAN,EAAAA,GAAG,CAACY,MAAJ,CAAW,wBAAX,EAAqC;AAACC,IAAAA,SAAS,EAAEZ;AAAZ,GAArC;AACH,CAHD;AAKAL,MAAM,CAAC8B,MAAP,CAAc,sBAAd,EAAsC,OAAM3B,GAAN,EAAUC,GAAV,KAAgB;AAClD,QAAMC,OAAO,GAAG,MAAMC,iBAAUqB,QAAV,CAAmBxB,GAAG,CAACyB,MAAJ,CAAWC,EAA9B,EAAkCnB,IAAlC,EAAtB;AACAN,EAAAA,GAAG,CAACe,QAAJ,CAAa,wBAAb,EAAuC;AAACF,IAAAA,SAAS,EAAEZ;AAAZ,GAAvC;AACH,CAHD;AAIA0B,MAAM,CAACC,OAAP,GAAiBhC,MAAjB",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "const { async } = require('regenerator-runtime');\r\nimport productoz from '../models/Product'\r\n\r\nconst router = require('express').Router();\r\n\r\nrouter.get('/productos', async (req,res)=>{\r\n    const product = await productoz.find().sort({date: 'desc'}).lean();\r\n\r\n    for (let i = 0; i < product.length; i++) {\r\n        product[i].price = formatterPeso.format(product[i].price);\r\n    } \r\n\r\n    res.render('productos/all-product', {productox: product });\r\n});\r\nrouter.get('/sesionoff', async (req,res)=>{\r\n    req.flash('error_msg', 'Se ha Cerrado la Sesion');\r\n    res.redirect('/');\r\n});\r\nconst formatterPeso = new Intl.NumberFormat('es-CO', {\r\n    style: 'currency',\r\n    currency: 'COP',\r\n    minimumFractionDigits: 0\r\n  });\r\nrouter.get('/users/logout', async (req,res)=>{\r\n    req.session.destroy();\r\n    res.redirect('/');\r\n});\r\n\r\nrouter.get('/productos/add',(req, res)=>{\r\n    res.render('productos/new-product');\r\n});\r\n\r\nrouter.get('/products/edit/:id', async (req, res)=>{\r\n    const product = await productoz.findById(req.params.id).lean();\r\n    res.render('productos/edit-product', {productox: product});\r\n});\r\n\r\nrouter.delete('/products/delete/:id', async(req,res)=>{\r\n    const product = await productoz.findById(req.params.id).lean();\r\n    res.redirect('productos/edit-product', {productox: product});\r\n});\r\nmodule.exports = router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1619067780264
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"filename\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\\\\src\\\\routes\\\\users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\PcSmart\\\\Desktop\\\\API AUTH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.16": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\users.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\PcSmart\\Desktop\\API AUTH",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\users.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _User = _interopRequireDefault(require(\"../models/User\"));\n\nvar _Role = _interopRequireDefault(require(\"../models/Role\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = require(\"express\").Router();\n\nrouter.get(\"/users/signin\", (req, res) => {\n  res.render(\"users/signin\");\n});\nrouter.get(\"/users/signup\", (req, res) => {\n  res.render(\"users/signup\");\n});\nrouter.get(\"/users/usuarios\", async (req, res) => {\n  const usuario = await _User.default.find().sort({\n    date: \"desc\"\n  }).lean();\n  const escrito = \"activo\";\n  console.log(\"sus usuarios\", usuario);\n\n  for (let i = 0; i < usuario.length; i++) {\n    const roles = await _Role.default.find({\n      _id: {\n        $in: usuario[i].roles\n      }\n    });\n    console.log(roles);\n    usuario[i].turno = i;\n\n    for (let j = 0; j < roles.length; j++) {\n      usuario[i].rol = roles[j].name;\n      console.log(usuario[i].rol);\n    }\n\n    if (usuario[i].estado < 1) {\n      usuario[i].estadoz = \"Inactivo\";\n    } else {\n      usuario[i].estadoz = \"Activo\";\n    }\n  }\n\n  res.render(\"users/editor\", {\n    usuario\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlcXVpcmUiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJ1c3VhcmlvIiwidXN1YXJpb3giLCJmaW5kIiwic29ydCIsImRhdGUiLCJsZWFuIiwiZXNjcml0byIsImNvbnNvbGUiLCJsb2ciLCJpIiwibGVuZ3RoIiwicm9sZXMiLCJyb2xlIiwiX2lkIiwiJGluIiwidHVybm8iLCJqIiwicm9sIiwibmFtZSIsImVzdGFkbyIsImVzdGFkb3oiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOzs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CQyxNQUFuQixFQUFmOztBQUlBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxlQUFYLEVBQTRCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3hDQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxjQUFYO0FBQ0QsQ0FGRDtBQUdBTixNQUFNLENBQUNHLEdBQVAsQ0FBVyxlQUFYLEVBQTRCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3hDQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxjQUFYO0FBQ0QsQ0FGRDtBQUdBTixNQUFNLENBQUNHLEdBQVAsQ0FBVyxpQkFBWCxFQUE4QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDaEQsUUFBTUUsT0FBTyxHQUFHLE1BQU1DLGNBQVNDLElBQVQsR0FBZ0JDLElBQWhCLENBQXFCO0FBQUVDLElBQUFBLElBQUksRUFBRTtBQUFSLEdBQXJCLEVBQXVDQyxJQUF2QyxFQUF0QjtBQUNBLFFBQU1DLE9BQU8sR0FBRyxRQUFoQjtBQUNBQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTJCUixPQUEzQjs7QUFDQSxPQUFLLElBQUlTLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdULE9BQU8sQ0FBQ1UsTUFBNUIsRUFBb0NELENBQUMsRUFBckMsRUFBeUM7QUFDdkMsVUFBTUUsS0FBSyxHQUFHLE1BQU1DLGNBQUtWLElBQUwsQ0FBVTtBQUFFVyxNQUFBQSxHQUFHLEVBQUU7QUFBRUMsUUFBQUEsR0FBRyxFQUFFZCxPQUFPLENBQUNTLENBQUQsQ0FBUCxDQUFXRTtBQUFsQjtBQUFQLEtBQVYsQ0FBcEI7QUFDQUosSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlHLEtBQVo7QUFDQVgsSUFBQUEsT0FBTyxDQUFDUyxDQUFELENBQVAsQ0FBV00sS0FBWCxHQUFpQk4sQ0FBakI7O0FBQ0EsU0FBSyxJQUFJTyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHTCxLQUFLLENBQUNELE1BQTFCLEVBQWtDTSxDQUFDLEVBQW5DLEVBQXVDO0FBQ3JDaEIsTUFBQUEsT0FBTyxDQUFDUyxDQUFELENBQVAsQ0FBV1EsR0FBWCxHQUFnQk4sS0FBSyxDQUFDSyxDQUFELENBQUwsQ0FBU0UsSUFBekI7QUFDQVgsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlSLE9BQU8sQ0FBQ1MsQ0FBRCxDQUFQLENBQVdRLEdBQXZCO0FBQ0Q7O0FBQ0QsUUFBSWpCLE9BQU8sQ0FBQ1MsQ0FBRCxDQUFQLENBQVdVLE1BQVgsR0FBb0IsQ0FBeEIsRUFBMkI7QUFDekJuQixNQUFBQSxPQUFPLENBQUNTLENBQUQsQ0FBUCxDQUFXVyxPQUFYLEdBQXFCLFVBQXJCO0FBQ0QsS0FGRCxNQUVPO0FBQ0xwQixNQUFBQSxPQUFPLENBQUNTLENBQUQsQ0FBUCxDQUFXVyxPQUFYLEdBQXFCLFFBQXJCO0FBQ0Q7QUFDRjs7QUFFRHRCLEVBQUFBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLGNBQVgsRUFBMkI7QUFBRUMsSUFBQUE7QUFBRixHQUEzQjtBQUNELENBcEJEO0FBcUJBcUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCN0IsTUFBakIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxQY1NtYXJ0XFxEZXNrdG9wXFxBUEkgQVVUSFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvdXRlciA9IHJlcXVpcmUoXCJleHByZXNzXCIpLlJvdXRlcigpO1xyXG5pbXBvcnQgdXN1YXJpb3ggZnJvbSBcIi4uL21vZGVscy9Vc2VyXCI7XHJcbmltcG9ydCByb2xlIGZyb20gXCIuLi9tb2RlbHMvUm9sZVwiO1xyXG5cclxucm91dGVyLmdldChcIi91c2Vycy9zaWduaW5cIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLnJlbmRlcihcInVzZXJzL3NpZ25pblwiKTtcclxufSk7XHJcbnJvdXRlci5nZXQoXCIvdXNlcnMvc2lnbnVwXCIsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5yZW5kZXIoXCJ1c2Vycy9zaWdudXBcIik7XHJcbn0pO1xyXG5yb3V0ZXIuZ2V0KFwiL3VzZXJzL3VzdWFyaW9zXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHVzdWFyaW8gPSBhd2FpdCB1c3VhcmlveC5maW5kKCkuc29ydCh7IGRhdGU6IFwiZGVzY1wiIH0pLmxlYW4oKTtcclxuICBjb25zdCBlc2NyaXRvID0gXCJhY3Rpdm9cIjtcclxuICBjb25zb2xlLmxvZyhcInN1cyB1c3Vhcmlvc1wiLHVzdWFyaW8pXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c3VhcmlvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCByb2xlcyA9IGF3YWl0IHJvbGUuZmluZCh7IF9pZDogeyAkaW46IHVzdWFyaW9baV0ucm9sZXMgfSB9KTtcclxuICAgIGNvbnNvbGUubG9nKHJvbGVzKTtcclxuICAgIHVzdWFyaW9baV0udHVybm89aTtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm9sZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgdXN1YXJpb1tpXS5yb2w9IHJvbGVzW2pdLm5hbWU7XHJcbiAgICAgIGNvbnNvbGUubG9nKHVzdWFyaW9baV0ucm9sKVxyXG4gICAgfVxyXG4gICAgaWYgKHVzdWFyaW9baV0uZXN0YWRvIDwgMSkge1xyXG4gICAgICB1c3VhcmlvW2ldLmVzdGFkb3ogPSBcIkluYWN0aXZvXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1c3VhcmlvW2ldLmVzdGFkb3ogPSBcIkFjdGl2b1wiO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXMucmVuZGVyKFwidXNlcnMvZWRpdG9yXCIsIHsgdXN1YXJpbyB9KTtcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "router",
        "require",
        "Router",
        "get",
        "req",
        "res",
        "render",
        "usuario",
        "usuariox",
        "find",
        "sort",
        "date",
        "lean",
        "escrito",
        "console",
        "log",
        "i",
        "length",
        "roles",
        "role",
        "_id",
        "$in",
        "turno",
        "j",
        "rol",
        "name",
        "estado",
        "estadoz",
        "module",
        "exports"
      ],
      "mappings": ";;AACA;;AACA;;;;AAFA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AAIAF,MAAM,CAACG,GAAP,CAAW,eAAX,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACxCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,cAAX;AACD,CAFD;AAGAN,MAAM,CAACG,GAAP,CAAW,eAAX,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACxCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,cAAX;AACD,CAFD;AAGAN,MAAM,CAACG,GAAP,CAAW,iBAAX,EAA8B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAChD,QAAME,OAAO,GAAG,MAAMC,cAASC,IAAT,GAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAArB,EAAuCC,IAAvC,EAAtB;AACA,QAAMC,OAAO,GAAG,QAAhB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BR,OAA3B;;AACA,OAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,OAAO,CAACU,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,UAAME,KAAK,GAAG,MAAMC,cAAKV,IAAL,CAAU;AAAEW,MAAAA,GAAG,EAAE;AAAEC,QAAAA,GAAG,EAAEd,OAAO,CAACS,CAAD,CAAP,CAAWE;AAAlB;AAAP,KAAV,CAApB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACAX,IAAAA,OAAO,CAACS,CAAD,CAAP,CAAWM,KAAX,GAAiBN,CAAjB;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,KAAK,CAACD,MAA1B,EAAkCM,CAAC,EAAnC,EAAuC;AACrChB,MAAAA,OAAO,CAACS,CAAD,CAAP,CAAWQ,GAAX,GAAgBN,KAAK,CAACK,CAAD,CAAL,CAASE,IAAzB;AACAX,MAAAA,OAAO,CAACC,GAAR,CAAYR,OAAO,CAACS,CAAD,CAAP,CAAWQ,GAAvB;AACD;;AACD,QAAIjB,OAAO,CAACS,CAAD,CAAP,CAAWU,MAAX,GAAoB,CAAxB,EAA2B;AACzBnB,MAAAA,OAAO,CAACS,CAAD,CAAP,CAAWW,OAAX,GAAqB,UAArB;AACD,KAFD,MAEO;AACLpB,MAAAA,OAAO,CAACS,CAAD,CAAP,CAAWW,OAAX,GAAqB,QAArB;AACD;AACF;;AAEDtB,EAAAA,GAAG,CAACC,MAAJ,CAAW,cAAX,EAA2B;AAAEC,IAAAA;AAAF,GAA3B;AACD,CApBD;AAqBAqB,MAAM,CAACC,OAAP,GAAiB7B,MAAjB",
      "sourceRoot": "C:\\Users\\PcSmart\\Desktop\\API AUTH\\src\\routes\\",
      "sourcesContent": [
        "const router = require(\"express\").Router();\r\nimport usuariox from \"../models/User\";\r\nimport role from \"../models/Role\";\r\n\r\nrouter.get(\"/users/signin\", (req, res) => {\r\n  res.render(\"users/signin\");\r\n});\r\nrouter.get(\"/users/signup\", (req, res) => {\r\n  res.render(\"users/signup\");\r\n});\r\nrouter.get(\"/users/usuarios\", async (req, res) => {\r\n  const usuario = await usuariox.find().sort({ date: \"desc\" }).lean();\r\n  const escrito = \"activo\";\r\n  console.log(\"sus usuarios\",usuario)\r\n  for (let i = 0; i < usuario.length; i++) {\r\n    const roles = await role.find({ _id: { $in: usuario[i].roles } });\r\n    console.log(roles);\r\n    usuario[i].turno=i;\r\n    for (let j = 0; j < roles.length; j++) {\r\n      usuario[i].rol= roles[j].name;\r\n      console.log(usuario[i].rol)\r\n    }\r\n    if (usuario[i].estado < 1) {\r\n      usuario[i].estadoz = \"Inactivo\";\r\n    } else {\r\n      usuario[i].estadoz = \"Activo\";\r\n    }\r\n  }\r\n  \r\n  res.render(\"users/editor\", { usuario });\r\n});\r\nmodule.exports = router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1619140381343
  }
}